{"ast":null,"code":"import React,{useState,useEffect}from'react';import'./CreateWorkout.css';// ××™×¤×•×™ ×¡×¤×•×¨×˜×™× (×ª×•×× ×œ×©×¨×ª ×©×œ×š)\nimport{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const SPORT_MAPPING={1:'×›×“×•×¨×’×œ',2:'×›×“×•×¨×¡×œ',3:'×˜×™×¤×•×¡',4:'×—×“×¨ ×›×•×©×¨',5:'×§×•×¨×“×™× ×¦×™×”',6:'×˜× ×™×¡',7:'×¤×™× ×’×¤×•× ×’',8:'×¨×™×§×•×“',9:'××•×¤× ×™×™×'};// ××œ×’×•×¨×™×ª× ×”×•× ×’×¨×™ ××œ× ×•××ª×•×§×Ÿ ×œ××•×¤×˜×™××œ×™×•×ª ××§×¡×™××œ×™×ª\nclass OptimalHungarianAlgorithm{constructor(matrix){this.originalMatrix=matrix.map(row=>[...row]);this.matrix=matrix.map(row=>[...row]);this.n=this.matrix.length;this.rowCovered=new Array(this.n).fill(false);this.colCovered=new Array(this.n).fill(false);this.assignment=new Array(this.n).fill(-1);this.starredZeros=new Set();this.primedZeros=new Set();this.path=[];console.log('ğŸ”¥ ××ª×—×™×œ ××œ×’×•×¨×™×ª× ×”×•× ×’×¨×™ ××•×¤×˜×™××œ×™ ××œ×');console.log('×’×•×“×œ ××˜×¨×™×¦×”:',this.n+'x'+this.n);}solve(){// Step 1: Reduce matrix by subtracting row and column minimums\nthis.reduceMatrix();let step=2;let iterations=0;const maxIterations=this.n*this.n;while(step!==6&&iterations<maxIterations){console.log(`ğŸ”„ ×©×œ×‘ ${step}, ××™×˜×¨×¦×™×” ${iterations}`);switch(step){case 2:step=this.findInitialZeros();break;case 3:step=this.coverStarredColumns();break;case 4:step=this.findUncoveredZero();break;case 5:step=this.constructAugmentingPath();break;}iterations++;}if(step===6){console.log('âœ… ××œ×’×•×¨×™×ª× ×”×•× ×’×¨×™ ×”×•×©×œ× ×‘×”×¦×œ×—×”');console.log('××¡×¤×¨ ××™×˜×¨×¦×™×•×ª:',iterations);this.extractAssignment();return this.assignment;}else{console.log('âŒ ××œ×’×•×¨×™×ª× ×”×•× ×’×¨×™ ×œ× ×”×ª×›× ×¡');return this.createFallbackAssignment();}}reduceMatrix(){console.log('ğŸ”§ ××¤×—×™×ª ××˜×¨×™×¦×”...');// Subtract row minimums\nfor(let i=0;i<this.n;i++){const finiteValues=this.matrix[i].filter(val=>val<Infinity);if(finiteValues.length>0){const minVal=Math.min(...finiteValues);if(minVal>0){for(let j=0;j<this.n;j++){if(this.matrix[i][j]<Infinity){this.matrix[i][j]-=minVal;}}}}}// Subtract column minimums\nfor(let j=0;j<this.n;j++){const column=[];for(let i=0;i<this.n;i++){if(this.matrix[i][j]<Infinity){column.push(this.matrix[i][j]);}}if(column.length>0){const minVal=Math.min(...column);if(minVal>0){for(let i=0;i<this.n;i++){if(this.matrix[i][j]<Infinity){this.matrix[i][j]-=minVal;}}}}}console.log('âœ… ×”×¤×—×ª×ª ××˜×¨×™×¦×” ×”×•×©×œ××”');}findInitialZeros(){console.log('ğŸ” ××—×¤×© ××¤×¡×™× ×¨××©×•× ×™×™×...');this.starredZeros.clear();const usedRows=new Set();const usedCols=new Set();// Find independent zeros (star them)\nfor(let i=0;i<this.n;i++){for(let j=0;j<this.n;j++){if(this.matrix[i][j]===0&&!usedRows.has(i)&&!usedCols.has(j)){this.starredZeros.add(`${i},${j}`);usedRows.add(i);usedCols.add(j);console.log(`â­ ×¡×™××Ÿ ××¤×¡ ×‘-(${i},${j})`);}}}console.log(`âœ… × ××¦××• ${this.starredZeros.size} ××¤×¡×™× ××¡×•×× ×™×`);return 3;}coverStarredColumns(){console.log('ğŸ“‹ ××›×¡×” ×¢××•×“×•×ª ×¢× ××¤×¡×™× ××¡×•×× ×™×...');this.colCovered.fill(false);let coveredCount=0;// Cover columns that contain starred zeros\nfor(const zero of this.starredZeros){const[row,col]=zero.split(',').map(Number);if(!this.colCovered[col]){this.colCovered[col]=true;coveredCount++;}}console.log(`ğŸ“Š ×›×•×¡×• ${coveredCount} ×¢××•×“×•×ª`);if(coveredCount>=this.n){console.log('ğŸ¯ × ××¦× ×¤×ª×¨×•×Ÿ ××•×¤×˜×™××œ×™!');return 6;// Solution found\n}return 4;// Need to continue\n}findUncoveredZero(){console.log('ğŸ” ××—×¤×© ××¤×¡ ×œ× ××›×•×¡×”...');while(true){const uncoveredZero=this.getUncoveredZero();if(!uncoveredZero){console.log('ğŸ“‰ ×œ× × ××¦× ××¤×¡ ×œ× ××›×•×¡×” - ××§×˜×™×Ÿ ××˜×¨×™×¦×”');this.reduceUncoveredElements();continue;}const{row,col}=uncoveredZero;console.log(`ğŸ¯ × ××¦× ××¤×¡ ×œ× ××›×•×¡×” ×‘-(${row},${col})`);this.primedZeros.add(`${row},${col}`);// Check if there's a starred zero in the same row\nconst starredInRow=this.findStarredZeroInRow(row);if(starredInRow!==-1){console.log(`ğŸ”„ × ××¦× ××¤×¡ ××¡×•××Ÿ ×‘×©×•×¨×” ${row}, ×¢××•×“×” ${starredInRow}`);this.rowCovered[row]=true;this.colCovered[starredInRow]=false;}else{console.log('ğŸš€ ×¢×•×‘×¨ ×œ×‘× ×™×™×ª × ×ª×™×‘ ××’×“×™×œ');this.path=[{row,col,type:'primed'}];return 5;}}}getUncoveredZero(){for(let i=0;i<this.n;i++){for(let j=0;j<this.n;j++){if(this.matrix[i][j]===0&&!this.rowCovered[i]&&!this.colCovered[j]){return{row:i,col:j};}}}return null;}findStarredZeroInRow(row){for(const zero of this.starredZeros){const[r,c]=zero.split(',').map(Number);if(r===row)return c;}return-1;}reduceUncoveredElements(){console.log('ğŸ”§ ××§×˜×™×Ÿ ××œ×× ×˜×™× ×œ× ××›×•×¡×™×...');// Find minimum uncovered value\nlet minVal=Infinity;for(let i=0;i<this.n;i++){for(let j=0;j<this.n;j++){if(!this.rowCovered[i]&&!this.colCovered[j]&&this.matrix[i][j]<Infinity){minVal=Math.min(minVal,this.matrix[i][j]);}}}if(minVal===Infinity||minVal<=0){console.log('âš ï¸ ×œ× × ××¦× ×¢×¨×š ××™× ×™××œ×™ ×ª×§×™×Ÿ');return;}console.log(`ğŸ”¢ ×¢×¨×š ××™× ×™××œ×™: ${minVal}`);// Subtract from uncovered, add to double-covered\nfor(let i=0;i<this.n;i++){for(let j=0;j<this.n;j++){if(this.rowCovered[i]&&this.colCovered[j]){// Double covered - add\nthis.matrix[i][j]+=minVal;}else if(!this.rowCovered[i]&&!this.colCovered[j]){// Uncovered - subtract\nif(this.matrix[i][j]<Infinity){this.matrix[i][j]-=minVal;}}}}}constructAugmentingPath(){console.log('ğŸ›¤ï¸ ×‘×•× ×” × ×ª×™×‘ ××’×“×™×œ...');let currentStep=this.path[this.path.length-1];// Build alternating path\nwhile(true){// Find starred zero in same column\nconst starredInCol=this.findStarredZeroInColumn(currentStep.col);if(starredInCol===-1){console.log('âœ… × ×ª×™×‘ ××’×“×™×œ ×”×•×©×œ×');break;}this.path.push({row:starredInCol,col:currentStep.col,type:'starred'});// Find primed zero in same row\nconst primedInRow=this.findPrimedZeroInRow(starredInCol);if(primedInRow===-1){console.log('âŒ ×©×’×™××” ×‘×‘× ×™×™×ª × ×ª×™×‘');break;}this.path.push({row:starredInCol,col:primedInRow,type:'primed'});currentStep=this.path[this.path.length-1];}// Update starred zeros based on path\nthis.updateStarredZeros();// Clear covers and primed zeros\nthis.rowCovered.fill(false);this.colCovered.fill(false);this.primedZeros.clear();this.path=[];return 3;}findStarredZeroInColumn(col){for(const zero of this.starredZeros){const[r,c]=zero.split(',').map(Number);if(c===col)return r;}return-1;}findPrimedZeroInRow(row){for(const zero of this.primedZeros){const[r,c]=zero.split(',').map(Number);if(r===row)return c;}return-1;}updateStarredZeros(){console.log('â­ ××¢×“×›×Ÿ ××¤×¡×™× ××¡×•×× ×™×...');// Unstar all starred zeros in the path\nfor(let i=1;i<this.path.length;i+=2){const step=this.path[i];this.starredZeros.delete(`${step.row},${step.col}`);}// Star all primed zeros in the path\nfor(let i=0;i<this.path.length;i+=2){const step=this.path[i];this.starredZeros.add(`${step.row},${step.col}`);}console.log(`â­ ×¢×•×“×›× ×• ${this.starredZeros.size} ××¤×¡×™× ××¡×•×× ×™×`);}extractAssignment(){console.log('ğŸ“Š ××—×œ×¥ ×”×©××” ×¡×•×¤×™×ª...');this.assignment.fill(-1);for(const zero of this.starredZeros){const[row,col]=zero.split(',').map(Number);this.assignment[row]=col;}const assignedCount=this.assignment.filter(val=>val!==-1).length;console.log(`âœ… ×”×©××” ×¡×•×¤×™×ª: ${assignedCount}/${this.n} ××•×§×¦×™×`);}createFallbackAssignment(){console.log('ğŸ”„ ×™×•×¦×¨ ×”×©××” ×—×œ×•×¤×™×ª...');const assignment=new Array(this.n).fill(-1);const usedCols=new Set();// Simple greedy assignment on original matrix\nfor(let i=0;i<this.n;i++){let bestCol=-1;let bestValue=Infinity;for(let j=0;j<this.n;j++){if(!usedCols.has(j)&&this.originalMatrix[i][j]<bestValue){bestValue=this.originalMatrix[i][j];bestCol=j;}}if(bestCol!==-1&&bestValue<Infinity){assignment[i]=bestCol;usedCols.add(bestCol);}}return assignment;}}// ××¢×¨×›×ª ×©×™×‘×•×¥ ××™××•× ×™× ××•×¤×˜×™××œ×™×ª ××œ××”\nclass CompleteOptimalWorkoutScheduler{constructor(timeSlots,fieldsByTime,userPreferences){this.timeSlots=timeSlots;this.fieldsByTime=fieldsByTime;this.userPreferences=userPreferences||[];this.availableSports=this.extractAvailableSports();this.maxUsagePerSport=2;console.log('ğŸš€ ××¢×¨×›×ª ×©×™×‘×•×¥ ××•×¤×˜×™××œ×™×ª × ×•×¦×¨×”:');console.log('â° ×–×× ×™×:',this.timeSlots.length);console.log('ğŸƒ ×¡×¤×•×¨×˜×™× ×–××™× ×™×:',this.availableSports);console.log('â¤ï¸ ×”×¢×“×¤×•×ª ××©×ª××©:',this.userPreferences);}extractAvailableSports(){const sportsSet=new Set();Object.values(this.fieldsByTime).forEach(fields=>{fields.forEach(field=>{if(field.sportTypeId){sportsSet.add(field.sportTypeId);}});});return Array.from(sportsSet).sort((a,b)=>a-b);}// ×—×™×©×•×‘ × ×™×§×•×“ ××“×•×™×§ ×œ×›×œ ×©×™×œ×•×‘ ×–××Ÿ-×¡×¤×•×¨×˜\ncalculatePreciseScore(timeSlot,sportId){let currentUsage=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;let priority=arguments.length>3&&arguments[3]!==undefined?arguments[3]:1;const availableFields=this.fieldsByTime[timeSlot]||[];const hasAvailableField=availableFields.some(field=>field.sportTypeId===sportId&&field.isAvailable!==false);if(!hasAvailableField){return-1;// ×‘×œ×ª×™ ××¤×©×¨×™\n}let score=1000;// × ×™×§×•×“ ×‘×¡×™×¡ ×’×‘×•×”\n// ×‘×•× ×•×¡ ×—×–×§ ×œ×”×¢×“×¤×•×ª ××©×ª××© (×¡×“×¨ ×—×©×•×‘!)\nconst preferenceIndex=this.userPreferences.indexOf(sportId);if(preferenceIndex!==-1){score+=(this.userPreferences.length-preferenceIndex)*500;}// ×¢×•× ×© ×—×–×§ ×¢×œ ×¢×“×™×¤×•×ª × ××•×›×” (×’×™×•×•×Ÿ ×—×©×•×‘!)\nconst priorityPenalty=(priority-1)*2000;score-=priorityPenalty;// ×¢×•× ×© ×¢×œ ×©×™××•×© ×—×•×–×¨ (×¨×§ ×× ×–×” ×œ× ×¢×“×™×¤×•×ª ×¨××©×•× ×”)\nif(priority>1){const usagePenalty=currentUsage*currentUsage*100;score-=usagePenalty;}// ×‘×•× ×•×¡ ×œ××™×›×•×ª ×”××’×¨×©\nconst bestField=availableFields.filter(field=>field.sportTypeId===sportId).sort((a,b)=>(b.name||'').length-(a.name||'').length)[0];if(bestField&&bestField.name&&bestField.name.length>10){score+=50;// ××’×¨×© ××™×›×•×ª×™\n}// ×¢×•× ×© ×§×œ ×¢×œ ×–×× ×™× ×××•×—×¨×™× (×”×¢×“×¤×” ×œ×–×× ×™× ××•×§×“××™×)\nconst timeIndex=this.timeSlots.indexOf(timeSlot);score-=timeIndex*2;return Math.max(0,score);}// ×™×¦×™×¨×ª ××˜×¨×™×¦×ª ×¢×œ×•×™×•×ª ××•×©×œ××ª ×œ××œ×’×•×¨×™×ª× ×”×”×•× ×’×¨×™\ncreateOptimalCostMatrix(){console.log('ğŸ—ï¸ ×™×•×¦×¨ ××˜×¨×™×¦×ª ×¢×œ×•×™×•×ª ××•×¤×˜×™××œ×™×ª...');const numTimeSlots=this.timeSlots.length;// ×™×•×¦×¨ \"××¤×©×¨×•×™×•×ª ×¡×¤×•×¨×˜\" - ×¢× ×¢×“×™×¤×•×ª ×œ×’×™×•×•×Ÿ\nconst sportOptions=[];// ×§×•×“× ×›×œ - ×›×œ ×¡×¤×•×¨×˜ ×¤×¢× ×¨××©×•× ×” (×’×™×•×•×Ÿ ××§×¡×™××œ×™)\nfor(const sportId of this.availableSports){sportOptions.push({sportId,usage:0,id:`${sportId}_1`,name:`${SPORT_MAPPING[sportId]} (×¨××©×•×Ÿ)`,priority:1// ×¢×“×™×¤×•×ª ×’×‘×•×”×”\n});}// ××—×¨ ×›×š - ×¡×¤×•×¨×˜×™× ×œ× ××”×•×‘×™× (×× ××™×Ÿ ×‘×¨×™×¨×”)\nfor(const sportId of this.availableSports){if(!this.userPreferences.includes(sportId)){sportOptions.push({sportId,usage:1,id:`${sportId}_2`,name:`${SPORT_MAPPING[sportId]} (×œ× ××”×•×‘)`,priority:2// ×¢×“×™×¤×•×ª × ××•×›×”\n});}}// ×œ×‘×¡×•×£ - ×—×–×¨×” ×¢×œ ×¡×¤×•×¨×˜×™× ××”×•×‘×™× (×¨×§ ×× ××™×Ÿ ×‘×¨×™×¨×”)\nfor(const sportId of this.userPreferences){sportOptions.push({sportId,usage:1,id:`${sportId}_3`,name:`${SPORT_MAPPING[sportId]} (×—×•×–×¨)`,priority:3// ×¢×“×™×¤×•×ª × ××•×›×” ×‘×™×•×ª×¨\n});}const matrixSize=Math.max(numTimeSlots,sportOptions.length);console.log(`ğŸ“ ×’×•×“×œ ××˜×¨×™×¦×”: ${matrixSize}x${matrixSize}`);console.log(`ğŸƒ ××¤×©×¨×•×™×•×ª ×¡×¤×•×¨×˜: ${sportOptions.length}`);const costMatrix=Array(matrixSize).fill().map(()=>Array(matrixSize).fill(0));// ××™×œ×•×™ ×”××˜×¨×™×¦×”\nfor(let i=0;i<matrixSize;i++){for(let j=0;j<matrixSize;j++){if(i<numTimeSlots&&j<sportOptions.length){// ×–××Ÿ ×××™×ª×™ â† ××¤×©×¨×•×ª ×¡×¤×•×¨×˜ ×××™×ª×™×ª\nconst timeSlot=this.timeSlots[i];const sportOption=sportOptions[j];const score=this.calculatePreciseScore(timeSlot,sportOption.sportId,sportOption.usage,sportOption.priority);// ×”××¨×” ×œ×¢×œ×•×ª: × ×™×§×•×“ ×’×‘×•×” = ×¢×œ×•×ª × ××•×›×”\ncostMatrix[i][j]=score===-1?999999:10000-score;}else if(i<numTimeSlots){// ×–××Ÿ ×××™×ª×™ â† ×¡×¤×•×¨×˜ ×“××” (×¢×œ×•×ª ×’×‘×•×”×” ×××•×“)\ncostMatrix[i][j]=999999;}else if(j<sportOptions.length){// ×–××Ÿ ×“××” â† ×¡×¤×•×¨×˜ ×××™×ª×™ (×¢×œ×•×ª × ××•×›×”)\ncostMatrix[i][j]=1;}else{// ×–××Ÿ ×“××” â† ×¡×¤×•×¨×˜ ×“××” (×¢×œ×•×ª 0)\ncostMatrix[i][j]=0;}}}// ×©××™×¨×ª ××™×“×¢ ×¢×œ ×”××¤×©×¨×•×™×•×ª ×œ××˜×¨×•×ª ×“×™×‘×•×’\nthis.sportOptions=sportOptions;this.matrixSize=matrixSize;console.log('âœ… ××˜×¨×™×¦×ª ×¢×œ×•×™×•×ª × ×•×¦×¨×” ×‘×”×¦×œ×—×”');return costMatrix;}// ×¤×ª×¨×•×Ÿ ×”×‘×¢×™×” ×‘××œ×’×•×¨×™×ª× ×”×•× ×’×¨×™\nsolveOptimal(){console.log('ğŸ¯ ××ª×—×™×œ ×¤×ª×¨×•×Ÿ ××•×¤×˜×™××œ×™ ××œ×...');const costMatrix=this.createOptimalCostMatrix();const hungarian=new OptimalHungarianAlgorithm(costMatrix);const assignment=hungarian.solve();console.log('ğŸ“‹ ×ª×•×¦××ª ×”××œ×’×•×¨×™×ª× ×”×”×•× ×’×¨×™:',assignment);return this.parseOptimalAssignment(assignment);}// ×¤×™×¨×•×§ ×ª×•×¦××ª ×”××œ×’×•×¨×™×ª× ×”×”×•× ×’×¨×™ ×œ×ª×•×›× ×™×ª ××™××•×Ÿ\nparseOptimalAssignment(assignment){console.log('ğŸ” ×× ×ª×— ×ª×•×¦××ª ×”×©××” ××•×¤×˜×™××œ×™×ª...');const result=[];const sportsUsageCount={};const usedSportOptions=new Set();// ×× ×™×¢×ª ×›×¤×™×œ×•×ª\nlet totalScore=0;for(let i=0;i<this.timeSlots.length;i++){const timeSlot=this.timeSlots[i];const assignedOptionIndex=assignment[i];if(assignedOptionIndex!==-1&&assignedOptionIndex<this.sportOptions.length){const sportOption=this.sportOptions[assignedOptionIndex];const currentUsage=sportsUsageCount[sportOption.sportId]||0;// ×‘×“×™×§×” ×× ×”×©××” ×ª×§×™× ×” (×œ× ×›×¤×™×œ×•×ª ×‘××•×ª×” ××•×¤×¦×™×”)\nif(!usedSportOptions.has(assignedOptionIndex)){const selectedField=this.findOptimalField(timeSlot,sportOption.sportId);const score=this.calculatePreciseScore(timeSlot,sportOption.sportId,currentUsage);if(selectedField&&score>0){sportsUsageCount[sportOption.sportId]=currentUsage+1;usedSportOptions.add(assignedOptionIndex);// ×¡×™××•×Ÿ ×›×©×™××•×©\ntotalScore+=score;result.push({time:timeSlot,field:selectedField,sportType:SPORT_MAPPING[sportOption.sportId],sportId:sportOption.sportId,usage:currentUsage+1,score:score,isOptimal:true});console.log(`âœ… ${timeSlot}: ${SPORT_MAPPING[sportOption.sportId]} (${score} × ×§') ×‘××’×¨×© ${selectedField.name}`);}else{result.push({time:timeSlot,field:null,reason:'×œ× × ××¦× ××’×¨×© ××ª××™×',isOptimal:false});console.log(`âŒ ${timeSlot}: ×œ× × ××¦× ××’×¨×© ×œ-${SPORT_MAPPING[sportOption.sportId]}`);}}else{result.push({time:timeSlot,field:null,reason:'×¡×¤×•×¨×˜ ×–×” ×›×‘×¨ ×©×•××©',isOptimal:false});console.log(`âš ï¸ ${timeSlot}: ×¡×¤×•×¨×˜ ×›×‘×¨ ×©×•××©`);}}else{result.push({time:timeSlot,field:null,reason:'×œ× × ××¦× ×©×™×‘×•×¥ ××•×¤×˜×™××œ×™',isOptimal:false});console.log(`âŒ ${timeSlot}: ×œ× × ××¦× ×©×™×‘×•×¥`);}}const successfulSlots=result.filter(slot=>slot.field!==null).length;console.log(`ğŸ† ×¤×ª×¨×•×Ÿ ××•×¤×˜×™××œ×™: ${successfulSlots}/${this.timeSlots.length} ×–×× ×™×`);console.log(`ğŸ¯ × ×™×§×•×“ ×›×•×œ×œ: ${totalScore}`);console.log(`ğŸ“Š ×©×™××•×© ×‘×¡×¤×•×¨×˜×™×:`,sportsUsageCount);return{slots:result,totalSlots:this.timeSlots.length,successfulSlots:successfulSlots,totalScore:totalScore,sportsUsage:sportsUsageCount,isOptimal:true,algorithm:'Hungarian Algorithm (Optimal)'};}// ××¦×™××ª ×”××’×¨×© ×”××•×¤×˜×™××œ×™ ×œ×¡×¤×•×¨×˜ ×‘×–××Ÿ × ×ª×•×Ÿ\nfindOptimalField(timeSlot,sportId){const availableFields=this.fieldsByTime[timeSlot]||[];const suitableFields=availableFields.filter(field=>field.sportTypeId===sportId&&field.isAvailable!==false);if(suitableFields.length===0){return null;}// ××™×•×Ÿ ×œ×¤×™ ××™×›×•×ª ×”××’×¨×©\nreturn suitableFields.sort((a,b)=>{// ×”×¢×“×£ ××’×¨×©×™× ×¢× ×©××•×ª ××¤×•×¨×˜×™× ×™×•×ª×¨\nconst scoreA=(a.name||'').length+(a.description||'').length;const scoreB=(b.name||'').length+(b.description||'').length;return scoreB-scoreA;})[0];}// ×‘×“×™×§×ª ×ª×§×™× ×•×ª ×”× ×ª×•× ×™× ×œ×¤× ×™ ×”×¤×ª×¨×•×Ÿ\nvalidateInputData(){console.log('ğŸ” ×‘×•×“×§ ×ª×§×™× ×•×ª × ×ª×•× ×™×...');const issues=[];if(!this.timeSlots||this.timeSlots.length===0){issues.push('××™×Ÿ ×–×× ×™× ××•×’×“×¨×™×');}if(!this.fieldsByTime||Object.keys(this.fieldsByTime).length===0){issues.push('××™×Ÿ ××’×¨×©×™× ×–××™× ×™×');}if(this.availableSports.length===0){issues.push('××™×Ÿ ×¡×¤×•×¨×˜×™× ×–××™× ×™×');}// ×‘×“×™×§×” ×©×™×© ×œ×¤×—×•×ª ××’×¨×© ××—×“ ×–××™×Ÿ\nconst totalFields=Object.values(this.fieldsByTime).flat().length;if(totalFields===0){issues.push('××™×Ÿ ××’×¨×©×™× ×–××™× ×™× ×‘×›×œ×œ');}if(issues.length>0){console.log('âŒ ×‘×¢×™×•×ª ×‘× ×ª×•× ×™×:',issues);return{valid:false,issues};}console.log('âœ… × ×ª×•× ×™× ×ª×§×™× ×™×');return{valid:true,issues:[]};}// ×¤×•× ×§×¦×™×” ×¨××©×™×ª ×œ×¤×ª×¨×•×Ÿ\nsolve(){console.log('ğŸš€ ××ª×—×™×œ ×¤×ª×¨×•×Ÿ ×‘×¢×™×™×ª ×©×™×‘×•×¥ ××•×¤×˜×™××œ×™ ××œ×...');// ×‘×“×™×§×ª ×ª×§×™× ×•×ª\nconst validation=this.validateInputData();if(!validation.valid){throw new Error(`× ×ª×•× ×™× ×œ× ×ª×§×™× ×™×: ${validation.issues.join(', ')}`);}try{// ×¤×ª×¨×•×Ÿ ××•×¤×˜×™××œ×™\nconst result=this.solveOptimal();console.log('ğŸ† ×¤×ª×¨×•×Ÿ ××•×¤×˜×™××œ×™ ×”×•×©×œ× ×‘×”×¦×œ×—×”!');return result;}catch(error){console.error('âŒ ×©×’×™××” ×‘×¤×ª×¨×•×Ÿ ××•×¤×˜×™××œ×™:',error);throw new Error(`×©×’×™××” ×‘×¤×ª×¨×•×Ÿ ××•×¤×˜×™××œ×™: ${error.message}`);}}}// ×”×¨×›×™×‘ ×”×¨××©×™ ×¢× ×”×©×œ××•×ª ××œ××•×ª\nfunction CreateWorkout(_ref){let{user,selectedDate,startTime,endTime,onBackClick}=_ref;const[isGenerating,setIsGenerating]=useState(false);const[workoutPlan,setWorkoutPlan]=useState(null);const[userPreferences,setUserPreferences]=useState([]);const[fieldsByTime,setFieldsByTime]=useState({});const[timeSlots,setTimeSlots]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState('');const[isSaving,setIsSaving]=useState(false);const[saveSuccess,setSaveSuccess]=useState(false);useEffect(()=>{console.log('ğŸ¬ CreateWorkout × ×˜×¢×Ÿ ×¢× ×¤×¨××˜×¨×™×:',{user:user===null||user===void 0?void 0:user.userName,selectedDate,startTime,endTime});initializeWorkoutData();},[]);const initializeWorkoutData=async()=>{try{setLoading(true);setError('');console.log('ğŸ“Š ×˜×•×¢×Ÿ × ×ª×•× ×™ ××©×ª××©...');await loadUserPreferences();console.log('â° ×™×•×¦×¨ ×¨×‘×¢×™ ×©×¢×”...');const slots=createTimeSlots();setTimeSlots(slots);console.log('ğŸŸï¸ ×˜×•×¢×Ÿ ××’×¨×©×™× ×–××™× ×™×...');await loadAvailableFields(slots);console.log('âœ… ×›×œ ×”× ×ª×•× ×™× × ×˜×¢× ×• ×‘×”×¦×œ×—×”');}catch(err){console.error('âŒ ×©×’×™××” ×‘×˜×¢×™× ×ª × ×ª×•× ×™×:',err);setError('×©×’×™××” ×‘×˜×¢×™× ×ª × ×ª×•× ×™×. ×× × × ×¡×” ×©×•×‘.');}finally{setLoading(false);}};const loadUserPreferences=async()=>{try{if(!user||!user.id){throw new Error('××©×ª××© ×œ× ××•×’×“×¨');}const url=`https://wolfit-gym-backend-ijvq.onrender.com/api/user-preferences/${user.id}`;console.log('ğŸ“¡ ×§×•×¨× ×”×¢×“×¤×•×ª ×:',url);const response=await fetch(url);const data=await response.json();if(data.success){const preferences=data.data.selectedSports||[];setUserPreferences(preferences);console.log('â¤ï¸ ×”×¢×“×¤×•×ª × ×˜×¢× ×•:',preferences.map(id=>SPORT_MAPPING[id]).join(', '));}else{console.log('âš ï¸ ××™×Ÿ ×”×¢×“×¤×•×ª ×©××•×¨×•×ª');setUserPreferences([]);}}catch(error){console.error('âŒ ×©×’×™××” ×‘×˜×¢×™× ×ª ×”×¢×“×¤×•×ª:',error);setUserPreferences([]);throw error;}};const createTimeSlots=()=>{const slots=[];const[startHour,startMinute]=startTime.split(':').map(Number);const[endHour,endMinute]=endTime.split(':').map(Number);const startTotalMinutes=startHour*60+startMinute;const endTotalMinutes=endHour*60+endMinute;console.log(`â° ×™×•×¦×¨ ×¨×‘×¢×™ ×©×¢×” ×-${startTime} ×¢×“ ${endTime}`);for(let minutes=startTotalMinutes;minutes<endTotalMinutes;minutes+=15){const hours=Math.floor(minutes/60);const mins=minutes%60;const timeStr=`${hours.toString().padStart(2,'0')}:${mins.toString().padStart(2,'0')}`;slots.push(timeStr);}console.log(`ğŸ“… × ×•×¦×¨×• ${slots.length} ×¨×‘×¢×™ ×©×¢×”:`,slots.join(', '));return slots;};const loadAvailableFields=async timeSlots=>{try{console.log('ğŸŒ ×©×•×œ×— ×‘×§×©×” ×œ××’×¨×©×™× ×–××™× ×™×...');const requestBody={date:selectedDate,timeSlots:timeSlots};console.log('ğŸ“‹ × ×ª×•× ×™ ×‘×§×©×”:',requestBody);const response=await fetch('https://wolfit-gym-backend-ijvq.onrender.com/api/available-fields-for-workout',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(requestBody)});if(response.ok){const data=await response.json();if(data.success){setFieldsByTime(data.fieldsByTime);// ×¡×˜×˜×™×¡×˜×™×§×•×ª ××¤×•×¨×˜×•×ª\nconst totalFieldSlots=Object.values(data.fieldsByTime).flat().length;const timeSlotsWithFields=Object.keys(data.fieldsByTime).length;const sportTypes=new Set();Object.values(data.fieldsByTime).flat().forEach(field=>{sportTypes.add(field.sportTypeId);});console.log('ğŸŸï¸ ××’×¨×©×™× × ×˜×¢× ×• ×‘×”×¦×œ×—×”:');console.log(`ğŸ“Š ×¡×”\"×› ××’×¨×©-×–×× ×™×: ${totalFieldSlots}`);console.log(`â° ×–×× ×™× ×¢× ××’×¨×©×™×: ${timeSlotsWithFields}/${timeSlots.length}`);console.log(`ğŸƒ ×¡×•×’×™ ×¡×¤×•×¨×˜ ×–××™× ×™×: ${Array.from(sportTypes).map(id=>SPORT_MAPPING[id]).join(', ')}`);return;}else{throw new Error(data.message);}}else{throw new Error(`HTTP error! status: ${response.status}`);}}catch(error){console.error('âŒ ×©×’×™××” ×‘×˜×¢×™× ×ª ××’×¨×©×™×:',error);throw error;}};const generateOptimalWorkout=()=>{console.log('ğŸ¯ ××ª×—×™×œ ×™×¦×™×¨×ª ×ª×•×›× ×™×ª ××™××•×Ÿ ××•×¤×˜×™××œ×™×ª...');if(timeSlots.length===0||Object.keys(fieldsByTime).length===0){console.log('âŒ ××™×Ÿ × ×ª×•× ×™× ×–××™× ×™× ×œ×™×¦×™×¨×ª ××™××•×Ÿ');return null;}// ×‘×“×™×§×” ×©×™×© ××’×¨×©×™× ×–××™× ×™×\nconst totalFields=Object.values(fieldsByTime).flat().length;if(totalFields===0){console.log('âŒ ××™×Ÿ ××’×¨×©×™× ×–××™× ×™× ×‘×›×œ×œ');return null;}try{const scheduler=new CompleteOptimalWorkoutScheduler(timeSlots,fieldsByTime,userPreferences);const result=scheduler.solve();console.log('ğŸ† ×ª×•×›× ×™×ª ××™××•×Ÿ ××•×¤×˜×™××œ×™×ª × ×•×¦×¨×”:',result);return result;}catch(error){console.error('âŒ ×©×’×™××” ×‘×™×¦×™×¨×ª ×ª×•×›× ×™×ª ××•×¤×˜×™××œ×™×ª:',error);throw error;}};const generateWorkout=async()=>{if(timeSlots.length===0||Object.keys(fieldsByTime).length===0){setError('×œ× × ×˜×¢× ×• × ×ª×•× ×™×. ×× × ×¨×¢× ×Ÿ ××ª ×”×“×£.');return;}setIsGenerating(true);setError('');try{console.log('ğŸš€ ××ª×—×™×œ ×œ×™×¦×•×¨ ×ª×•×›× ×™×ª ××™××•×Ÿ ××•×¤×˜×™××œ×™×ª ××œ××”...');// ×¡×™××•×œ×¦×™×” ×©×œ ×–××Ÿ ×¢×™×‘×•×“ (×›×“×™ ×©×”××©×ª××© ×™×¨××” ×©××©×”×• ×§×•×¨×”)\nawait new Promise(resolve=>setTimeout(resolve,1500));const optimalWorkout=generateOptimalWorkout();if(optimalWorkout&&optimalWorkout.successfulSlots>0){setWorkoutPlan(optimalWorkout);console.log('âœ… ×ª×•×›× ×™×ª ××™××•×Ÿ ××•×¤×˜×™××œ×™×ª × ×•×¦×¨×” ×‘×”×¦×œ×—×”');}else{setError('×œ× ×”×¦×œ×™×— ×œ×™×¦×•×¨ ×ª×•×›× ×™×ª ××™××•×Ÿ ××ª××™××”. × ×¡×” ×©×¢×•×ª ××• ×ª××¨×™×š ××—×¨×™×.');}}catch(error){console.error('âŒ ×©×’×™××” ×‘×™×¦×™×¨×ª ××™××•×Ÿ:',error);setError(`×©×’×™××” ×‘×™×¦×™×¨×ª ×”××™××•×Ÿ: ${error.message}`);}finally{setIsGenerating(false);}};const saveWorkoutToDatabase=async()=>{if(!workoutPlan||!user||!user.id){setError('××™×Ÿ ×ª×•×›× ×™×ª ××™××•×Ÿ ××• ××©×ª××© ×œ× ××•×’×“×¨');return;}setIsSaving(true);setError('');setSaveSuccess(false);try{// ×”×›× ×ª ×¨×©×™××ª ×”×–×× ×•×ª ×œ××’×¨×©×™×\nconst bookings=workoutPlan.slots.filter(slot=>slot.field!==null).map(slot=>({idField:slot.field.id,bookingDate:selectedDate,startTime:slot.time,idUser:user.id}));if(bookings.length===0){setError('××™×Ÿ ××’×¨×©×™× ×œ×©××™×¨×”');setIsSaving(false);return;}const requestBody={bookings:bookings,userId:user.id,date:selectedDate};console.log('ğŸ’¾ ×©×•××¨ ××™××•×Ÿ:',requestBody);const response=await fetch('https://wolfit-gym-backend-ijvq.onrender.com/api/book-fields',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(requestBody)});if(!response.ok){throw new Error(`HTTP error! status: ${response.status}`);}const data=await response.json();if(data.success){setSaveSuccess(true);console.log('âœ… ××™××•×Ÿ × ×©××¨ ×‘×”×¦×œ×—×”');setTimeout(()=>{if(onBackClick){onBackClick();}},2000);}else{setError(`×©×’×™××” ×‘×©××™×¨×ª ×”××™××•×Ÿ: ${data.message}`);}}catch(error){console.error('âŒ ×©×’×™××” ×‘×©××™×¨×ª ×”××™××•×Ÿ:',error);setError(`×©×’×™××” ×‘×©××™×¨×ª ×”××™××•×Ÿ: ${error.message}`);}finally{setIsSaving(false);}};const canCreateWorkout=()=>{return!loading&&timeSlots.length>0&&Object.keys(fieldsByTime).length>0;};if(loading){return/*#__PURE__*/_jsxs(\"div\",{className:\"create-workout-container\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"back-button\",onClick:onBackClick,children:\"\\u05D7\\u05D6\\u05E8\\u05D4\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"content\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"\\uD83D\\uDD04 \\u05D8\\u05D5\\u05E2\\u05DF \\u05E0\\u05EA\\u05D5\\u05E0\\u05D9\\u05DD...\"}),/*#__PURE__*/_jsx(\"p\",{children:\"\\u05D0\\u05E0\\u05D0 \\u05D4\\u05DE\\u05EA\\u05DF \\u05D1\\u05D6\\u05DE\\u05DF \\u05E9\\u05D0\\u05E0\\u05D5 \\u05D8\\u05D5\\u05E2\\u05E0\\u05D9\\u05DD \\u05D0\\u05EA \\u05D4\\u05DE\\u05D9\\u05D3\\u05E2 \\u05D4\\u05D3\\u05E8\\u05D5\\u05E9 \\u05DC\\u05D9\\u05E6\\u05D9\\u05E8\\u05EA \\u05D4\\u05D0\\u05D9\\u05DE\\u05D5\\u05DF \\u05D4\\u05D0\\u05D5\\u05E4\\u05D8\\u05D9\\u05DE\\u05DC\\u05D9\"}),/*#__PURE__*/_jsx(\"div\",{style:{margin:'20px 0',padding:'15px',background:'rgba(81, 207, 102, 0.1)',borderRadius:'8px',border:'1px solid rgba(81, 207, 102, 0.3)'},children:\"\\u05D4\\u05DE\\u05E2\\u05E8\\u05DB\\u05EA \\u05D8\\u05D5\\u05E2\\u05E0\\u05D4 \\u05D0\\u05EA \\u05D4\\u05E2\\u05D3\\u05E4\\u05D5\\u05EA\\u05D9\\u05DA, \\u05D1\\u05D5\\u05D3\\u05E7\\u05EA \\u05D6\\u05DE\\u05D9\\u05E0\\u05D5\\u05EA \\u05DE\\u05D2\\u05E8\\u05E9\\u05D9\\u05DD \\u05D5\\u05DE\\u05DB\\u05D9\\u05E0\\u05D4 \\u05D0\\u05DC\\u05D2\\u05D5\\u05E8\\u05D9\\u05EA\\u05DD \\u05D0\\u05D5\\u05E4\\u05D8\\u05D9\\u05DE\\u05DC\\u05D9...\"})]})]});}return/*#__PURE__*/_jsxs(\"div\",{className:\"create-workout-container\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"back-button\",onClick:onBackClick,children:\"\\u05D7\\u05D6\\u05E8\\u05D4\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"content\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"\\uD83C\\uDFAF \\u05D9\\u05D5\\u05E6\\u05E8 \\u05D0\\u05D9\\u05DE\\u05D5\\u05DF \\u05D0\\u05D5\\u05E4\\u05D8\\u05D9\\u05DE\\u05DC\\u05D9 \\u05DE\\u05DC\\u05D0 (Hungarian Algorithm)\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"workout-info\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"info-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\uD83D\\uDDD3\\uFE0F \\u05E4\\u05E8\\u05D8\\u05D9 \\u05D4\\u05D0\\u05D9\\u05DE\\u05D5\\u05DF\"}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u05EA\\u05D0\\u05E8\\u05D9\\u05DA:\"}),\" \",selectedDate]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u05E9\\u05E2\\u05D4:\"}),\" \",startTime,\" - \",endTime]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u05DE\\u05E9\\u05EA\\u05DE\\u05E9:\"}),\" \",user.userName]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u05E8\\u05D1\\u05E2\\u05D9 \\u05E9\\u05E2\\u05D4:\"}),\" \",timeSlots.length]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\u2764\\uFE0F \\u05D4\\u05E2\\u05D3\\u05E4\\u05D5\\u05EA \\u05D4\\u05DE\\u05E9\\u05EA\\u05DE\\u05E9\"}),userPreferences.length>0?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(\"strong\",{children:\"\\u05E1\\u05E4\\u05D5\\u05E8\\u05D8\\u05D9\\u05DD \\u05DE\\u05D5\\u05E2\\u05D3\\u05E4\\u05D9\\u05DD (\\u05DC\\u05E4\\u05D9 \\u05E1\\u05D3\\u05E8):\"})}),/*#__PURE__*/_jsx(\"ol\",{style:{margin:'10px 0',paddingRight:'20px'},children:userPreferences.map(sportId=>/*#__PURE__*/_jsx(\"li\",{style:{margin:'5px 0'},children:SPORT_MAPPING[sportId]||`×¡×¤×•×¨×˜ ${sportId}`},sportId))})]}):/*#__PURE__*/_jsx(\"p\",{style:{color:'#ff6b6b'},children:\"\\u26A0\\uFE0F \\u05D0\\u05D9\\u05DF \\u05D4\\u05E2\\u05D3\\u05E4\\u05D5\\u05EA \\u05E9\\u05DE\\u05D5\\u05E8\\u05D5\\u05EA - \\u05D4\\u05D0\\u05DC\\u05D2\\u05D5\\u05E8\\u05D9\\u05EA\\u05DD \\u05D9\\u05E9\\u05EA\\u05DE\\u05E9 \\u05D1\\u05D4\\u05E2\\u05D3\\u05E4\\u05D5\\u05EA \\u05D1\\u05E8\\u05D9\\u05E8\\u05EA \\u05DE\\u05D7\\u05D3\\u05DC\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\uD83C\\uDFDF\\uFE0F \\u05DE\\u05D2\\u05E8\\u05E9\\u05D9\\u05DD \\u05D6\\u05DE\\u05D9\\u05E0\\u05D9\\u05DD\"}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u05D6\\u05DE\\u05E0\\u05D9\\u05DD \\u05E2\\u05DD \\u05DE\\u05D2\\u05E8\\u05E9\\u05D9\\u05DD:\"}),\" \",Object.keys(fieldsByTime).length,\"/\",timeSlots.length]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u05E1\\u05D4\\\"\\u05DB \\u05DE\\u05D2\\u05E8\\u05E9-\\u05D6\\u05DE\\u05E0\\u05D9\\u05DD:\"}),\" \",Object.values(fieldsByTime).flat().length]}),Object.keys(fieldsByTime).length>0&&/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'10px'},children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u05D3\\u05D5\\u05D2\\u05DE\\u05D0\\u05D5\\u05EA \\u05D6\\u05DE\\u05D9\\u05E0\\u05D5\\u05EA:\"}),Object.entries(fieldsByTime).slice(0,3).map(_ref2=>{let[time,fields]=_ref2;return/*#__PURE__*/_jsxs(\"div\",{className:\"time-fields\",style:{margin:'5px 0',fontSize:'0.9rem'},children:[/*#__PURE__*/_jsxs(\"strong\",{children:[time,\":\"]}),\" \",fields.length,\" \\u05DE\\u05D2\\u05E8\\u05E9\\u05D9\\u05DD (\",fields.map(f=>SPORT_MAPPING[f.sportTypeId]).join(', '),\")\"]},time);}),Object.keys(fieldsByTime).length>3&&/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'0.8rem',opacity:0.7},children:\"\\u05D5\\u05E2\\u05D5\\u05D3...\"})]})]})]}),error&&/*#__PURE__*/_jsxs(\"div\",{style:{color:'#ff6b6b',textAlign:'center',margin:'20px 0',padding:'15px',background:'rgba(255, 107, 107, 0.1)',borderRadius:'8px',border:'1px solid rgba(255, 107, 107, 0.3)'},children:[\"\\u274C \",error]}),/*#__PURE__*/_jsx(\"div\",{className:\"action-buttons\",children:/*#__PURE__*/_jsx(\"button\",{className:\"generate-button\",onClick:generateWorkout,disabled:isGenerating||!canCreateWorkout(),style:{background:isGenerating?'#ccc':'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',color:'white',border:'none',padding:'15px 30px',borderRadius:'8px',fontSize:'16px',fontWeight:'bold',cursor:isGenerating?'not-allowed':'pointer',transition:'all 0.3s ease'},children:isGenerating?'ğŸ”„ ×™×•×¦×¨ ××™××•×Ÿ ××•×¤×˜×™××œ×™...':'ğŸ¯ ×¦×•×¨ ×ª×•×›× ×™×ª ××™××•×Ÿ ××•×¤×˜×™××œ×™×ª'})}),workoutPlan&&/*#__PURE__*/_jsxs(\"div\",{className:\"workout-result\",style:{marginTop:'30px'},children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\uD83C\\uDFC6 \\u05D4\\u05EA\\u05D5\\u05DB\\u05E0\\u05D9\\u05EA \\u05D4\\u05D0\\u05D5\\u05E4\\u05D8\\u05D9\\u05DE\\u05DC\\u05D9\\u05EA \\u05E9\\u05DC\\u05DA\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"optimization-info\",style:{background:'linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%)',color:'white',padding:'20px',borderRadius:'12px',margin:'20px 0',textAlign:'center'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{margin:'0 0 15px 0'},children:\"\\uD83D\\uDCCA \\u05E1\\u05D8\\u05D8\\u05D9\\u05E1\\u05D8\\u05D9\\u05E7\\u05D5\\u05EA \\u05D0\\u05D5\\u05E4\\u05D8\\u05D9\\u05DE\\u05DC\\u05D9\\u05D5\\u05EA\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-around',flexWrap:'wrap',gap:'20px'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'24px',fontWeight:'bold'},children:[workoutPlan.successfulSlots,\"/\",workoutPlan.totalSlots]}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'14px',opacity:0.9},children:\"\\u05E8\\u05D1\\u05E2\\u05D9 \\u05E9\\u05E2\\u05D4 \\u05DE\\u05D5\\u05E6\\u05DC\\u05D7\\u05D9\\u05DD\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'24px',fontWeight:'bold'},children:workoutPlan.totalScore}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'14px',opacity:0.9},children:\"\\u05E0\\u05D9\\u05E7\\u05D5\\u05D3 \\u05DB\\u05D5\\u05DC\\u05DC\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'24px',fontWeight:'bold'},children:\"\\u2705\"}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'14px',opacity:0.9},children:workoutPlan.algorithm})]})]})]}),workoutPlan.sportsUsage&&Object.keys(workoutPlan.sportsUsage).length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"sports-summary\",style:{background:'rgba(139, 92, 246, 0.1)',padding:'15px',borderRadius:'8px',border:'1px solid rgba(139, 92, 246, 0.3)',margin:'20px 0'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{margin:'0 0 15px 0'},children:\"\\uD83D\\uDCC8 \\u05E4\\u05D9\\u05DC\\u05D5\\u05D2 \\u05E1\\u05E4\\u05D5\\u05E8\\u05D8\\u05D9\\u05DD \\u05D0\\u05D5\\u05E4\\u05D8\\u05D9\\u05DE\\u05DC\\u05D9:\"}),/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',flexWrap:'wrap',gap:'15px'},children:Object.entries(workoutPlan.sportsUsage).map(_ref3=>{let[sportId,count]=_ref3;return/*#__PURE__*/_jsxs(\"div\",{style:{background:'white',padding:'10px 15px',borderRadius:'20px',border:'1px solid rgba(139, 92, 246, 0.5)',fontSize:'14px'},children:[/*#__PURE__*/_jsxs(\"strong\",{children:[SPORT_MAPPING[sportId]||`×¡×¤×•×¨×˜ ${sportId}`,\":\"]}),\" \",count,\" \\u05E4\\u05E2\\u05DE\\u05D9\\u05DD\"]},sportId);})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"workout-timeline\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\u23F0 \\u05DC\\u05D5\\u05D7 \\u05D6\\u05DE\\u05E0\\u05D9\\u05DD \\u05DE\\u05E4\\u05D5\\u05E8\\u05D8:\"}),workoutPlan.slots.map((slot,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"time-slot\",style:{display:'flex',alignItems:'center',padding:'15px',margin:'10px 0',border:slot.field?'2px solid #8b5cf6':'2px solid #ff6b6b',borderRadius:'8px',background:slot.field?'rgba(139, 92, 246, 0.05)':'rgba(255, 107, 107, 0.05)'},children:[/*#__PURE__*/_jsx(\"div\",{className:\"time\",style:{minWidth:'80px',fontWeight:'bold',fontSize:'16px'},children:slot.time}),/*#__PURE__*/_jsx(\"div\",{className:\"field-info\",style:{flex:1,marginRight:'15px'},children:slot.field?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{style:{fontWeight:'bold',fontSize:'16px',color:'#8b5cf6'},children:[\"\\u2705 \",slot.field.name]}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'14px',color:'#666',marginTop:'5px'},children:[\"\\uD83C\\uDFC3 \\u05E1\\u05E4\\u05D5\\u05E8\\u05D8: \",slot.sportType,\" | \\uD83D\\uDD04 \\u05E9\\u05D9\\u05DE\\u05D5\\u05E9: \",slot.usage,\"/2 |\",slot.score&&/*#__PURE__*/_jsxs(\"span\",{children:[\" \\uD83C\\uDFAF \\u05E0\\u05D9\\u05E7\\u05D5\\u05D3: \",slot.score]}),slot.isOptimal&&/*#__PURE__*/_jsx(\"span\",{style:{color:'#8b5cf6'},children:\" | \\u2B50 \\u05D0\\u05D5\\u05E4\\u05D8\\u05D9\\u05DE\\u05DC\\u05D9\"})]})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:'bold',fontSize:'16px',color:'#ff6b6b'},children:\"\\u274C \\u05DC\\u05D0 \\u05D6\\u05DE\\u05D9\\u05DF\"}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'14px',color:'#999',marginTop:'5px'},children:slot.reason||'×œ× × ××¦× ××’×¨×© ××ª××™×'})]})})]},index))]}),saveSuccess?/*#__PURE__*/_jsxs(\"div\",{style:{color:'#8b5cf6',textAlign:'center',margin:'30px 0',padding:'20px',background:'rgba(139, 92, 246, 0.1)',borderRadius:'12px',border:'2px solid rgba(139, 92, 246, 0.3)'},children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\uD83C\\uDF89 \\u05D4\\u05D0\\u05D9\\u05DE\\u05D5\\u05DF \\u05D4\\u05D0\\u05D5\\u05E4\\u05D8\\u05D9\\u05DE\\u05DC\\u05D9 \\u05E0\\u05E9\\u05DE\\u05E8 \\u05D1\\u05D4\\u05E6\\u05DC\\u05D7\\u05D4!\"}),/*#__PURE__*/_jsx(\"p\",{children:\"\\u05DE\\u05E2\\u05D1\\u05D9\\u05E8 \\u05D0\\u05D5\\u05EA\\u05DA \\u05DC\\u05EA\\u05E4\\u05E8\\u05D9\\u05D8 \\u05D4\\u05E8\\u05D0\\u05E9\\u05D9 \\u05D1\\u05E2\\u05D5\\u05D3 \\u05E8\\u05D2\\u05E2\\u05D9\\u05DD...\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"action-buttons\",style:{marginTop:'30px',textAlign:'center'},children:/*#__PURE__*/_jsx(\"button\",{className:\"save-button\",onClick:saveWorkoutToDatabase,disabled:isSaving,style:{background:isSaving?'#ccc':'linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%)',color:'white',border:'none',padding:'15px 40px',borderRadius:'8px',fontSize:'16px',fontWeight:'bold',cursor:isSaving?'not-allowed':'pointer',transition:'all 0.3s ease'},children:isSaving?'ğŸ’¾ ×©×•××¨ ××™××•×Ÿ...':'âœ… ××™×©×•×¨ ×•×©××™×¨×ª ×”××™××•×Ÿ ×”××•×¤×˜×™××œ×™'})})]})]})]});}export default CreateWorkout;","map":{"version":3,"names":["React","useState","useEffect","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","SPORT_MAPPING","OptimalHungarianAlgorithm","constructor","matrix","originalMatrix","map","row","n","length","rowCovered","Array","fill","colCovered","assignment","starredZeros","Set","primedZeros","path","console","log","solve","reduceMatrix","step","iterations","maxIterations","findInitialZeros","coverStarredColumns","findUncoveredZero","constructAugmentingPath","extractAssignment","createFallbackAssignment","i","finiteValues","filter","val","Infinity","minVal","Math","min","j","column","push","clear","usedRows","usedCols","has","add","size","coveredCount","zero","col","split","Number","uncoveredZero","getUncoveredZero","reduceUncoveredElements","starredInRow","findStarredZeroInRow","type","r","c","currentStep","starredInCol","findStarredZeroInColumn","primedInRow","findPrimedZeroInRow","updateStarredZeros","delete","assignedCount","bestCol","bestValue","CompleteOptimalWorkoutScheduler","timeSlots","fieldsByTime","userPreferences","availableSports","extractAvailableSports","maxUsagePerSport","sportsSet","Object","values","forEach","fields","field","sportTypeId","from","sort","a","b","calculatePreciseScore","timeSlot","sportId","currentUsage","arguments","undefined","priority","availableFields","hasAvailableField","some","isAvailable","score","preferenceIndex","indexOf","priorityPenalty","usagePenalty","bestField","name","timeIndex","max","createOptimalCostMatrix","numTimeSlots","sportOptions","usage","id","includes","matrixSize","costMatrix","sportOption","solveOptimal","hungarian","parseOptimalAssignment","result","sportsUsageCount","usedSportOptions","totalScore","assignedOptionIndex","selectedField","findOptimalField","time","sportType","isOptimal","reason","successfulSlots","slot","slots","totalSlots","sportsUsage","algorithm","suitableFields","scoreA","description","scoreB","validateInputData","issues","keys","totalFields","flat","valid","validation","Error","join","error","message","CreateWorkout","_ref","user","selectedDate","startTime","endTime","onBackClick","isGenerating","setIsGenerating","workoutPlan","setWorkoutPlan","setUserPreferences","setFieldsByTime","setTimeSlots","loading","setLoading","setError","isSaving","setIsSaving","saveSuccess","setSaveSuccess","userName","initializeWorkoutData","loadUserPreferences","createTimeSlots","loadAvailableFields","err","url","response","fetch","data","json","success","preferences","selectedSports","startHour","startMinute","endHour","endMinute","startTotalMinutes","endTotalMinutes","minutes","hours","floor","mins","timeStr","toString","padStart","requestBody","date","method","headers","body","JSON","stringify","ok","totalFieldSlots","timeSlotsWithFields","sportTypes","status","generateOptimalWorkout","scheduler","generateWorkout","Promise","resolve","setTimeout","optimalWorkout","saveWorkoutToDatabase","bookings","idField","bookingDate","idUser","userId","canCreateWorkout","className","children","onClick","style","margin","padding","background","borderRadius","border","paddingRight","color","marginTop","entries","slice","_ref2","fontSize","f","opacity","textAlign","disabled","fontWeight","cursor","transition","display","justifyContent","flexWrap","gap","_ref3","count","index","alignItems","minWidth","flex","marginRight"],"sources":["/Users/omri/Desktop/wolfit-gym/src/CreateWorkout.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport './CreateWorkout.css';\n\n// ××™×¤×•×™ ×¡×¤×•×¨×˜×™× (×ª×•×× ×œ×©×¨×ª ×©×œ×š)\nconst SPORT_MAPPING = {\n  1: '×›×“×•×¨×’×œ',\n  2: '×›×“×•×¨×¡×œ',  \n  3: '×˜×™×¤×•×¡',\n  4: '×—×“×¨ ×›×•×©×¨',\n  5: '×§×•×¨×“×™× ×¦×™×”',\n  6: '×˜× ×™×¡',\n  7: '×¤×™× ×’×¤×•× ×’',\n  8: '×¨×™×§×•×“',\n  9: '××•×¤× ×™×™×'\n};\n\n// ××œ×’×•×¨×™×ª× ×”×•× ×’×¨×™ ××œ× ×•××ª×•×§×Ÿ ×œ××•×¤×˜×™××œ×™×•×ª ××§×¡×™××œ×™×ª\nclass OptimalHungarianAlgorithm {\n  constructor(matrix) {\n    this.originalMatrix = matrix.map(row => [...row]);\n    this.matrix = matrix.map(row => [...row]);\n    this.n = this.matrix.length;\n    this.rowCovered = new Array(this.n).fill(false);\n    this.colCovered = new Array(this.n).fill(false);\n    this.assignment = new Array(this.n).fill(-1);\n    this.starredZeros = new Set();\n    this.primedZeros = new Set();\n    this.path = [];\n    \n    console.log('ğŸ”¥ ××ª×—×™×œ ××œ×’×•×¨×™×ª× ×”×•× ×’×¨×™ ××•×¤×˜×™××œ×™ ××œ×');\n    console.log('×’×•×“×œ ××˜×¨×™×¦×”:', this.n + 'x' + this.n);\n  }\n\n  solve() {\n    // Step 1: Reduce matrix by subtracting row and column minimums\n    this.reduceMatrix();\n    \n    let step = 2;\n    let iterations = 0;\n    const maxIterations = this.n * this.n;\n    \n    while (step !== 6 && iterations < maxIterations) {\n      console.log(`ğŸ”„ ×©×œ×‘ ${step}, ××™×˜×¨×¦×™×” ${iterations}`);\n      \n      switch (step) {\n        case 2: step = this.findInitialZeros(); break;\n        case 3: step = this.coverStarredColumns(); break;\n        case 4: step = this.findUncoveredZero(); break;\n        case 5: step = this.constructAugmentingPath(); break;\n      }\n      iterations++;\n    }\n    \n    if (step === 6) {\n      console.log('âœ… ××œ×’×•×¨×™×ª× ×”×•× ×’×¨×™ ×”×•×©×œ× ×‘×”×¦×œ×—×”');\n      console.log('××¡×¤×¨ ××™×˜×¨×¦×™×•×ª:', iterations);\n      this.extractAssignment();\n      return this.assignment;\n    } else {\n      console.log('âŒ ××œ×’×•×¨×™×ª× ×”×•× ×’×¨×™ ×œ× ×”×ª×›× ×¡');\n      return this.createFallbackAssignment();\n    }\n  }\n\n  reduceMatrix() {\n    console.log('ğŸ”§ ××¤×—×™×ª ××˜×¨×™×¦×”...');\n    \n    // Subtract row minimums\n    for (let i = 0; i < this.n; i++) {\n      const finiteValues = this.matrix[i].filter(val => val < Infinity);\n      if (finiteValues.length > 0) {\n        const minVal = Math.min(...finiteValues);\n        if (minVal > 0) {\n          for (let j = 0; j < this.n; j++) {\n            if (this.matrix[i][j] < Infinity) {\n              this.matrix[i][j] -= minVal;\n            }\n          }\n        }\n      }\n    }\n    \n    // Subtract column minimums\n    for (let j = 0; j < this.n; j++) {\n      const column = [];\n      for (let i = 0; i < this.n; i++) {\n        if (this.matrix[i][j] < Infinity) {\n          column.push(this.matrix[i][j]);\n        }\n      }\n      \n      if (column.length > 0) {\n        const minVal = Math.min(...column);\n        if (minVal > 0) {\n          for (let i = 0; i < this.n; i++) {\n            if (this.matrix[i][j] < Infinity) {\n              this.matrix[i][j] -= minVal;\n            }\n          }\n        }\n      }\n    }\n    \n    console.log('âœ… ×”×¤×—×ª×ª ××˜×¨×™×¦×” ×”×•×©×œ××”');\n  }\n\n  findInitialZeros() {\n    console.log('ğŸ” ××—×¤×© ××¤×¡×™× ×¨××©×•× ×™×™×...');\n    \n    this.starredZeros.clear();\n    const usedRows = new Set();\n    const usedCols = new Set();\n    \n    // Find independent zeros (star them)\n    for (let i = 0; i < this.n; i++) {\n      for (let j = 0; j < this.n; j++) {\n        if (this.matrix[i][j] === 0 && !usedRows.has(i) && !usedCols.has(j)) {\n          this.starredZeros.add(`${i},${j}`);\n          usedRows.add(i);\n          usedCols.add(j);\n          console.log(`â­ ×¡×™××Ÿ ××¤×¡ ×‘-(${i},${j})`);\n        }\n      }\n    }\n    \n    console.log(`âœ… × ××¦××• ${this.starredZeros.size} ××¤×¡×™× ××¡×•×× ×™×`);\n    return 3;\n  }\n\n  coverStarredColumns() {\n    console.log('ğŸ“‹ ××›×¡×” ×¢××•×“×•×ª ×¢× ××¤×¡×™× ××¡×•×× ×™×...');\n    \n    this.colCovered.fill(false);\n    let coveredCount = 0;\n    \n    // Cover columns that contain starred zeros\n    for (const zero of this.starredZeros) {\n      const [row, col] = zero.split(',').map(Number);\n      if (!this.colCovered[col]) {\n        this.colCovered[col] = true;\n        coveredCount++;\n      }\n    }\n    \n    console.log(`ğŸ“Š ×›×•×¡×• ${coveredCount} ×¢××•×“×•×ª`);\n    \n    if (coveredCount >= this.n) {\n      console.log('ğŸ¯ × ××¦× ×¤×ª×¨×•×Ÿ ××•×¤×˜×™××œ×™!');\n      return 6; // Solution found\n    }\n    \n    return 4; // Need to continue\n  }\n\n  findUncoveredZero() {\n    console.log('ğŸ” ××—×¤×© ××¤×¡ ×œ× ××›×•×¡×”...');\n    \n    while (true) {\n      const uncoveredZero = this.getUncoveredZero();\n      \n      if (!uncoveredZero) {\n        console.log('ğŸ“‰ ×œ× × ××¦× ××¤×¡ ×œ× ××›×•×¡×” - ××§×˜×™×Ÿ ××˜×¨×™×¦×”');\n        this.reduceUncoveredElements();\n        continue;\n      }\n      \n      const { row, col } = uncoveredZero;\n      console.log(`ğŸ¯ × ××¦× ××¤×¡ ×œ× ××›×•×¡×” ×‘-(${row},${col})`);\n      \n      this.primedZeros.add(`${row},${col}`);\n      \n      // Check if there's a starred zero in the same row\n      const starredInRow = this.findStarredZeroInRow(row);\n      \n      if (starredInRow !== -1) {\n        console.log(`ğŸ”„ × ××¦× ××¤×¡ ××¡×•××Ÿ ×‘×©×•×¨×” ${row}, ×¢××•×“×” ${starredInRow}`);\n        this.rowCovered[row] = true;\n        this.colCovered[starredInRow] = false;\n      } else {\n        console.log('ğŸš€ ×¢×•×‘×¨ ×œ×‘× ×™×™×ª × ×ª×™×‘ ××’×“×™×œ');\n        this.path = [{ row, col, type: 'primed' }];\n        return 5;\n      }\n    }\n  }\n\n  getUncoveredZero() {\n    for (let i = 0; i < this.n; i++) {\n      for (let j = 0; j < this.n; j++) {\n        if (this.matrix[i][j] === 0 && !this.rowCovered[i] && !this.colCovered[j]) {\n          return { row: i, col: j };\n        }\n      }\n    }\n    return null;\n  }\n\n  findStarredZeroInRow(row) {\n    for (const zero of this.starredZeros) {\n      const [r, c] = zero.split(',').map(Number);\n      if (r === row) return c;\n    }\n    return -1;\n  }\n\n  reduceUncoveredElements() {\n    console.log('ğŸ”§ ××§×˜×™×Ÿ ××œ×× ×˜×™× ×œ× ××›×•×¡×™×...');\n    \n    // Find minimum uncovered value\n    let minVal = Infinity;\n    for (let i = 0; i < this.n; i++) {\n      for (let j = 0; j < this.n; j++) {\n        if (!this.rowCovered[i] && !this.colCovered[j] && this.matrix[i][j] < Infinity) {\n          minVal = Math.min(minVal, this.matrix[i][j]);\n        }\n      }\n    }\n    \n    if (minVal === Infinity || minVal <= 0) {\n      console.log('âš ï¸ ×œ× × ××¦× ×¢×¨×š ××™× ×™××œ×™ ×ª×§×™×Ÿ');\n      return;\n    }\n    \n    console.log(`ğŸ”¢ ×¢×¨×š ××™× ×™××œ×™: ${minVal}`);\n    \n    // Subtract from uncovered, add to double-covered\n    for (let i = 0; i < this.n; i++) {\n      for (let j = 0; j < this.n; j++) {\n        if (this.rowCovered[i] && this.colCovered[j]) {\n          // Double covered - add\n          this.matrix[i][j] += minVal;\n        } else if (!this.rowCovered[i] && !this.colCovered[j]) {\n          // Uncovered - subtract\n          if (this.matrix[i][j] < Infinity) {\n            this.matrix[i][j] -= minVal;\n          }\n        }\n      }\n    }\n  }\n\n  constructAugmentingPath() {\n    console.log('ğŸ›¤ï¸ ×‘×•× ×” × ×ª×™×‘ ××’×“×™×œ...');\n    \n    let currentStep = this.path[this.path.length - 1];\n    \n    // Build alternating path\n    while (true) {\n      // Find starred zero in same column\n      const starredInCol = this.findStarredZeroInColumn(currentStep.col);\n      \n      if (starredInCol === -1) {\n        console.log('âœ… × ×ª×™×‘ ××’×“×™×œ ×”×•×©×œ×');\n        break;\n      }\n      \n      this.path.push({ row: starredInCol, col: currentStep.col, type: 'starred' });\n      \n      // Find primed zero in same row\n      const primedInRow = this.findPrimedZeroInRow(starredInCol);\n      \n      if (primedInRow === -1) {\n        console.log('âŒ ×©×’×™××” ×‘×‘× ×™×™×ª × ×ª×™×‘');\n        break;\n      }\n      \n      this.path.push({ row: starredInCol, col: primedInRow, type: 'primed' });\n      currentStep = this.path[this.path.length - 1];\n    }\n    \n    // Update starred zeros based on path\n    this.updateStarredZeros();\n    \n    // Clear covers and primed zeros\n    this.rowCovered.fill(false);\n    this.colCovered.fill(false);\n    this.primedZeros.clear();\n    this.path = [];\n    \n    return 3;\n  }\n\n  findStarredZeroInColumn(col) {\n    for (const zero of this.starredZeros) {\n      const [r, c] = zero.split(',').map(Number);\n      if (c === col) return r;\n    }\n    return -1;\n  }\n\n  findPrimedZeroInRow(row) {\n    for (const zero of this.primedZeros) {\n      const [r, c] = zero.split(',').map(Number);\n      if (r === row) return c;\n    }\n    return -1;\n  }\n\n  updateStarredZeros() {\n    console.log('â­ ××¢×“×›×Ÿ ××¤×¡×™× ××¡×•×× ×™×...');\n    \n    // Unstar all starred zeros in the path\n    for (let i = 1; i < this.path.length; i += 2) {\n      const step = this.path[i];\n      this.starredZeros.delete(`${step.row},${step.col}`);\n    }\n    \n    // Star all primed zeros in the path\n    for (let i = 0; i < this.path.length; i += 2) {\n      const step = this.path[i];\n      this.starredZeros.add(`${step.row},${step.col}`);\n    }\n    \n    console.log(`â­ ×¢×•×“×›× ×• ${this.starredZeros.size} ××¤×¡×™× ××¡×•×× ×™×`);\n  }\n\n  extractAssignment() {\n    console.log('ğŸ“Š ××—×œ×¥ ×”×©××” ×¡×•×¤×™×ª...');\n    \n    this.assignment.fill(-1);\n    \n    for (const zero of this.starredZeros) {\n      const [row, col] = zero.split(',').map(Number);\n      this.assignment[row] = col;\n    }\n    \n    const assignedCount = this.assignment.filter(val => val !== -1).length;\n    console.log(`âœ… ×”×©××” ×¡×•×¤×™×ª: ${assignedCount}/${this.n} ××•×§×¦×™×`);\n  }\n\n  createFallbackAssignment() {\n    console.log('ğŸ”„ ×™×•×¦×¨ ×”×©××” ×—×œ×•×¤×™×ª...');\n    \n    const assignment = new Array(this.n).fill(-1);\n    const usedCols = new Set();\n    \n    // Simple greedy assignment on original matrix\n    for (let i = 0; i < this.n; i++) {\n      let bestCol = -1;\n      let bestValue = Infinity;\n      \n      for (let j = 0; j < this.n; j++) {\n        if (!usedCols.has(j) && this.originalMatrix[i][j] < bestValue) {\n          bestValue = this.originalMatrix[i][j];\n          bestCol = j;\n        }\n      }\n      \n      if (bestCol !== -1 && bestValue < Infinity) {\n        assignment[i] = bestCol;\n        usedCols.add(bestCol);\n      }\n    }\n    \n    return assignment;\n  }\n}\n\n// ××¢×¨×›×ª ×©×™×‘×•×¥ ××™××•× ×™× ××•×¤×˜×™××œ×™×ª ××œ××”\nclass CompleteOptimalWorkoutScheduler {\n  constructor(timeSlots, fieldsByTime, userPreferences) {\n    this.timeSlots = timeSlots;\n    this.fieldsByTime = fieldsByTime;\n    this.userPreferences = userPreferences || [];\n    this.availableSports = this.extractAvailableSports();\n    this.maxUsagePerSport = 2;\n    \n    console.log('ğŸš€ ××¢×¨×›×ª ×©×™×‘×•×¥ ××•×¤×˜×™××œ×™×ª × ×•×¦×¨×”:');\n    console.log('â° ×–×× ×™×:', this.timeSlots.length);\n    console.log('ğŸƒ ×¡×¤×•×¨×˜×™× ×–××™× ×™×:', this.availableSports);\n    console.log('â¤ï¸ ×”×¢×“×¤×•×ª ××©×ª××©:', this.userPreferences);\n  }\n\n  extractAvailableSports() {\n    const sportsSet = new Set();\n    Object.values(this.fieldsByTime).forEach(fields => {\n      fields.forEach(field => {\n        if (field.sportTypeId) {\n          sportsSet.add(field.sportTypeId);\n        }\n      });\n    });\n    return Array.from(sportsSet).sort((a, b) => a - b);\n  }\n\n  // ×—×™×©×•×‘ × ×™×§×•×“ ××“×•×™×§ ×œ×›×œ ×©×™×œ×•×‘ ×–××Ÿ-×¡×¤×•×¨×˜\n  calculatePreciseScore(timeSlot, sportId, currentUsage = 0, priority = 1) {\n    const availableFields = this.fieldsByTime[timeSlot] || [];\n    const hasAvailableField = availableFields.some(field => \n      field.sportTypeId === sportId && field.isAvailable !== false\n    );\n    \n    if (!hasAvailableField) {\n      return -1; // ×‘×œ×ª×™ ××¤×©×¨×™\n    }\n    \n    let score = 1000; // × ×™×§×•×“ ×‘×¡×™×¡ ×’×‘×•×”\n    \n    // ×‘×•× ×•×¡ ×—×–×§ ×œ×”×¢×“×¤×•×ª ××©×ª××© (×¡×“×¨ ×—×©×•×‘!)\n    const preferenceIndex = this.userPreferences.indexOf(sportId);\n    if (preferenceIndex !== -1) {\n      score += (this.userPreferences.length - preferenceIndex) * 500;\n    }\n    \n    // ×¢×•× ×© ×—×–×§ ×¢×œ ×¢×“×™×¤×•×ª × ××•×›×” (×’×™×•×•×Ÿ ×—×©×•×‘!)\n    const priorityPenalty = (priority - 1) * 2000;\n    score -= priorityPenalty;\n    \n    // ×¢×•× ×© ×¢×œ ×©×™××•×© ×—×•×–×¨ (×¨×§ ×× ×–×” ×œ× ×¢×“×™×¤×•×ª ×¨××©×•× ×”)\n    if (priority > 1) {\n      const usagePenalty = currentUsage * currentUsage * 100;\n      score -= usagePenalty;\n    }\n    \n    // ×‘×•× ×•×¡ ×œ××™×›×•×ª ×”××’×¨×©\n    const bestField = availableFields\n      .filter(field => field.sportTypeId === sportId)\n      .sort((a, b) => (b.name || '').length - (a.name || '').length)[0];\n    \n    if (bestField && bestField.name && bestField.name.length > 10) {\n      score += 50; // ××’×¨×© ××™×›×•×ª×™\n    }\n    \n    // ×¢×•× ×© ×§×œ ×¢×œ ×–×× ×™× ×××•×—×¨×™× (×”×¢×“×¤×” ×œ×–×× ×™× ××•×§×“××™×)\n    const timeIndex = this.timeSlots.indexOf(timeSlot);\n    score -= timeIndex * 2;\n    \n    return Math.max(0, score);\n  }\n\n  // ×™×¦×™×¨×ª ××˜×¨×™×¦×ª ×¢×œ×•×™×•×ª ××•×©×œ××ª ×œ××œ×’×•×¨×™×ª× ×”×”×•× ×’×¨×™\n  createOptimalCostMatrix() {\n    console.log('ğŸ—ï¸ ×™×•×¦×¨ ××˜×¨×™×¦×ª ×¢×œ×•×™×•×ª ××•×¤×˜×™××œ×™×ª...');\n    \n    const numTimeSlots = this.timeSlots.length;\n    \n    // ×™×•×¦×¨ \"××¤×©×¨×•×™×•×ª ×¡×¤×•×¨×˜\" - ×¢× ×¢×“×™×¤×•×ª ×œ×’×™×•×•×Ÿ\n    const sportOptions = [];\n    \n    // ×§×•×“× ×›×œ - ×›×œ ×¡×¤×•×¨×˜ ×¤×¢× ×¨××©×•× ×” (×’×™×•×•×Ÿ ××§×¡×™××œ×™)\n    for (const sportId of this.availableSports) {\n      sportOptions.push({\n        sportId,\n        usage: 0,\n        id: `${sportId}_1`,\n        name: `${SPORT_MAPPING[sportId]} (×¨××©×•×Ÿ)`,\n        priority: 1 // ×¢×“×™×¤×•×ª ×’×‘×•×”×”\n      });\n    }\n    \n    // ××—×¨ ×›×š - ×¡×¤×•×¨×˜×™× ×œ× ××”×•×‘×™× (×× ××™×Ÿ ×‘×¨×™×¨×”)\n    for (const sportId of this.availableSports) {\n      if (!this.userPreferences.includes(sportId)) {\n        sportOptions.push({\n          sportId,\n          usage: 1,\n          id: `${sportId}_2`,\n          name: `${SPORT_MAPPING[sportId]} (×œ× ××”×•×‘)`,\n          priority: 2 // ×¢×“×™×¤×•×ª × ××•×›×”\n        });\n      }\n    }\n    \n    // ×œ×‘×¡×•×£ - ×—×–×¨×” ×¢×œ ×¡×¤×•×¨×˜×™× ××”×•×‘×™× (×¨×§ ×× ××™×Ÿ ×‘×¨×™×¨×”)\n    for (const sportId of this.userPreferences) {\n      sportOptions.push({\n        sportId,\n        usage: 1,\n        id: `${sportId}_3`,\n        name: `${SPORT_MAPPING[sportId]} (×—×•×–×¨)`,\n        priority: 3 // ×¢×“×™×¤×•×ª × ××•×›×” ×‘×™×•×ª×¨\n      });\n    }\n    \n    const matrixSize = Math.max(numTimeSlots, sportOptions.length);\n    console.log(`ğŸ“ ×’×•×“×œ ××˜×¨×™×¦×”: ${matrixSize}x${matrixSize}`);\n    console.log(`ğŸƒ ××¤×©×¨×•×™×•×ª ×¡×¤×•×¨×˜: ${sportOptions.length}`);\n    \n    const costMatrix = Array(matrixSize).fill().map(() => Array(matrixSize).fill(0));\n    \n    // ××™×œ×•×™ ×”××˜×¨×™×¦×”\n    for (let i = 0; i < matrixSize; i++) {\n      for (let j = 0; j < matrixSize; j++) {\n        if (i < numTimeSlots && j < sportOptions.length) {\n          // ×–××Ÿ ×××™×ª×™ â† ××¤×©×¨×•×ª ×¡×¤×•×¨×˜ ×××™×ª×™×ª\n          const timeSlot = this.timeSlots[i];\n          const sportOption = sportOptions[j];\n          const score = this.calculatePreciseScore(timeSlot, sportOption.sportId, sportOption.usage, sportOption.priority);\n          \n          // ×”××¨×” ×œ×¢×œ×•×ª: × ×™×§×•×“ ×’×‘×•×” = ×¢×œ×•×ª × ××•×›×”\n          costMatrix[i][j] = score === -1 ? 999999 : (10000 - score);\n          \n        } else if (i < numTimeSlots) {\n          // ×–××Ÿ ×××™×ª×™ â† ×¡×¤×•×¨×˜ ×“××” (×¢×œ×•×ª ×’×‘×•×”×” ×××•×“)\n          costMatrix[i][j] = 999999;\n          \n        } else if (j < sportOptions.length) {\n          // ×–××Ÿ ×“××” â† ×¡×¤×•×¨×˜ ×××™×ª×™ (×¢×œ×•×ª × ××•×›×”)\n          costMatrix[i][j] = 1;\n          \n        } else {\n          // ×–××Ÿ ×“××” â† ×¡×¤×•×¨×˜ ×“××” (×¢×œ×•×ª 0)\n          costMatrix[i][j] = 0;\n        }\n      }\n    }\n    \n    // ×©××™×¨×ª ××™×“×¢ ×¢×œ ×”××¤×©×¨×•×™×•×ª ×œ××˜×¨×•×ª ×“×™×‘×•×’\n    this.sportOptions = sportOptions;\n    this.matrixSize = matrixSize;\n    \n    console.log('âœ… ××˜×¨×™×¦×ª ×¢×œ×•×™×•×ª × ×•×¦×¨×” ×‘×”×¦×œ×—×”');\n    return costMatrix;\n  }\n\n  // ×¤×ª×¨×•×Ÿ ×”×‘×¢×™×” ×‘××œ×’×•×¨×™×ª× ×”×•× ×’×¨×™\n  solveOptimal() {\n    console.log('ğŸ¯ ××ª×—×™×œ ×¤×ª×¨×•×Ÿ ××•×¤×˜×™××œ×™ ××œ×...');\n    \n    const costMatrix = this.createOptimalCostMatrix();\n    const hungarian = new OptimalHungarianAlgorithm(costMatrix);\n    const assignment = hungarian.solve();\n    \n    console.log('ğŸ“‹ ×ª×•×¦××ª ×”××œ×’×•×¨×™×ª× ×”×”×•× ×’×¨×™:', assignment);\n    \n    return this.parseOptimalAssignment(assignment);\n  }\n\n  // ×¤×™×¨×•×§ ×ª×•×¦××ª ×”××œ×’×•×¨×™×ª× ×”×”×•× ×’×¨×™ ×œ×ª×•×›× ×™×ª ××™××•×Ÿ\n  parseOptimalAssignment(assignment) {\n    console.log('ğŸ” ×× ×ª×— ×ª×•×¦××ª ×”×©××” ××•×¤×˜×™××œ×™×ª...');\n    \n    const result = [];\n    const sportsUsageCount = {};\n    const usedSportOptions = new Set(); // ×× ×™×¢×ª ×›×¤×™×œ×•×ª\n    let totalScore = 0;\n    \n    for (let i = 0; i < this.timeSlots.length; i++) {\n      const timeSlot = this.timeSlots[i];\n      const assignedOptionIndex = assignment[i];\n      \n      if (assignedOptionIndex !== -1 && \n          assignedOptionIndex < this.sportOptions.length) {\n        \n        const sportOption = this.sportOptions[assignedOptionIndex];\n        const currentUsage = sportsUsageCount[sportOption.sportId] || 0;\n        \n        // ×‘×“×™×§×” ×× ×”×©××” ×ª×§×™× ×” (×œ× ×›×¤×™×œ×•×ª ×‘××•×ª×” ××•×¤×¦×™×”)\n        if (!usedSportOptions.has(assignedOptionIndex)) {\n          const selectedField = this.findOptimalField(timeSlot, sportOption.sportId);\n          const score = this.calculatePreciseScore(timeSlot, sportOption.sportId, currentUsage);\n          \n          if (selectedField && score > 0) {\n            sportsUsageCount[sportOption.sportId] = currentUsage + 1;\n            usedSportOptions.add(assignedOptionIndex); // ×¡×™××•×Ÿ ×›×©×™××•×©\n            totalScore += score;\n            \n            result.push({\n              time: timeSlot,\n              field: selectedField,\n              sportType: SPORT_MAPPING[sportOption.sportId],\n              sportId: sportOption.sportId,\n              usage: currentUsage + 1,\n              score: score,\n              isOptimal: true\n            });\n            \n            console.log(`âœ… ${timeSlot}: ${SPORT_MAPPING[sportOption.sportId]} (${score} × ×§') ×‘××’×¨×© ${selectedField.name}`);\n          } else {\n            result.push({\n              time: timeSlot,\n              field: null,\n              reason: '×œ× × ××¦× ××’×¨×© ××ª××™×',\n              isOptimal: false\n            });\n            console.log(`âŒ ${timeSlot}: ×œ× × ××¦× ××’×¨×© ×œ-${SPORT_MAPPING[sportOption.sportId]}`);\n          }\n        } else {\n          result.push({\n            time: timeSlot,\n            field: null,\n            reason: '×¡×¤×•×¨×˜ ×–×” ×›×‘×¨ ×©×•××©',\n            isOptimal: false\n          });\n          console.log(`âš ï¸ ${timeSlot}: ×¡×¤×•×¨×˜ ×›×‘×¨ ×©×•××©`);\n        }\n      } else {\n        result.push({\n          time: timeSlot,\n          field: null,\n          reason: '×œ× × ××¦× ×©×™×‘×•×¥ ××•×¤×˜×™××œ×™',\n          isOptimal: false\n        });\n        console.log(`âŒ ${timeSlot}: ×œ× × ××¦× ×©×™×‘×•×¥`);\n      }\n    }\n    \n    const successfulSlots = result.filter(slot => slot.field !== null).length;\n    \n    console.log(`ğŸ† ×¤×ª×¨×•×Ÿ ××•×¤×˜×™××œ×™: ${successfulSlots}/${this.timeSlots.length} ×–×× ×™×`);\n    console.log(`ğŸ¯ × ×™×§×•×“ ×›×•×œ×œ: ${totalScore}`);\n    console.log(`ğŸ“Š ×©×™××•×© ×‘×¡×¤×•×¨×˜×™×:`, sportsUsageCount);\n    \n    return {\n      slots: result,\n      totalSlots: this.timeSlots.length,\n      successfulSlots: successfulSlots,\n      totalScore: totalScore,\n      sportsUsage: sportsUsageCount,\n      isOptimal: true,\n      algorithm: 'Hungarian Algorithm (Optimal)'\n    };\n  }\n\n  // ××¦×™××ª ×”××’×¨×© ×”××•×¤×˜×™××œ×™ ×œ×¡×¤×•×¨×˜ ×‘×–××Ÿ × ×ª×•×Ÿ\n  findOptimalField(timeSlot, sportId) {\n    const availableFields = this.fieldsByTime[timeSlot] || [];\n    const suitableFields = availableFields.filter(field => \n      field.sportTypeId === sportId && field.isAvailable !== false\n    );\n    \n    if (suitableFields.length === 0) {\n      return null;\n    }\n    \n    // ××™×•×Ÿ ×œ×¤×™ ××™×›×•×ª ×”××’×¨×©\n    return suitableFields.sort((a, b) => {\n      // ×”×¢×“×£ ××’×¨×©×™× ×¢× ×©××•×ª ××¤×•×¨×˜×™× ×™×•×ª×¨\n      const scoreA = (a.name || '').length + (a.description || '').length;\n      const scoreB = (b.name || '').length + (b.description || '').length;\n      return scoreB - scoreA;\n    })[0];\n  }\n\n  // ×‘×“×™×§×ª ×ª×§×™× ×•×ª ×”× ×ª×•× ×™× ×œ×¤× ×™ ×”×¤×ª×¨×•×Ÿ\n  validateInputData() {\n    console.log('ğŸ” ×‘×•×“×§ ×ª×§×™× ×•×ª × ×ª×•× ×™×...');\n    \n    const issues = [];\n    \n    if (!this.timeSlots || this.timeSlots.length === 0) {\n      issues.push('××™×Ÿ ×–×× ×™× ××•×’×“×¨×™×');\n    }\n    \n    if (!this.fieldsByTime || Object.keys(this.fieldsByTime).length === 0) {\n      issues.push('××™×Ÿ ××’×¨×©×™× ×–××™× ×™×');\n    }\n    \n    if (this.availableSports.length === 0) {\n      issues.push('××™×Ÿ ×¡×¤×•×¨×˜×™× ×–××™× ×™×');\n    }\n    \n    // ×‘×“×™×§×” ×©×™×© ×œ×¤×—×•×ª ××’×¨×© ××—×“ ×–××™×Ÿ\n    const totalFields = Object.values(this.fieldsByTime).flat().length;\n    if (totalFields === 0) {\n      issues.push('××™×Ÿ ××’×¨×©×™× ×–××™× ×™× ×‘×›×œ×œ');\n    }\n    \n    if (issues.length > 0) {\n      console.log('âŒ ×‘×¢×™×•×ª ×‘× ×ª×•× ×™×:', issues);\n      return { valid: false, issues };\n    }\n    \n    console.log('âœ… × ×ª×•× ×™× ×ª×§×™× ×™×');\n    return { valid: true, issues: [] };\n  }\n\n  // ×¤×•× ×§×¦×™×” ×¨××©×™×ª ×œ×¤×ª×¨×•×Ÿ\n  solve() {\n    console.log('ğŸš€ ××ª×—×™×œ ×¤×ª×¨×•×Ÿ ×‘×¢×™×™×ª ×©×™×‘×•×¥ ××•×¤×˜×™××œ×™ ××œ×...');\n    \n    // ×‘×“×™×§×ª ×ª×§×™× ×•×ª\n    const validation = this.validateInputData();\n    if (!validation.valid) {\n      throw new Error(`× ×ª×•× ×™× ×œ× ×ª×§×™× ×™×: ${validation.issues.join(', ')}`);\n    }\n    \n    try {\n      // ×¤×ª×¨×•×Ÿ ××•×¤×˜×™××œ×™\n      const result = this.solveOptimal();\n      \n      console.log('ğŸ† ×¤×ª×¨×•×Ÿ ××•×¤×˜×™××œ×™ ×”×•×©×œ× ×‘×”×¦×œ×—×”!');\n      return result;\n      \n    } catch (error) {\n      console.error('âŒ ×©×’×™××” ×‘×¤×ª×¨×•×Ÿ ××•×¤×˜×™××œ×™:', error);\n      throw new Error(`×©×’×™××” ×‘×¤×ª×¨×•×Ÿ ××•×¤×˜×™××œ×™: ${error.message}`);\n    }\n  }\n}\n\n// ×”×¨×›×™×‘ ×”×¨××©×™ ×¢× ×”×©×œ××•×ª ××œ××•×ª\nfunction CreateWorkout({ user, selectedDate, startTime, endTime, onBackClick }) {\n  const [isGenerating, setIsGenerating] = useState(false);\n  const [workoutPlan, setWorkoutPlan] = useState(null);\n  const [userPreferences, setUserPreferences] = useState([]);\n  const [fieldsByTime, setFieldsByTime] = useState({});\n  const [timeSlots, setTimeSlots] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [isSaving, setIsSaving] = useState(false);\n  const [saveSuccess, setSaveSuccess] = useState(false);\n\n  useEffect(() => {\n    console.log('ğŸ¬ CreateWorkout × ×˜×¢×Ÿ ×¢× ×¤×¨××˜×¨×™×:', {\n      user: user?.userName,\n      selectedDate,\n      startTime,\n      endTime\n    });\n    \n    initializeWorkoutData();\n  }, []);\n\n  const initializeWorkoutData = async () => {\n    try {\n      setLoading(true);\n      setError('');\n      \n      console.log('ğŸ“Š ×˜×•×¢×Ÿ × ×ª×•× ×™ ××©×ª××©...');\n      await loadUserPreferences();\n      \n      console.log('â° ×™×•×¦×¨ ×¨×‘×¢×™ ×©×¢×”...');\n      const slots = createTimeSlots();\n      setTimeSlots(slots);\n      \n      console.log('ğŸŸï¸ ×˜×•×¢×Ÿ ××’×¨×©×™× ×–××™× ×™×...');\n      await loadAvailableFields(slots);\n      \n      console.log('âœ… ×›×œ ×”× ×ª×•× ×™× × ×˜×¢× ×• ×‘×”×¦×œ×—×”');\n      \n    } catch (err) {\n      console.error('âŒ ×©×’×™××” ×‘×˜×¢×™× ×ª × ×ª×•× ×™×:', err);\n      setError('×©×’×™××” ×‘×˜×¢×™× ×ª × ×ª×•× ×™×. ×× × × ×¡×” ×©×•×‘.');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const loadUserPreferences = async () => {\n    try {\n      if (!user || !user.id) {\n        throw new Error('××©×ª××© ×œ× ××•×’×“×¨');\n      }\n      \n      const url = `https://wolfit-gym-backend-ijvq.onrender.com/api/user-preferences/${user.id}`;\n      console.log('ğŸ“¡ ×§×•×¨× ×”×¢×“×¤×•×ª ×:', url);\n      \n      const response = await fetch(url);\n      const data = await response.json();\n      \n      if (data.success) {\n        const preferences = data.data.selectedSports || [];\n        setUserPreferences(preferences);\n        console.log('â¤ï¸ ×”×¢×“×¤×•×ª × ×˜×¢× ×•:', preferences.map(id => SPORT_MAPPING[id]).join(', '));\n      } else {\n        console.log('âš ï¸ ××™×Ÿ ×”×¢×“×¤×•×ª ×©××•×¨×•×ª');\n        setUserPreferences([]);\n      }\n    } catch (error) {\n      console.error('âŒ ×©×’×™××” ×‘×˜×¢×™× ×ª ×”×¢×“×¤×•×ª:', error);\n      setUserPreferences([]);\n      throw error;\n    }\n  };\n\n  const createTimeSlots = () => {\n    const slots = [];\n    const [startHour, startMinute] = startTime.split(':').map(Number);\n    const [endHour, endMinute] = endTime.split(':').map(Number);\n    const startTotalMinutes = startHour * 60 + startMinute;\n    const endTotalMinutes = endHour * 60 + endMinute;\n    \n    console.log(`â° ×™×•×¦×¨ ×¨×‘×¢×™ ×©×¢×” ×-${startTime} ×¢×“ ${endTime}`);\n    \n    for (let minutes = startTotalMinutes; minutes < endTotalMinutes; minutes += 15) {\n      const hours = Math.floor(minutes / 60);\n      const mins = minutes % 60;\n      const timeStr = `${hours.toString().padStart(2, '0')}:${mins.toString().padStart(2, '0')}`;\n      slots.push(timeStr);\n    }\n    \n    console.log(`ğŸ“… × ×•×¦×¨×• ${slots.length} ×¨×‘×¢×™ ×©×¢×”:`, slots.join(', '));\n    return slots;\n  };\n\n  const loadAvailableFields = async (timeSlots) => {\n    try {\n      console.log('ğŸŒ ×©×•×œ×— ×‘×§×©×” ×œ××’×¨×©×™× ×–××™× ×™×...');\n      \n      const requestBody = {\n        date: selectedDate,\n        timeSlots: timeSlots\n      };\n      \n      console.log('ğŸ“‹ × ×ª×•× ×™ ×‘×§×©×”:', requestBody);\n      \n      const response = await fetch('https://wolfit-gym-backend-ijvq.onrender.com/api/available-fields-for-workout', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(requestBody)\n      });\n      \n      if (response.ok) {\n        const data = await response.json();\n        \n        if (data.success) {\n          setFieldsByTime(data.fieldsByTime);\n          \n          // ×¡×˜×˜×™×¡×˜×™×§×•×ª ××¤×•×¨×˜×•×ª\n          const totalFieldSlots = Object.values(data.fieldsByTime).flat().length;\n          const timeSlotsWithFields = Object.keys(data.fieldsByTime).length;\n          const sportTypes = new Set();\n          \n          Object.values(data.fieldsByTime).flat().forEach(field => {\n            sportTypes.add(field.sportTypeId);\n          });\n          \n          console.log('ğŸŸï¸ ××’×¨×©×™× × ×˜×¢× ×• ×‘×”×¦×œ×—×”:');\n          console.log(`ğŸ“Š ×¡×”\"×› ××’×¨×©-×–×× ×™×: ${totalFieldSlots}`);\n          console.log(`â° ×–×× ×™× ×¢× ××’×¨×©×™×: ${timeSlotsWithFields}/${timeSlots.length}`);\n          console.log(`ğŸƒ ×¡×•×’×™ ×¡×¤×•×¨×˜ ×–××™× ×™×: ${Array.from(sportTypes).map(id => SPORT_MAPPING[id]).join(', ')}`);\n          \n          return;\n        } else {\n          throw new Error(data.message);\n        }\n      } else {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n      \n    } catch (error) {\n      console.error('âŒ ×©×’×™××” ×‘×˜×¢×™× ×ª ××’×¨×©×™×:', error);\n      throw error;\n    }\n  };\n\n  const generateOptimalWorkout = () => {\n    console.log('ğŸ¯ ××ª×—×™×œ ×™×¦×™×¨×ª ×ª×•×›× ×™×ª ××™××•×Ÿ ××•×¤×˜×™××œ×™×ª...');\n    \n    if (timeSlots.length === 0 || Object.keys(fieldsByTime).length === 0) {\n      console.log('âŒ ××™×Ÿ × ×ª×•× ×™× ×–××™× ×™× ×œ×™×¦×™×¨×ª ××™××•×Ÿ');\n      return null;\n    }\n\n    // ×‘×“×™×§×” ×©×™×© ××’×¨×©×™× ×–××™× ×™×\n    const totalFields = Object.values(fieldsByTime).flat().length;\n    if (totalFields === 0) {\n      console.log('âŒ ××™×Ÿ ××’×¨×©×™× ×–××™× ×™× ×‘×›×œ×œ');\n      return null;\n    }\n\n    try {\n      const scheduler = new CompleteOptimalWorkoutScheduler(timeSlots, fieldsByTime, userPreferences);\n      const result = scheduler.solve();\n      \n      console.log('ğŸ† ×ª×•×›× ×™×ª ××™××•×Ÿ ××•×¤×˜×™××œ×™×ª × ×•×¦×¨×”:', result);\n      return result;\n      \n    } catch (error) {\n      console.error('âŒ ×©×’×™××” ×‘×™×¦×™×¨×ª ×ª×•×›× ×™×ª ××•×¤×˜×™××œ×™×ª:', error);\n      throw error;\n    }\n  };\n\n  const generateWorkout = async () => {\n    if (timeSlots.length === 0 || Object.keys(fieldsByTime).length === 0) {\n      setError('×œ× × ×˜×¢× ×• × ×ª×•× ×™×. ×× × ×¨×¢× ×Ÿ ××ª ×”×“×£.');\n      return;\n    }\n    \n    setIsGenerating(true);\n    setError('');\n    \n    try {\n      console.log('ğŸš€ ××ª×—×™×œ ×œ×™×¦×•×¨ ×ª×•×›× ×™×ª ××™××•×Ÿ ××•×¤×˜×™××œ×™×ª ××œ××”...');\n      \n      // ×¡×™××•×œ×¦×™×” ×©×œ ×–××Ÿ ×¢×™×‘×•×“ (×›×“×™ ×©×”××©×ª××© ×™×¨××” ×©××©×”×• ×§×•×¨×”)\n      await new Promise(resolve => setTimeout(resolve, 1500));\n      \n      const optimalWorkout = generateOptimalWorkout();\n      \n      if (optimalWorkout && optimalWorkout.successfulSlots > 0) {\n        setWorkoutPlan(optimalWorkout);\n        console.log('âœ… ×ª×•×›× ×™×ª ××™××•×Ÿ ××•×¤×˜×™××œ×™×ª × ×•×¦×¨×” ×‘×”×¦×œ×—×”');\n      } else {\n        setError('×œ× ×”×¦×œ×™×— ×œ×™×¦×•×¨ ×ª×•×›× ×™×ª ××™××•×Ÿ ××ª××™××”. × ×¡×” ×©×¢×•×ª ××• ×ª××¨×™×š ××—×¨×™×.');\n      }\n      \n    } catch (error) {\n      console.error('âŒ ×©×’×™××” ×‘×™×¦×™×¨×ª ××™××•×Ÿ:', error);\n      setError(`×©×’×™××” ×‘×™×¦×™×¨×ª ×”××™××•×Ÿ: ${error.message}`);\n    } finally {\n      setIsGenerating(false);\n    }\n  };\n\n  const saveWorkoutToDatabase = async () => {\n    if (!workoutPlan || !user || !user.id) {\n      setError('××™×Ÿ ×ª×•×›× ×™×ª ××™××•×Ÿ ××• ××©×ª××© ×œ× ××•×’×“×¨');\n      return;\n    }\n\n    setIsSaving(true);\n    setError('');\n    setSaveSuccess(false);\n\n    try {\n      // ×”×›× ×ª ×¨×©×™××ª ×”×–×× ×•×ª ×œ××’×¨×©×™×\n      const bookings = workoutPlan.slots\n        .filter(slot => slot.field !== null)\n        .map(slot => ({\n          idField: slot.field.id,\n          bookingDate: selectedDate,\n          startTime: slot.time,\n          idUser: user.id\n        }));\n\n      if (bookings.length === 0) {\n        setError('××™×Ÿ ××’×¨×©×™× ×œ×©××™×¨×”');\n        setIsSaving(false);\n        return;\n      }\n\n      const requestBody = {\n        bookings: bookings,\n        userId: user.id,\n        date: selectedDate\n      };\n\n      console.log('ğŸ’¾ ×©×•××¨ ××™××•×Ÿ:', requestBody);\n\n      const response = await fetch('https://wolfit-gym-backend-ijvq.onrender.com/api/book-fields', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(requestBody)\n      });\n\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n\n      const data = await response.json();\n\n      if (data.success) {\n        setSaveSuccess(true);\n        console.log('âœ… ××™××•×Ÿ × ×©××¨ ×‘×”×¦×œ×—×”');\n        \n        setTimeout(() => {\n          if (onBackClick) {\n            onBackClick();\n          }\n        }, 2000);\n      } else {\n        setError(`×©×’×™××” ×‘×©××™×¨×ª ×”××™××•×Ÿ: ${data.message}`);\n      }\n\n    } catch (error) {\n      console.error('âŒ ×©×’×™××” ×‘×©××™×¨×ª ×”××™××•×Ÿ:', error);\n      setError(`×©×’×™××” ×‘×©××™×¨×ª ×”××™××•×Ÿ: ${error.message}`);\n    } finally {\n      setIsSaving(false);\n    }\n  };\n\n  const canCreateWorkout = () => {\n    return !loading && timeSlots.length > 0 && Object.keys(fieldsByTime).length > 0;\n  };\n\n  if (loading) {\n    return (\n      <div className=\"create-workout-container\">\n        <button className=\"back-button\" onClick={onBackClick}>×—×–×¨×”</button>\n        <div className=\"content\">\n          <h1>ğŸ”„ ×˜×•×¢×Ÿ × ×ª×•× ×™×...</h1>\n          <p>×× × ×”××ª×Ÿ ×‘×–××Ÿ ×©×× ×• ×˜×•×¢× ×™× ××ª ×”××™×“×¢ ×”×“×¨×•×© ×œ×™×¦×™×¨×ª ×”××™××•×Ÿ ×”××•×¤×˜×™××œ×™</p>\n          <div style={{ \n            margin: '20px 0', \n            padding: '15px', \n            background: 'rgba(81, 207, 102, 0.1)',\n            borderRadius: '8px',\n            border: '1px solid rgba(81, 207, 102, 0.3)'\n          }}>\n            ×”××¢×¨×›×ª ×˜×•×¢× ×” ××ª ×”×¢×“×¤×•×ª×™×š, ×‘×•×“×§×ª ×–××™× ×•×ª ××’×¨×©×™× ×•××›×™× ×” ××œ×’×•×¨×™×ª× ××•×¤×˜×™××œ×™...\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"create-workout-container\">\n      <button className=\"back-button\" onClick={onBackClick}>\n        ×—×–×¨×”\n      </button>\n      \n      <div className=\"content\">\n        <h1>ğŸ¯ ×™×•×¦×¨ ××™××•×Ÿ ××•×¤×˜×™××œ×™ ××œ× (Hungarian Algorithm)</h1>\n        \n        <div className=\"workout-info\">\n          <div className=\"info-card\">\n            <h3>ğŸ—“ï¸ ×¤×¨×˜×™ ×”××™××•×Ÿ</h3>\n            <p><strong>×ª××¨×™×š:</strong> {selectedDate}</p>\n            <p><strong>×©×¢×”:</strong> {startTime} - {endTime}</p>\n            <p><strong>××©×ª××©:</strong> {user.userName}</p>\n            <p><strong>×¨×‘×¢×™ ×©×¢×”:</strong> {timeSlots.length}</p>\n          </div>\n          \n          <div className=\"info-card\">\n            <h3>â¤ï¸ ×”×¢×“×¤×•×ª ×”××©×ª××©</h3>\n            {userPreferences.length > 0 ? (\n              <div>\n                <p><strong>×¡×¤×•×¨×˜×™× ××•×¢×“×¤×™× (×œ×¤×™ ×¡×“×¨):</strong></p>\n                <ol style={{ margin: '10px 0', paddingRight: '20px' }}>\n                  {userPreferences.map((sportId) => (\n                    <li key={sportId} style={{ margin: '5px 0' }}>\n                      {SPORT_MAPPING[sportId] || `×¡×¤×•×¨×˜ ${sportId}`}\n                    </li>\n                  ))}\n                </ol>\n              </div>\n            ) : (\n              <p style={{ color: '#ff6b6b' }}>âš ï¸ ××™×Ÿ ×”×¢×“×¤×•×ª ×©××•×¨×•×ª - ×”××œ×’×•×¨×™×ª× ×™×©×ª××© ×‘×”×¢×“×¤×•×ª ×‘×¨×™×¨×ª ××—×“×œ</p>\n            )}\n          </div>\n          \n          <div className=\"info-card\">\n            <h3>ğŸŸï¸ ××’×¨×©×™× ×–××™× ×™×</h3>\n            <p><strong>×–×× ×™× ×¢× ××’×¨×©×™×:</strong> {Object.keys(fieldsByTime).length}/{timeSlots.length}</p>\n            <p><strong>×¡×”\"×› ××’×¨×©-×–×× ×™×:</strong> {Object.values(fieldsByTime).flat().length}</p>\n            \n            {Object.keys(fieldsByTime).length > 0 && (\n              <div style={{ marginTop: '10px' }}>\n                <strong>×“×•×’×××•×ª ×–××™× ×•×ª:</strong>\n                {Object.entries(fieldsByTime).slice(0, 3).map(([time, fields]) => (\n                  <div key={time} className=\"time-fields\" style={{ margin: '5px 0', fontSize: '0.9rem' }}>\n                    <strong>{time}:</strong> {fields.length} ××’×¨×©×™× ({fields.map(f => SPORT_MAPPING[f.sportTypeId]).join(', ')})\n                  </div>\n                ))}\n                {Object.keys(fieldsByTime).length > 3 && <div style={{ fontSize: '0.8rem', opacity: 0.7 }}>×•×¢×•×“...</div>}\n              </div>\n            )}\n          </div>\n        </div>\n\n        {error && (\n          <div style={{ \n            color: '#ff6b6b', \n            textAlign: 'center', \n            margin: '20px 0',\n            padding: '15px',\n            background: 'rgba(255, 107, 107, 0.1)',\n            borderRadius: '8px',\n            border: '1px solid rgba(255, 107, 107, 0.3)'\n          }}>\n            âŒ {error}\n          </div>\n        )}\n\n        <div className=\"action-buttons\">\n          <button\n            className=\"generate-button\"\n            onClick={generateWorkout}\n            disabled={isGenerating || !canCreateWorkout()}\n            style={{\n              background: isGenerating ? '#ccc' : 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\n              color: 'white',\n              border: 'none',\n              padding: '15px 30px',\n              borderRadius: '8px',\n              fontSize: '16px',\n              fontWeight: 'bold',\n              cursor: isGenerating ? 'not-allowed' : 'pointer',\n              transition: 'all 0.3s ease'\n            }}\n          >\n            {isGenerating ? 'ğŸ”„ ×™×•×¦×¨ ××™××•×Ÿ ××•×¤×˜×™××œ×™...' : 'ğŸ¯ ×¦×•×¨ ×ª×•×›× ×™×ª ××™××•×Ÿ ××•×¤×˜×™××œ×™×ª'}\n          </button>\n        </div>\n\n        {workoutPlan && (\n          <div className=\"workout-result\" style={{ marginTop: '30px' }}>\n            <h2>ğŸ† ×”×ª×•×›× ×™×ª ×”××•×¤×˜×™××œ×™×ª ×©×œ×š</h2>\n            \n                         <div className=\"optimization-info\" style={{\n               background: 'linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%)',\n               color: 'white',\n               padding: '20px',\n               borderRadius: '12px',\n               margin: '20px 0',\n               textAlign: 'center'\n             }}>\n              <h3 style={{ margin: '0 0 15px 0' }}>ğŸ“Š ×¡×˜×˜×™×¡×˜×™×§×•×ª ××•×¤×˜×™××œ×™×•×ª</h3>\n              <div style={{ display: 'flex', justifyContent: 'space-around', flexWrap: 'wrap', gap: '20px' }}>\n                <div>\n                  <div style={{ fontSize: '24px', fontWeight: 'bold' }}>{workoutPlan.successfulSlots}/{workoutPlan.totalSlots}</div>\n                  <div style={{ fontSize: '14px', opacity: 0.9 }}>×¨×‘×¢×™ ×©×¢×” ××•×¦×œ×—×™×</div>\n                </div>\n                <div>\n                  <div style={{ fontSize: '24px', fontWeight: 'bold' }}>{workoutPlan.totalScore}</div>\n                  <div style={{ fontSize: '14px', opacity: 0.9 }}>× ×™×§×•×“ ×›×•×œ×œ</div>\n                </div>\n                <div>\n                  <div style={{ fontSize: '24px', fontWeight: 'bold' }}>âœ…</div>\n                  <div style={{ fontSize: '14px', opacity: 0.9 }}>{workoutPlan.algorithm}</div>\n                </div>\n              </div>\n            </div>\n\n            {workoutPlan.sportsUsage && Object.keys(workoutPlan.sportsUsage).length > 0 && (\n                             <div className=\"sports-summary\" style={{\n                 background: 'rgba(139, 92, 246, 0.1)',\n                 padding: '15px',\n                 borderRadius: '8px',\n                 border: '1px solid rgba(139, 92, 246, 0.3)',\n                 margin: '20px 0'\n               }}>\n                <h3 style={{ margin: '0 0 15px 0' }}>ğŸ“ˆ ×¤×™×œ×•×’ ×¡×¤×•×¨×˜×™× ××•×¤×˜×™××œ×™:</h3>\n                <div style={{ display: 'flex', flexWrap: 'wrap', gap: '15px' }}>\n                  {Object.entries(workoutPlan.sportsUsage).map(([sportId, count]) => (\n                                         <div key={sportId} style={{\n                       background: 'white',\n                       padding: '10px 15px',\n                       borderRadius: '20px',\n                       border: '1px solid rgba(139, 92, 246, 0.5)',\n                       fontSize: '14px'\n                     }}>\n                      <strong>{SPORT_MAPPING[sportId] || `×¡×¤×•×¨×˜ ${sportId}`}:</strong> {count} ×¤×¢××™×\n                    </div>\n                  ))}\n                </div>\n              </div>\n            )}\n            \n            <div className=\"workout-timeline\">\n              <h3>â° ×œ×•×— ×–×× ×™× ××¤×•×¨×˜:</h3>\n              {workoutPlan.slots.map((slot, index) => (\n                                 <div key={index} className=\"time-slot\" style={{\n                   display: 'flex',\n                   alignItems: 'center',\n                   padding: '15px',\n                   margin: '10px 0',\n                   border: slot.field ? '2px solid #8b5cf6' : '2px solid #ff6b6b',\n                   borderRadius: '8px',\n                   background: slot.field ? 'rgba(139, 92, 246, 0.05)' : 'rgba(255, 107, 107, 0.05)'\n                 }}>\n                  <div className=\"time\" style={{\n                    minWidth: '80px',\n                    fontWeight: 'bold',\n                    fontSize: '16px'\n                  }}>\n                    {slot.time}\n                  </div>\n                  <div className=\"field-info\" style={{ flex: 1, marginRight: '15px' }}>\n                    {slot.field ? (\n                      <>\n                                                 <div style={{ fontWeight: 'bold', fontSize: '16px', color: '#8b5cf6' }}>\n                           âœ… {slot.field.name}\n                         </div>\n                         <div style={{ fontSize: '14px', color: '#666', marginTop: '5px' }}>\n                           ğŸƒ ×¡×¤×•×¨×˜: {slot.sportType} | \n                           ğŸ”„ ×©×™××•×©: {slot.usage}/2 | \n                           {slot.score && (\n                             <span> ğŸ¯ × ×™×§×•×“: {slot.score}</span>\n                           )}\n                           {slot.isOptimal && <span style={{ color: '#8b5cf6' }}> | â­ ××•×¤×˜×™××œ×™</span>}\n                         </div>\n                      </>\n                    ) : (\n                      <>\n                        <div style={{ fontWeight: 'bold', fontSize: '16px', color: '#ff6b6b' }}>\n                          âŒ ×œ× ×–××™×Ÿ\n                        </div>\n                        <div style={{ fontSize: '14px', color: '#999', marginTop: '5px' }}>\n                          {slot.reason || '×œ× × ××¦× ××’×¨×© ××ª××™×'}\n                        </div>\n                      </>\n                    )}\n                  </div>\n                </div>\n              ))}\n            </div>\n\n            {saveSuccess ? (\n                               <div style={{ \n                   color: '#8b5cf6', \n                   textAlign: 'center', \n                   margin: '30px 0',\n                   padding: '20px',\n                   background: 'rgba(139, 92, 246, 0.1)',\n                   borderRadius: '12px',\n                   border: '2px solid rgba(139, 92, 246, 0.3)'\n                 }}>\n                <h3>ğŸ‰ ×”××™××•×Ÿ ×”××•×¤×˜×™××œ×™ × ×©××¨ ×‘×”×¦×œ×—×”!</h3>\n                <p>××¢×‘×™×¨ ××•×ª×š ×œ×ª×¤×¨×™×˜ ×”×¨××©×™ ×‘×¢×•×“ ×¨×’×¢×™×...</p>\n              </div>\n            ) : (\n              <div className=\"action-buttons\" style={{ marginTop: '30px', textAlign: 'center' }}>\n                <button\n                  className=\"save-button\"\n                  onClick={saveWorkoutToDatabase}\n                  disabled={isSaving}\n                                     style={{ \n                     background: isSaving ? '#ccc' : 'linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%)',\n                     color: 'white',\n                     border: 'none',\n                     padding: '15px 40px',\n                     borderRadius: '8px',\n                     fontSize: '16px',\n                     fontWeight: 'bold',\n                     cursor: isSaving ? 'not-allowed' : 'pointer',\n                     transition: 'all 0.3s ease'\n                   }}\n                >\n                  {isSaving ? 'ğŸ’¾ ×©×•××¨ ××™××•×Ÿ...' : 'âœ… ××™×©×•×¨ ×•×©××™×¨×ª ×”××™××•×Ÿ ×”××•×¤×˜×™××œ×™'}\n                </button>\n              </div>\n            )}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport default CreateWorkout;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}