{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useNavigate}from'react-router-dom';import{useAuth}from'./contexts/AuthContext';import{API_BASE_URL}from'./config';import'./MainMenu.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function MainMenu(){const{user,logout}=useAuth();const[isLoaded,setIsLoaded]=useState(false);const[hoveredButton,setHoveredButton]=useState(null);const[availableHours,setAvailableHours]=useState(0);const[loading,setLoading]=useState(true);const navigate=useNavigate();useEffect(()=>{const timer=setTimeout(()=>setIsLoaded(true),100);loadUserHours();return()=>clearTimeout(timer);},[]);const loadUserHours=async()=>{try{setLoading(true);const token=localStorage.getItem('authToken');const response=await fetch(\"\".concat(API_BASE_URL,\"/api/user-hours/\").concat(user.id),{headers:{'Authorization':\"Bearer \".concat(token),'Content-Type':'application/json'}});const data=await response.json();if(data.success){setAvailableHours(data.availableHours);}}catch(err){console.error('שגיאה בטעינת שעות:',err);}finally{setLoading(false);}};const handleButtonClick=action=>{console.log(\"Clicked: \".concat(action));switch(action){case'user-edit':navigate('/edit-user');break;case'workout-booking':navigate('/workout-booking');break;case'start-workout':navigate('/start-workout');break;default:break;}};return/*#__PURE__*/_jsxs(\"div\",{className:\"main-menu \".concat(isLoaded?'loaded':''),children:[/*#__PURE__*/_jsx(\"button\",{className:\"logout-btn\",onClick:()=>logout(),children:\"\\u05D4\\u05EA\\u05E0\\u05EA\\u05E7\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"menu-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"header-section\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"brand-title\",children:\"WOLFit\"}),/*#__PURE__*/_jsx(\"div\",{className:\"title-line\"}),/*#__PURE__*/_jsx(\"div\",{className:\"available-hours\",children:loading?/*#__PURE__*/_jsx(\"span\",{children:\"\\u05D8\\u05D5\\u05E2\\u05DF \\u05E9\\u05E2\\u05D5\\u05EA \\u05D6\\u05DE\\u05D9\\u05E0\\u05D5\\u05EA...\"}):/*#__PURE__*/_jsxs(\"span\",{children:[\"\\u05E9\\u05E2\\u05D5\\u05EA \\u05D6\\u05DE\\u05D9\\u05E0\\u05D5\\u05EA: \",availableHours,\" \\u05DC\\u05D1\\u05E0\\u05D5\\u05EA \\u05D0\\u05D9\\u05DE\\u05D5\\u05DF\"]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"buttons-section\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"button-wrapper \".concat(hoveredButton==='user'?'hovered':''),onMouseEnter:()=>setHoveredButton('user'),onMouseLeave:()=>setHoveredButton(null),children:/*#__PURE__*/_jsxs(\"button\",{className:\"menu-button user-edit\",onClick:()=>handleButtonClick('user-edit'),children:[/*#__PURE__*/_jsx(\"span\",{className:\"button-text\",children:\"\\u05E2\\u05E8\\u05D9\\u05DB\\u05EA \\u05DE\\u05E9\\u05EA\\u05DE\\u05E9\"}),/*#__PURE__*/_jsx(\"div\",{className:\"button-line\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"button-wrapper \".concat(hoveredButton==='workout'?'hovered':''),onMouseEnter:()=>setHoveredButton('workout'),onMouseLeave:()=>setHoveredButton(null),children:/*#__PURE__*/_jsxs(\"button\",{className:\"menu-button workout-booking\",onClick:()=>handleButtonClick('workout-booking'),children:[/*#__PURE__*/_jsx(\"span\",{className:\"button-text\",children:\"\\u05D4\\u05D6\\u05DE\\u05E0\\u05EA \\u05D0\\u05D9\\u05DE\\u05D5\\u05DF\\u05DF\"}),/*#__PURE__*/_jsx(\"div\",{className:\"button-line\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"button-wrapper \".concat(hoveredButton==='start-workout'?'hovered':''),onMouseEnter:()=>setHoveredButton('start-workout'),onMouseLeave:()=>setHoveredButton(null),children:/*#__PURE__*/_jsxs(\"button\",{className:\"menu-button start-workout\",onClick:()=>handleButtonClick('start-workout'),children:[/*#__PURE__*/_jsx(\"span\",{className:\"button-text\",children:\"\\u05D4\\u05D0\\u05D9\\u05DE\\u05D5\\u05E0\\u05D9\\u05DD \\u05E9\\u05DC\\u05D9\"}),/*#__PURE__*/_jsx(\"div\",{className:\"button-line\"})]})})]})]})]});}export default MainMenu;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","useAuth","API_BASE_URL","jsx","_jsx","jsxs","_jsxs","MainMenu","user","logout","isLoaded","setIsLoaded","hoveredButton","setHoveredButton","availableHours","setAvailableHours","loading","setLoading","navigate","timer","setTimeout","loadUserHours","clearTimeout","token","localStorage","getItem","response","fetch","concat","id","headers","data","json","success","err","console","error","handleButtonClick","action","log","className","children","onClick","onMouseEnter","onMouseLeave"],"sources":["/Users/omri/Desktop/wolfit-gym/frontend/src/MainMenu.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { useAuth } from './contexts/AuthContext';\nimport { API_BASE_URL } from './config';\nimport './MainMenu.css';\n\nfunction MainMenu() {\n  const { user, logout } = useAuth();\n  const [isLoaded, setIsLoaded] = useState(false);\n  const [hoveredButton, setHoveredButton] = useState(null);\n  const [availableHours, setAvailableHours] = useState(0);\n  const [loading, setLoading] = useState(true);\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    const timer = setTimeout(() => setIsLoaded(true), 100);\n    loadUserHours();\n    return () => clearTimeout(timer);\n  }, []);\n\n  const loadUserHours = async () => {\n    try {\n      setLoading(true);\n      const token = localStorage.getItem('authToken');\n      const response = await fetch(`${API_BASE_URL}/api/user-hours/${user.id}`, {\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json',\n        },\n      });\n      \n      const data = await response.json();\n      if (data.success) {\n        setAvailableHours(data.availableHours);\n      }\n    } catch (err) {\n      console.error('שגיאה בטעינת שעות:', err);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleButtonClick = (action) => {\n    console.log(`Clicked: ${action}`);\n    \n    switch(action) {\n      case 'user-edit':\n        navigate('/edit-user');\n        break;\n      case 'workout-booking':\n        navigate('/workout-booking');\n        break;\n      case 'start-workout':\n        navigate('/start-workout');\n        break;\n      default:\n        break;\n    }\n  };\n\n  return (\n    <div className={`main-menu ${isLoaded ? 'loaded' : ''}`}>\n      {/* כפתור התנתקות */}\n      <button \n        className=\"logout-btn\"\n        onClick={() => logout()}\n      >\n        התנתק\n      </button>\n      \n      <div className=\"menu-container\">\n        <div className=\"header-section\">\n          <h1 className=\"brand-title\">WOLFit</h1>\n          <div className=\"title-line\"></div>\n          <div className=\"available-hours\">\n            {loading ? (\n              <span>טוען שעות זמינות...</span>\n            ) : (\n              <span>שעות זמינות: {availableHours} לבנות אימון</span>\n            )}\n          </div>\n        </div>\n        \n        <div className=\"buttons-section\">\n          <div \n            className={`button-wrapper ${hoveredButton === 'user' ? 'hovered' : ''}`}\n            onMouseEnter={() => setHoveredButton('user')}\n            onMouseLeave={() => setHoveredButton(null)}\n          >\n            <button \n              className=\"menu-button user-edit\"\n              onClick={() => handleButtonClick('user-edit')}\n            >\n              <span className=\"button-text\">עריכת משתמש</span>\n              <div className=\"button-line\"></div>\n            </button>\n          </div>\n          \n          <div \n            className={`button-wrapper ${hoveredButton === 'workout' ? 'hovered' : ''}`}\n            onMouseEnter={() => setHoveredButton('workout')}\n            onMouseLeave={() => setHoveredButton(null)}\n          >\n            <button \n              className=\"menu-button workout-booking\"\n              onClick={() => handleButtonClick('workout-booking')}\n            >\n              <span className=\"button-text\">הזמנת אימוןן</span>\n              <div className=\"button-line\"></div>\n            </button>\n          </div>\n          \n          <div \n            className={`button-wrapper ${hoveredButton === 'start-workout' ? 'hovered' : ''}`}\n            onMouseEnter={() => setHoveredButton('start-workout')}\n            onMouseLeave={() => setHoveredButton(null)}\n          >\n            <button \n              className=\"menu-button start-workout\"\n              onClick={() => handleButtonClick('start-workout')}\n            >\n              <span className=\"button-text\">האימונים שלי</span>\n              <div className=\"button-line\"></div>\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default MainMenu;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}