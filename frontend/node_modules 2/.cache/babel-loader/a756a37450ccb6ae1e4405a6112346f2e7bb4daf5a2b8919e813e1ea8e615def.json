{"ast":null,"code":"import React,{useState,useEffect}from'react';import'./StartWorkout.css';import'./CountdownTimer.css';import CountdownTimer from'./CountdownTimer';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function StartWorkout(_ref){let{onBackClick,user}=_ref;const[workouts,setWorkouts]=useState([]);const[workoutsByField,setWorkoutsByField]=useState({});const[loading,setLoading]=useState(true);const[error,setError]=useState('');useEffect(()=>{// מניעת גלילה של הגוף כשהמסך פתוח\ndocument.body.style.overflow='hidden';// פונקציה לטעינת האימונים העתידיים מהשרת\nconst fetchWorkouts=async()=>{try{setLoading(true);setError('');if(!user||!user.id){setError('משתמש לא מחובר');setLoading(false);return;}console.log('טוען אימונים עבור משתמש:',user.id);const response=await fetch(`https://wolfit-gym-backend-ijvq.onrender.com/api/future-workouts/${user.id}`);const data=await response.json();if(data.success){console.log('נמצאו אימונים:',data.workouts);console.log('פירוט האימונים:',data.workouts.map(w=>({date:w.date,startTime:w.startTime,endTime:w.endTime,fieldName:w.fieldName})));setWorkouts(data.workouts);// סינון אימונים שכבר הסתיימו ומיון לפי תאריך ושעה\nconst now=new Date();const filteredWorkouts=data.workouts.filter(workout=>{const[year,month,day]=workout.date.split('-');const[hours,minutes]=workout.endTime.split(':');const workoutEndTime=new Date(parseInt(year),parseInt(month)-1,parseInt(day),parseInt(hours),parseInt(minutes));return workoutEndTime>now;});console.log(`סוננו ${data.workouts.length-filteredWorkouts.length} אימונים שכבר הסתיימו`);const sortedWorkouts=filteredWorkouts.sort((a,b)=>{const dateA=new Date(a.date+' '+a.startTime);const dateB=new Date(b.date+' '+b.startTime);return dateA-dateB;});// חלוקה לפי תאריך ויצירת אימונים רציפים\nconst workoutsByDate={};sortedWorkouts.forEach(workout=>{// בדיקה אם האימון כבר הסתיים\nconst now=new Date();const[year,month,day]=workout.date.split('-');const[hours,minutes]=workout.endTime.split(':');const workoutEndTime=new Date(parseInt(year),parseInt(month)-1,parseInt(day),parseInt(hours),parseInt(minutes));// אם האימון כבר הסתיים, נדלג עליו\nif(workoutEndTime<=now){console.log(`אימון שכבר הסתיים: ${workout.date} ${workout.endTime}`);return;}const dateKey=workout.date;if(!workoutsByDate[dateKey]){workoutsByDate[dateKey]=[];}// בדיקה אם זה המשך של אימון קיים או אימון חדש\nconst lastWorkoutGroup=workoutsByDate[dateKey][workoutsByDate[dateKey].length-1];if(lastWorkoutGroup&&lastWorkoutGroup.length>0){const lastSlot=lastWorkoutGroup[lastWorkoutGroup.length-1];// חישוב הזמן בצורה פשוטה יותר\nconst lastTime=lastSlot.startTime.split(':');const currentTime=workout.startTime.split(':');const lastMinutes=parseInt(lastTime[0])*60+parseInt(lastTime[1]);const currentMinutes=parseInt(currentTime[0])*60+parseInt(currentTime[1]);const timeDiff=currentMinutes-lastMinutes;console.log(`בדיקת רציפות: ${lastSlot.startTime} -> ${workout.startTime}, הפרש: ${timeDiff} דקות`);// אם ההפרש הוא 15 דקות (רבע שעה), זה אותו אימון\nif(timeDiff===15){// המשך של האימון הקיים - רציף\nconsole.log(`ממשיך אימון קיים (רציף - 15 דקות)`);lastWorkoutGroup.push(workout);}else{// אימון חדש - יש פער אחר\nconsole.log(`יוצר אימון חדש (הפרש ${timeDiff} דקות)`);workoutsByDate[dateKey].push([workout]);}}else{// אימון ראשון ביום\nconsole.log(`יוצר אימון ראשון ביום`);workoutsByDate[dateKey].push([workout]);}});setWorkoutsByField(workoutsByDate);}else{console.log('לא נמצאו אימונים או שגיאה:',data.message);setError(data.message);setWorkouts([]);setWorkoutsByField({});}}catch(error){console.error('שגיאה בטעינת האימונים:',error);setError('שגיאה בחיבור לשרת. נסה שוב.');setWorkouts([]);setWorkoutsByField({});}finally{setLoading(false);}};fetchWorkouts();// החזרת הגלילה כשיוצאים מהמסך\nreturn()=>{document.body.style.overflow='unset';};},[user===null||user===void 0?void 0:user.id]);// עדכון הספירה אחורה כל דקה\nuseEffect(()=>{const interval=setInterval(()=>{// עדכון כפוי של הקומפוננטה כדי לעדכן את הספירה אחורה\nsetWorkouts(prevWorkouts=>[...prevWorkouts]);},60000);// כל דקה\nreturn()=>clearInterval(interval);},[]);// פונקציה לעיצוב התאריך\nconst formatDate=dateString=>{try{const date=new Date(dateString);if(isNaN(date.getTime())){// אם התאריך לא תקין, ננסה פורמט אחר\nconst[year,month,day]=dateString.split('-');const newDate=new Date(year,month-1,day);if(isNaN(newDate.getTime())){return dateString;// נחזיר את המחרוזת המקורית אם לא הצלחנו\n}return newDate.toLocaleDateString('he-IL',{weekday:'long',year:'numeric',month:'long',day:'numeric'});}return date.toLocaleDateString('he-IL',{weekday:'long',year:'numeric',month:'long',day:'numeric'});}catch(error){console.error('שגיאה בעיצוב התאריך:',error);return dateString;}};// פונקציה לעיצוב השעה\nconst formatTime=timeString=>{return timeString.substring(0,5);// HH:MM\n};// פונקציה לחישוב זמן עד האימון\nconst getTimeUntilWorkout=dateKey=>{try{const today=new Date();const workoutDate=new Date(dateKey);// איפוס השעות כדי להשוות רק תאריכים\ntoday.setHours(0,0,0,0);workoutDate.setHours(0,0,0,0);const diffTime=workoutDate.getTime()-today.getTime();const diffDays=Math.ceil(diffTime/(1000*60*60*24));if(isNaN(diffDays)){return'בקרוב';}if(diffDays===0){return'היום';}else if(diffDays===1){return'מחר';}else if(diffDays===2){return'בעוד יומיים';}else{return`בעוד ${diffDays} ימים`;}}catch(error){console.error('שגיאה בחישוב זמן עד האימון:',error);return'בקרוב';}};// פונקציה לספירה אחורה אם זה היום\nconst getCountdownText=(dateKey,workouts)=>{try{console.log('חישוב ספירה אחורה עבור:',dateKey,workouts);const today=new Date();const workoutDate=new Date(dateKey);console.log('היום:',today.toISOString().split('T')[0]);console.log('תאריך אימון:',dateKey);// איפוס השעות כדי להשוות רק תאריכים\ntoday.setHours(0,0,0,0);workoutDate.setHours(0,0,0,0);console.log('השוואת תאריכים:',today.getTime(),workoutDate.getTime());// תמיד נחשב ספירה אחורה (לא רק אם זה היום)\nconst firstWorkout=workouts[0];if(!firstWorkout||!firstWorkout.startTime){return'האימון התחיל!';}console.log('שעת האימון:',firstWorkout.startTime);// יצירת תאריך מלא עם שעה\nconst[year,month,day]=dateKey.split('-');const[hours,minutes]=firstWorkout.startTime.split(':');const workoutTime=new Date(parseInt(year),parseInt(month)-1,parseInt(day),parseInt(hours),parseInt(minutes));const now=new Date();console.log('זמן אימון:',workoutTime);console.log('עכשיו:',now);const diffMs=workoutTime.getTime()-now.getTime();console.log('הפרש במילישניות:',diffMs);if(diffMs<=0){return'האימון התחיל!';}const diffDays=Math.floor(diffMs/(1000*60*60*24));const diffHours=Math.floor(diffMs%(1000*60*60*24)/(1000*60*60));const diffMinutes=Math.floor(diffMs%(1000*60*60)/(1000*60));console.log('ימים:',diffDays,'שעות:',diffHours,'דקות:',diffMinutes);if(diffDays>0){return`האימון מתחיל בעוד ${diffDays} ימים`;}else if(diffHours>0){return`האימון מתחיל בעוד ${diffHours} שעות ו-${diffMinutes} דקות`;}else{return`האימון מתחיל בעוד ${diffMinutes} דקות`;}}catch(error){console.error('שגיאה בחישוב הספירה אחורה:',error);return'האימון מתחיל בקרוב';}};const handleStartWorkout=workoutId=>{console.log('מתחיל אימון:',workoutId);// כאן תוסיף את הלוגיקה להתחלת אימון\n};const handleBookNewWorkout=()=>{console.log('מעבר להזמנת אימון חדש');// כאן תוסיף את הלוגיקה למעבר למסך הזמנת אימון\nif(onBackClick){// חזרה למסך הראשי ומשם יוכלו ללחוץ על הזמנת אימון\nonBackClick();}};return/*#__PURE__*/_jsxs(\"div\",{className:\"start-workout-container\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"back-button\",onClick:onBackClick,children:\"\\u05D7\\u05D6\\u05E8\\u05D4\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"start-workout-content\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"\\u05D4\\u05D0\\u05D9\\u05DE\\u05D5\\u05E0\\u05D9\\u05DD \\u05D4\\u05E2\\u05EA\\u05D9\\u05D3\\u05D9\\u05D9\\u05DD \\u05E9\\u05DC\\u05DA\"}),loading?/*#__PURE__*/_jsx(\"div\",{className:\"loading\",children:/*#__PURE__*/_jsx(\"p\",{children:\"\\u05D8\\u05D5\\u05E2\\u05DF \\u05D0\\u05EA \\u05D4\\u05D0\\u05D9\\u05DE\\u05D5\\u05E0\\u05D9\\u05DD \\u05E9\\u05DC\\u05DA \\u05DE\\u05D4\\u05DE\\u05E2\\u05E8\\u05DB\\u05EA...\"})}):error?/*#__PURE__*/_jsxs(\"div\",{className:\"no-workouts\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"\\u05E9\\u05D2\\u05D9\\u05D0\\u05D4: \",error]}),/*#__PURE__*/_jsx(\"button\",{className:\"no-workouts-button\",onClick:()=>window.location.reload(),children:\"\\u05E0\\u05E1\\u05D4 \\u05E9\\u05D5\\u05D1\"})]}):workouts.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"no-workouts\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"\\u05D0\\u05D9\\u05DF \\u05DC\\u05DA \\u05D0\\u05D9\\u05DE\\u05D5\\u05E0\\u05D9\\u05DD \\u05E2\\u05EA\\u05D9\\u05D3\\u05D9\\u05D9\\u05DD \\u05DE\\u05EA\\u05D5\\u05DB\\u05E0\\u05E0\\u05D9\\u05DD\"}),/*#__PURE__*/_jsx(\"button\",{className:\"no-workouts-button\",onClick:handleBookNewWorkout,children:\"\\u05D4\\u05D6\\u05DE\\u05DF \\u05D0\\u05D9\\u05DE\\u05D5\\u05DF \\u05D7\\u05D3\\u05E9\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"workouts-list\",children:Object.entries(workoutsByField).map(_ref2=>{let[dateKey,workoutGroups]=_ref2;return/*#__PURE__*/_jsxs(\"div\",{className:\"date-section\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"date-title\",children:[\"\\u05EA\\u05D0\\u05E8\\u05D9\\u05DA: \",formatDate(dateKey)]}),workoutGroups.map((workoutGroup,groupIndex)=>{const firstWorkout=workoutGroup[0];const lastWorkout=workoutGroup[workoutGroup.length-1];const totalDuration=workoutGroup.length*15;// כל שיבוץ הוא 15 דקות\nreturn/*#__PURE__*/_jsxs(\"div\",{className:\"workout-session\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"workout-session-header\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"workout-time-range\",children:[formatTime(firstWorkout.startTime),\" - \",formatTime(lastWorkout.endTime),\" (\",totalDuration,\" \\u05D3\\u05E7\\u05D5\\u05EA)\"]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"workout-schedule\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"\\u05DC\\u05D5\\u05D7 \\u05D6\\u05DE\\u05E0\\u05D9\\u05DD:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"time-slots\",children:workoutGroup.map((slot,index)=>{const startTime=slot.startTime;const endTime=slot.endTime;const isValidTime=startTime&&endTime&&startTime!==endTime;return/*#__PURE__*/_jsxs(\"div\",{className:\"time-slot\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"time\",children:isValidTime?`${formatTime(startTime)} - ${formatTime(endTime)}`:`${formatTime(startTime)} (15 דקות)`}),/*#__PURE__*/_jsx(\"span\",{className:\"field\",children:slot.fieldName}),/*#__PURE__*/_jsx(\"span\",{className:\"sport\",children:slot.sportType})]},index);})})]}),/*#__PURE__*/_jsx(CountdownTimer,{targetDate:dateKey,targetTime:firstWorkout.startTime,onComplete:()=>handleStartWorkout(`${dateKey}_${groupIndex}`)}),(()=>{const today=new Date();const workoutDate=new Date(dateKey);today.setHours(0,0,0,0);workoutDate.setHours(0,0,0,0);const isToday=today.getTime()===workoutDate.getTime();return isToday?/*#__PURE__*/_jsx(\"button\",{className:\"start-workout-btn\",onClick:()=>handleStartWorkout(`${dateKey}_${groupIndex}`),style:{marginTop:'15px'},children:\"\\u05D4\\u05EA\\u05D7\\u05DC \\u05D0\\u05D9\\u05DE\\u05D5\\u05DF\"}):null;})()]},groupIndex);})]},dateKey);})})]})]});}export default StartWorkout;","map":{"version":3,"names":["React","useState","useEffect","CountdownTimer","jsx","_jsx","jsxs","_jsxs","StartWorkout","_ref","onBackClick","user","workouts","setWorkouts","workoutsByField","setWorkoutsByField","loading","setLoading","error","setError","document","body","style","overflow","fetchWorkouts","id","console","log","response","fetch","data","json","success","map","w","date","startTime","endTime","fieldName","now","Date","filteredWorkouts","filter","workout","year","month","day","split","hours","minutes","workoutEndTime","parseInt","length","sortedWorkouts","sort","a","b","dateA","dateB","workoutsByDate","forEach","dateKey","lastWorkoutGroup","lastSlot","lastTime","currentTime","lastMinutes","currentMinutes","timeDiff","push","message","interval","setInterval","prevWorkouts","clearInterval","formatDate","dateString","isNaN","getTime","newDate","toLocaleDateString","weekday","formatTime","timeString","substring","getTimeUntilWorkout","today","workoutDate","setHours","diffTime","diffDays","Math","ceil","getCountdownText","toISOString","firstWorkout","workoutTime","diffMs","floor","diffHours","diffMinutes","handleStartWorkout","workoutId","handleBookNewWorkout","className","children","onClick","window","location","reload","Object","entries","_ref2","workoutGroups","workoutGroup","groupIndex","lastWorkout","totalDuration","slot","index","isValidTime","sportType","targetDate","targetTime","onComplete","isToday","marginTop"],"sources":["/Users/omri/Desktop/wolfit-gym/src/StartWorkout.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport './StartWorkout.css';\nimport './CountdownTimer.css';\nimport CountdownTimer from './CountdownTimer';\n\nfunction StartWorkout({ onBackClick, user }) {\n  const [workouts, setWorkouts] = useState([]);\n  const [workoutsByField, setWorkoutsByField] = useState({});\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n\n  useEffect(() => {\n    // מניעת גלילה של הגוף כשהמסך פתוח\n    document.body.style.overflow = 'hidden';\n    \n    // פונקציה לטעינת האימונים העתידיים מהשרת\n    const fetchWorkouts = async () => {\n      try {\n        setLoading(true);\n        setError('');\n        \n        if (!user || !user.id) {\n          setError('משתמש לא מחובר');\n          setLoading(false);\n          return;\n        }\n        \n        console.log('טוען אימונים עבור משתמש:', user.id);\n        \n        const response = await fetch(`https://wolfit-gym-backend-ijvq.onrender.com/api/future-workouts/${user.id}`);\n        const data = await response.json();\n        \n        if (data.success) {\n          console.log('נמצאו אימונים:', data.workouts);\n          console.log('פירוט האימונים:', data.workouts.map(w => ({\n            date: w.date,\n            startTime: w.startTime,\n            endTime: w.endTime,\n            fieldName: w.fieldName\n          })));\n          setWorkouts(data.workouts);\n          \n          // סינון אימונים שכבר הסתיימו ומיון לפי תאריך ושעה\n          const now = new Date();\n          const filteredWorkouts = data.workouts.filter(workout => {\n            const [year, month, day] = workout.date.split('-');\n            const [hours, minutes] = workout.endTime.split(':');\n            const workoutEndTime = new Date(parseInt(year), parseInt(month) - 1, parseInt(day), parseInt(hours), parseInt(minutes));\n            return workoutEndTime > now;\n          });\n          \n          console.log(`סוננו ${data.workouts.length - filteredWorkouts.length} אימונים שכבר הסתיימו`);\n          \n          const sortedWorkouts = filteredWorkouts.sort((a, b) => {\n            const dateA = new Date(a.date + ' ' + a.startTime);\n            const dateB = new Date(b.date + ' ' + b.startTime);\n            return dateA - dateB;\n          });\n          \n          // חלוקה לפי תאריך ויצירת אימונים רציפים\n          const workoutsByDate = {};\n          sortedWorkouts.forEach(workout => {\n            // בדיקה אם האימון כבר הסתיים\n            const now = new Date();\n            const [year, month, day] = workout.date.split('-');\n            const [hours, minutes] = workout.endTime.split(':');\n            const workoutEndTime = new Date(parseInt(year), parseInt(month) - 1, parseInt(day), parseInt(hours), parseInt(minutes));\n            \n            // אם האימון כבר הסתיים, נדלג עליו\n            if (workoutEndTime <= now) {\n              console.log(`אימון שכבר הסתיים: ${workout.date} ${workout.endTime}`);\n              return;\n            }\n            \n            const dateKey = workout.date;\n            if (!workoutsByDate[dateKey]) {\n              workoutsByDate[dateKey] = [];\n            }\n            \n            // בדיקה אם זה המשך של אימון קיים או אימון חדש\n            const lastWorkoutGroup = workoutsByDate[dateKey][workoutsByDate[dateKey].length - 1];\n            if (lastWorkoutGroup && lastWorkoutGroup.length > 0) {\n              const lastSlot = lastWorkoutGroup[lastWorkoutGroup.length - 1];\n              \n              // חישוב הזמן בצורה פשוטה יותר\n              const lastTime = lastSlot.startTime.split(':');\n              const currentTime = workout.startTime.split(':');\n              const lastMinutes = parseInt(lastTime[0]) * 60 + parseInt(lastTime[1]);\n              const currentMinutes = parseInt(currentTime[0]) * 60 + parseInt(currentTime[1]);\n              const timeDiff = currentMinutes - lastMinutes;\n              \n              console.log(`בדיקת רציפות: ${lastSlot.startTime} -> ${workout.startTime}, הפרש: ${timeDiff} דקות`);\n              \n              // אם ההפרש הוא 15 דקות (רבע שעה), זה אותו אימון\n              if (timeDiff === 15) {\n                // המשך של האימון הקיים - רציף\n                console.log(`ממשיך אימון קיים (רציף - 15 דקות)`);\n                lastWorkoutGroup.push(workout);\n              } else {\n                // אימון חדש - יש פער אחר\n                console.log(`יוצר אימון חדש (הפרש ${timeDiff} דקות)`);\n                workoutsByDate[dateKey].push([workout]);\n              }\n            } else {\n              // אימון ראשון ביום\n              console.log(`יוצר אימון ראשון ביום`);\n              workoutsByDate[dateKey].push([workout]);\n            }\n          });\n          \n          setWorkoutsByField(workoutsByDate);\n        } else {\n          console.log('לא נמצאו אימונים או שגיאה:', data.message);\n          setError(data.message);\n          setWorkouts([]);\n          setWorkoutsByField({});\n        }\n        \n      } catch (error) {\n        console.error('שגיאה בטעינת האימונים:', error);\n        setError('שגיאה בחיבור לשרת. נסה שוב.');\n        setWorkouts([]);\n        setWorkoutsByField({});\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchWorkouts();\n\n    // החזרת הגלילה כשיוצאים מהמסך\n    return () => {\n      document.body.style.overflow = 'unset';\n    };\n  }, [user?.id]);\n\n  // עדכון הספירה אחורה כל דקה\n  useEffect(() => {\n    const interval = setInterval(() => {\n      // עדכון כפוי של הקומפוננטה כדי לעדכן את הספירה אחורה\n      setWorkouts(prevWorkouts => [...prevWorkouts]);\n    }, 60000); // כל דקה\n\n    return () => clearInterval(interval);\n  }, []);\n\n  // פונקציה לעיצוב התאריך\n  const formatDate = (dateString) => {\n    try {\n      const date = new Date(dateString);\n      if (isNaN(date.getTime())) {\n        // אם התאריך לא תקין, ננסה פורמט אחר\n        const [year, month, day] = dateString.split('-');\n        const newDate = new Date(year, month - 1, day);\n        if (isNaN(newDate.getTime())) {\n          return dateString; // נחזיר את המחרוזת המקורית אם לא הצלחנו\n        }\n        return newDate.toLocaleDateString('he-IL', {\n          weekday: 'long',\n          year: 'numeric',\n          month: 'long',\n          day: 'numeric'\n        });\n      }\n      return date.toLocaleDateString('he-IL', {\n        weekday: 'long',\n        year: 'numeric',\n        month: 'long',\n        day: 'numeric'\n      });\n    } catch (error) {\n      console.error('שגיאה בעיצוב התאריך:', error);\n      return dateString;\n    }\n  };\n\n  // פונקציה לעיצוב השעה\n  const formatTime = (timeString) => {\n    return timeString.substring(0, 5); // HH:MM\n  };\n\n  // פונקציה לחישוב זמן עד האימון\n  const getTimeUntilWorkout = (dateKey) => {\n    try {\n      const today = new Date();\n      const workoutDate = new Date(dateKey);\n      \n      // איפוס השעות כדי להשוות רק תאריכים\n      today.setHours(0, 0, 0, 0);\n      workoutDate.setHours(0, 0, 0, 0);\n      \n      const diffTime = workoutDate.getTime() - today.getTime();\n      const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));\n      \n      if (isNaN(diffDays)) {\n        return 'בקרוב';\n      }\n      \n      if (diffDays === 0) {\n        return 'היום';\n      } else if (diffDays === 1) {\n        return 'מחר';\n      } else if (diffDays === 2) {\n        return 'בעוד יומיים';\n      } else {\n        return `בעוד ${diffDays} ימים`;\n      }\n    } catch (error) {\n      console.error('שגיאה בחישוב זמן עד האימון:', error);\n      return 'בקרוב';\n    }\n  };\n\n  // פונקציה לספירה אחורה אם זה היום\n  const getCountdownText = (dateKey, workouts) => {\n    try {\n      console.log('חישוב ספירה אחורה עבור:', dateKey, workouts);\n      \n      const today = new Date();\n      const workoutDate = new Date(dateKey);\n      \n      console.log('היום:', today.toISOString().split('T')[0]);\n      console.log('תאריך אימון:', dateKey);\n      \n      // איפוס השעות כדי להשוות רק תאריכים\n      today.setHours(0, 0, 0, 0);\n      workoutDate.setHours(0, 0, 0, 0);\n      \n      console.log('השוואת תאריכים:', today.getTime(), workoutDate.getTime());\n      \n      // תמיד נחשב ספירה אחורה (לא רק אם זה היום)\n      const firstWorkout = workouts[0];\n      if (!firstWorkout || !firstWorkout.startTime) {\n        return 'האימון התחיל!';\n      }\n      \n      console.log('שעת האימון:', firstWorkout.startTime);\n      \n      // יצירת תאריך מלא עם שעה\n      const [year, month, day] = dateKey.split('-');\n      const [hours, minutes] = firstWorkout.startTime.split(':');\n      const workoutTime = new Date(parseInt(year), parseInt(month) - 1, parseInt(day), parseInt(hours), parseInt(minutes));\n      const now = new Date();\n      \n      console.log('זמן אימון:', workoutTime);\n      console.log('עכשיו:', now);\n      \n      const diffMs = workoutTime.getTime() - now.getTime();\n      console.log('הפרש במילישניות:', diffMs);\n      \n      if (diffMs <= 0) {\n        return 'האימון התחיל!';\n      }\n      \n      const diffDays = Math.floor(diffMs / (1000 * 60 * 60 * 24));\n      const diffHours = Math.floor((diffMs % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));\n      const diffMinutes = Math.floor((diffMs % (1000 * 60 * 60)) / (1000 * 60));\n      \n      console.log('ימים:', diffDays, 'שעות:', diffHours, 'דקות:', diffMinutes);\n      \n      if (diffDays > 0) {\n        return `האימון מתחיל בעוד ${diffDays} ימים`;\n      } else if (diffHours > 0) {\n        return `האימון מתחיל בעוד ${diffHours} שעות ו-${diffMinutes} דקות`;\n      } else {\n        return `האימון מתחיל בעוד ${diffMinutes} דקות`;\n      }\n    } catch (error) {\n      console.error('שגיאה בחישוב הספירה אחורה:', error);\n      return 'האימון מתחיל בקרוב';\n    }\n  };\n\n  const handleStartWorkout = (workoutId) => {\n    console.log('מתחיל אימון:', workoutId);\n    // כאן תוסיף את הלוגיקה להתחלת אימון\n  };\n\n  const handleBookNewWorkout = () => {\n    console.log('מעבר להזמנת אימון חדש');\n    // כאן תוסיף את הלוגיקה למעבר למסך הזמנת אימון\n    if (onBackClick) {\n      // חזרה למסך הראשי ומשם יוכלו ללחוץ על הזמנת אימון\n      onBackClick();\n    }\n  };\n\n  return (\n    <div className=\"start-workout-container\">\n      <button className=\"back-button\" onClick={onBackClick}>\n        חזרה\n      </button>\n      \n      <div className=\"start-workout-content\">\n        <h1>האימונים העתידיים שלך</h1>\n        \n        {loading ? (\n          <div className=\"loading\">\n            <p>טוען את האימונים שלך מהמערכת...</p>\n          </div>\n        ) : error ? (\n          <div className=\"no-workouts\">\n            <p>שגיאה: {error}</p>\n            <button className=\"no-workouts-button\" onClick={() => window.location.reload()}>\n              נסה שוב\n            </button>\n          </div>\n        ) : workouts.length === 0 ? (\n          <div className=\"no-workouts\">\n            <p>אין לך אימונים עתידיים מתוכננים</p>\n            <button className=\"no-workouts-button\" onClick={handleBookNewWorkout}>\n              הזמן אימון חדש\n            </button>\n          </div>\n        ) : (\n          <div className=\"workouts-list\">\n            {Object.entries(workoutsByField).map(([dateKey, workoutGroups]) => (\n              <div key={dateKey} className=\"date-section\">\n                <h2 className=\"date-title\">תאריך: {formatDate(dateKey)}</h2>\n                \n                {workoutGroups.map((workoutGroup, groupIndex) => {\n                  const firstWorkout = workoutGroup[0];\n                  const lastWorkout = workoutGroup[workoutGroup.length - 1];\n                  const totalDuration = workoutGroup.length * 15; // כל שיבוץ הוא 15 דקות\n                  \n                  return (\n                    <div key={groupIndex} className=\"workout-session\">\n                      <div className=\"workout-session-header\">\n                        <div className=\"workout-time-range\">\n                          {formatTime(firstWorkout.startTime)} - {formatTime(lastWorkout.endTime)} ({totalDuration} דקות)\n                        </div>\n                      </div>\n                      \n                      <div className=\"workout-schedule\">\n                        <h4>לוח זמנים:</h4>\n                        <div className=\"time-slots\">\n                          {workoutGroup.map((slot, index) => {\n                            const startTime = slot.startTime;\n                            const endTime = slot.endTime;\n                            const isValidTime = startTime && endTime && startTime !== endTime;\n                            \n                            return (\n                              <div key={index} className=\"time-slot\">\n                                <span className=\"time\">\n                                  {isValidTime ? `${formatTime(startTime)} - ${formatTime(endTime)}` : `${formatTime(startTime)} (15 דקות)`}\n                                </span>\n                                <span className=\"field\">{slot.fieldName}</span>\n                                <span className=\"sport\">{slot.sportType}</span>\n                              </div>\n                            );\n                          })}\n                        </div>\n                      </div>\n                      \n                      <CountdownTimer \n                        targetDate={dateKey}\n                        targetTime={firstWorkout.startTime}\n                        onComplete={() => handleStartWorkout(`${dateKey}_${groupIndex}`)}\n                      />\n                      {/* מציג כפתור רק אם זה היום */}\n                      {(() => {\n                        const today = new Date();\n                        const workoutDate = new Date(dateKey);\n                        today.setHours(0, 0, 0, 0);\n                        workoutDate.setHours(0, 0, 0, 0);\n                        const isToday = today.getTime() === workoutDate.getTime();\n                        \n                        return isToday ? (\n                          <button \n                            className=\"start-workout-btn\"\n                            onClick={() => handleStartWorkout(`${dateKey}_${groupIndex}`)}\n                            style={{ marginTop: '15px' }}\n                          >\n                            התחל אימון\n                          </button>\n                        ) : null;\n                      })()}\n                    </div>\n                  );\n                })}\n              </div>\n            ))}\n            \n\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport default StartWorkout;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}