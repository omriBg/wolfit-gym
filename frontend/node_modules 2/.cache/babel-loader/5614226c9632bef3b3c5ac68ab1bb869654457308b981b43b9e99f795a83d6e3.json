{"ast":null,"code":"var _jsxFileName = \"/Users/omri/Desktop/wolfit-gym/frontend/src/OrderTrain.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { useAuth } from './contexts/AuthContext';\nimport './OrderTrain.css';\nimport './EditUser.css';\nimport DatePicker from \"react-datepicker\";\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport CreateWorkout from './CreateWorkout';\nimport { API_BASE_URL, WORKOUT_CONFIG } from './config';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction OrderTrain() {\n  _s();\n  const {\n    user\n  } = useAuth();\n  const navigate = useNavigate();\n  const [selectDate, setSelectDate] = useState(null);\n  const [startTime, setStartTime] = useState(null);\n  const [endTime, setEndTime] = useState(null);\n  const [showCreateWorkout, setShowCreateWorkout] = useState(false);\n  const [blockedTimes, setBlockedTimes] = useState([]);\n  const [loadingBlockedTimes, setLoadingBlockedTimes] = useState(false);\n  const [availableTimes, setAvailableTimes] = useState([]);\n  const [availableHours, setAvailableHours] = useState(0);\n  const [loading, setLoading] = useState(true);\n\n  // 🚀 תיקון 1: הוספת debouncing ו-cache\n  const [debounceTimer, setDebounceTimer] = useState(null);\n  const [blockedTimesCache, setBlockedTimesCache] = useState({});\n  useEffect(() => {\n    loadUserHours();\n  }, []);\n  const loadUserHours = async () => {\n    try {\n      setLoading(true);\n      const token = localStorage.getItem('authToken');\n      const response = await fetch(`${API_BASE_URL}/api/user-hours/${user.id}`, {\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        }\n      });\n      const data = await response.json();\n      if (data.success) {\n        setAvailableHours(data.availableHours);\n      }\n    } catch (err) {\n      console.error('שגיאה בטעינת שעות:', err);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // 🚀 תיקון 2: debouncing - מניעת קריאות מרובות מהירות\n  useEffect(() => {\n    if (selectDate && user !== null && user !== void 0 && user.id) {\n      // ביטול טיימר קודם אם קיים\n      if (debounceTimer) {\n        clearTimeout(debounceTimer);\n      }\n\n      // יצירת טיימר חדש - המתן 500ms לפני הקריאה\n      const timer = setTimeout(() => {\n        loadBlockedTimes();\n      }, 500);\n      setDebounceTimer(timer);\n    } else {\n      setBlockedTimes([]);\n    }\n\n    // ניקוי טיימר כשהקומפוננטה נהרסת\n    return () => {\n      if (debounceTimer) {\n        clearTimeout(debounceTimer);\n      }\n    };\n  }, [selectDate, user === null || user === void 0 ? void 0 : user.id]);\n\n  // עדכון שעות זמינות כשהשעות התפוסות משתנות\n  useEffect(() => {\n    if (selectDate) {\n      const times = generateTimeOptions();\n      setAvailableTimes(times);\n      console.log('🔄 עדכנתי שעות זמינות:', times);\n    }\n  }, [blockedTimes, selectDate]);\n\n  // 🚀 תיקון 3: הוספת cache למניעת קריאות מיותרות\n  const loadBlockedTimes = async () => {\n    try {\n      const dateStr = selectDate.toLocaleDateString('en-CA'); // YYYY-MM-DD\n\n      // בדיקה אם יש cache לתאריך הזה\n      if (blockedTimesCache[dateStr]) {\n        console.log('📦 משתמש ב-cache לשעות תפוסות עבור', dateStr);\n        setBlockedTimes(blockedTimesCache[dateStr]);\n        return;\n      }\n      setLoadingBlockedTimes(true);\n      const url = `${API_BASE_URL}/api/user-booked-times/${user.id}/${dateStr}`;\n      console.log('🔍 טוען שעות תפוסות מ:', url);\n      const token = localStorage.getItem('authToken');\n      console.log('🔑 טוקן:', token ? 'קיים' : 'חסר');\n      const response = await fetch(url, {\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        }\n      });\n      console.log('📡 תגובת השרת:', response.status, response.statusText);\n      const data = await response.json();\n      if (data.success) {\n        setBlockedTimes(data.blockedTimes);\n\n        // 🚀 שמירה ב-cache למניעת קריאות חוזרות\n        setBlockedTimesCache(prev => ({\n          ...prev,\n          [dateStr]: data.blockedTimes\n        }));\n        console.log('🚫 שעות תפוסות נטענו:', data.blockedTimes);\n        console.log('📊 מספר שעות תפוסות:', data.blockedTimes.length);\n      } else {\n        console.log('⚠️ שגיאה בטעינת שעות תפוסות:', data.message);\n        setBlockedTimes([]);\n      }\n    } catch (error) {\n      console.error('❌ שגיאה בטעינת שעות תפוסות:', error);\n      setBlockedTimes([]);\n    } finally {\n      setLoadingBlockedTimes(false);\n    }\n  };\n  function isDateAllowed(date) {\n    const today = new Date();\n    today.setHours(0, 0, 0, 0);\n    const sevenDaysFromNow = new Date();\n    sevenDaysFromNow.setDate(today.getDate() + 7);\n    sevenDaysFromNow.setHours(23, 59, 59, 999);\n    const dateToCheck = new Date(date);\n    dateToCheck.setHours(0, 0, 0, 0);\n    return dateToCheck >= today && dateToCheck <= sevenDaysFromNow;\n  }\n\n  // 🚀 תיקון 4: הפחתת לוגים - הסרת הודעות מיותרות\n  function isTimeBlocked(timeString) {\n    // בדיקה אם השעות התפוסות נטענו בכלל\n    if (!blockedTimes || blockedTimes.length === 0) {\n      // הסרת הלוג הזה - הוא יוצר רעש!\n      // console.log(`⚠️ אין שעות תפוסות נטענות, שעה ${timeString} זמינה`);\n      return false;\n    }\n\n    // הסרת לוגים מיותרים - רק בדיקה שקטה\n    // console.log(`🔍 בודק אם שעה ${timeString} חסומה`);\n    // console.log(`📋 שעות תפוסות מהשרת:`, blockedTimes);\n\n    // השרת כבר מחזיר את כל השעות החסומות כולל לבנות אימון לפני ואחרי\n    const isBlocked = blockedTimes.includes(timeString);\n\n    // הסרת לוגים מיותרים\n    // if (isBlocked) {\n    //   console.log(`❌ שעה ${timeString} חסומה`);\n    // } else {\n    //   console.log(`✅ שעה ${timeString} זמינה`);\n    // }\n\n    return isBlocked;\n  }\n\n  // פונקציה לבדיקה אם טווח זמן חופף לאימון קיים\n  function isTimeRangeBlocked(startTime, endTime) {\n    if (!startTime || !endTime || !blockedTimes || blockedTimes.length === 0) {\n      return false;\n    }\n    console.log(`🔍 בודק אם טווח ${startTime}-${endTime} חופף לאימון קיים`);\n    console.log(`📋 שעות תפוסות:`, blockedTimes);\n\n    // המרה של הזמנים לדקות\n    const [startHour, startMinute] = startTime.split(':').map(Number);\n    const [endHour, endMinute] = endTime.split(':').map(Number);\n    const startMinutes = startHour * 60 + startMinute;\n    const endMinutes = endHour * 60 + endMinute;\n\n    // בדיקה אם יש אימון בטווח\n    for (const blockedTime of blockedTimes) {\n      const [blockedHour, blockedMinute] = blockedTime.split(':').map(Number);\n      const blockedMinutes = blockedHour * 60 + blockedMinute;\n\n      // בדיקה אם האימון התפוס נמצא בטווח שנבחר\n      if (blockedMinutes >= startMinutes && blockedMinutes < endMinutes) {\n        console.log(`❌ טווח ${startTime}-${endTime} חופף לאימון ב-${blockedTime}`);\n        return true;\n      }\n    }\n    console.log(`✅ טווח ${startTime}-${endTime} לא חופף לאימון קיים`);\n    return false;\n  }\n\n  // 🚀 תיקון 5: הפחתת לוגים ב-generateTimeOptions\n  function generateTimeOptions() {\n    // הסרת לוגים מיותרים - רק לוג אחד בסוף\n    // console.log('🚀 מתחיל ליצור אפשרויות זמן');\n    // console.log('📅 תאריך נבחר:', selectDate);\n    // console.log('🚫 שעות תפוסות:', blockedTimes);\n\n    const times = [];\n    const now = new Date();\n    const isToday = selectDate && selectDate.getDate() === now.getDate() && selectDate.getMonth() === now.getMonth() && selectDate.getFullYear() === now.getFullYear();\n    for (let hour = 6; hour <= 23; hour++) {\n      for (let minute = 0; minute < 60; minute += WORKOUT_CONFIG.SLOT_DURATION) {\n        if (hour === 23 && minute > 0) break;\n        if (isToday) {\n          const currentHour = now.getHours();\n          const currentMinute = now.getMinutes();\n          const timeInMinutes = hour * 60 + minute;\n          const nowInMinutes = currentHour * 60 + currentMinute + 30;\n          if (timeInMinutes < nowInMinutes) {\n            continue;\n          }\n        }\n        const timeString = `${hour.toString().padStart(2, '0')}:${minute.toString().padStart(2, '0')}`;\n\n        // בדיקה אם השעה תפוסה (כולל לבנות אימון לפני ואחרי)\n        if (!isTimeBlocked(timeString)) {\n          times.push(timeString);\n        } else {\n          // הסרת לוג מיותר\n          // console.log(`🚫 שעה ${timeString} נחסמה ולא נוספה לרשימה`);\n        }\n      }\n    }\n\n    // רק לוג אחד בסוף במקום 49 לוגים\n    console.log(`📋 נוצרו ${times.length} שעות זמינות`);\n    return times;\n  }\n\n  // 🚀 תיקון 6: הפחתת לוגים ב-generateEndTimeOptions\n  function generateEndTimeOptions() {\n    if (!startTime) return [];\n    const [startHour, startMinute] = startTime.split(':').map(Number);\n    const startTimeInMinutes = startHour * 60 + startMinute;\n    const times = [];\n    for (let duration = WORKOUT_CONFIG.MIN_WORKOUT_DURATION; duration <= WORKOUT_CONFIG.MAX_WORKOUT_DURATION; duration += WORKOUT_CONFIG.SLOT_DURATION) {\n      const endTimeInMinutes = startTimeInMinutes + duration;\n      const endHour = Math.floor(endTimeInMinutes / 60);\n      const endMinute = endTimeInMinutes % 60;\n      if (endHour <= 23 && !(endHour === 23 && endMinute > 30)) {\n        const timeString = `${endHour.toString().padStart(2, '0')}:${endMinute.toString().padStart(2, '0')}`;\n\n        // בדיקה אם השעה תפוסה (כולל לבנות אימון לפני ואחרי)\n        if (!isTimeBlocked(timeString)) {\n          times.push(timeString);\n        } else {\n          // הסרת לוג מיותר\n          // console.log(`🚫 שעת סיום ${timeString} נחסמה ולא נוספה לרשימה`);\n        }\n      }\n    }\n\n    // רק לוג אחד בסוף\n    console.log(`📋 נוצרו ${times.length} שעות סיום זמינות`);\n    return times;\n  }\n  const handleCreateWorkout = () => {\n    // בדיקה אם הטווח שנבחר חופף לאימון קיים\n    if (isTimeRangeBlocked(startTime, endTime)) {\n      alert('הטווח שנבחר חופף לאימון קיים. אנא בחר טווח אחר.');\n      return;\n    }\n\n    // בדיקה אם יש מספיק שעות\n    const [startHour, startMinute] = startTime.split(':').map(Number);\n    const [endHour, endMinute] = endTime.split(':').map(Number);\n    const startMinutes = startHour * 60 + startMinute;\n    const endMinutes = endHour * 60 + endMinute;\n    const requiredQuarters = Math.ceil((endMinutes - startMinutes) / WORKOUT_CONFIG.SLOT_DURATION);\n    if (requiredQuarters > availableHours) {\n      alert(`אין מספיק שעות זמינות. נדרשות ${requiredQuarters} לבנות אימון, יש לך ${availableHours} לבנות אימון.`);\n      return;\n    }\n    console.log('עוברים ליצירת אימון עם הנתונים:', {\n      user,\n      selectDate,\n      startTime,\n      endTime\n    });\n    setShowCreateWorkout(true);\n  };\n  const handleBackFromCreateWorkout = () => {\n    setShowCreateWorkout(false);\n    // חזרה לתפריט הראשי לאחר יצירת אימון\n    navigate('/main-menu');\n  };\n  if (showCreateWorkout) {\n    return /*#__PURE__*/_jsxDEV(CreateWorkout, {\n      selectedDate: selectDate.toLocaleDateString('en-CA'),\n      startTime: startTime,\n      endTime: endTime\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 326,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"order-train-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"back-button\",\n      onClick: () => navigate('/main-menu'),\n      children: \"\\u05D7\\u05D6\\u05E8\\u05D4\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 336,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"order-content\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"\\u05D4\\u05D6\\u05DE\\u05E0\\u05EA \\u05D0\\u05D9\\u05DE\\u05D5\\u05DF\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 338,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"available-hours\",\n        children: loading ? /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"\\u05D8\\u05D5\\u05E2\\u05DF \\u05E9\\u05E2\\u05D5\\u05EA \\u05D6\\u05DE\\u05D9\\u05E0\\u05D5\\u05EA...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 341,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [\"\\u05E9\\u05E2\\u05D5\\u05EA \\u05D6\\u05DE\\u05D9\\u05E0\\u05D5\\u05EA: \", availableHours, \" \\u05DC\\u05D1\\u05E0\\u05D5\\u05EA \\u05D0\\u05D9\\u05DE\\u05D5\\u05DF\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 343,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 339,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginTop: '50px'\n        },\n        children: /*#__PURE__*/_jsxDEV(DatePicker, {\n          open: true,\n          onClickOutside: () => {},\n          inline: true,\n          showPopperArrow: false,\n          filterDate: isDateAllowed,\n          onChange: setSelectDate,\n          selected: selectDate\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 347,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 346,\n        columnNumber: 9\n      }, this), selectDate != null && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginTop: window.innerWidth <= 768 ? '25px' : '160px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"\\u05D1\\u05D7\\u05E8 \\u05E9\\u05E2\\u05EA \\u05D4\\u05EA\\u05D7\\u05DC\\u05D4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 359,\n          columnNumber: 13\n        }, this), loadingBlockedTimes ? /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            padding: '10px',\n            color: '#666'\n          },\n          children: \"\\u05D8\\u05D5\\u05E2\\u05DF \\u05E9\\u05E2\\u05D5\\u05EA \\u05D6\\u05DE\\u05D9\\u05E0\\u05D5\\u05EA...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 361,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"select\", {\n            value: startTime || '',\n            onChange: e => {\n              const newStartTime = e.target.value;\n              setStartTime(newStartTime);\n              setEndTime(null);\n\n              // אם יש שעת סיום, נבדוק אם הטווח חופף לאימון קיים\n              if (endTime && isTimeRangeBlocked(newStartTime, endTime)) {\n                alert('הטווח שנבחר חופף לאימון קיים. אנא בחר שעת התחלה אחרת.');\n                setStartTime(null);\n              }\n            },\n            style: {\n              padding: '10px',\n              fontSize: '16px',\n              borderRadius: '5px',\n              border: '1px solid #ccc',\n              backgroundColor: 'white',\n              minWidth: '120px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: \"\\u05D1\\u05D7\\u05E8 \\u05E9\\u05E2\\u05D4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 386,\n              columnNumber: 19\n            }, this), availableTimes.map(time => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: time,\n              children: time\n            }, time, false, {\n              fileName: _jsxFileName,\n              lineNumber: 388,\n              columnNumber: 21\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 364,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginTop: '5px',\n              fontSize: '12px',\n              color: '#888'\n            },\n            children: [\"\\u05E9\\u05E2\\u05D5\\u05EA \\u05EA\\u05E4\\u05D5\\u05E1\\u05D5\\u05EA: \", blockedTimes.length > 0 ? blockedTimes.join(', ') : 'אין']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 391,\n            columnNumber: 17\n          }, this), blockedTimes.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginTop: '10px',\n              padding: '8px',\n              backgroundColor: 'rgba(255, 107, 107, 0.1)',\n              border: '1px solid rgba(255, 107, 107, 0.3)',\n              borderRadius: '5px',\n              fontSize: '14px',\n              color: '#ff6b6b'\n            },\n            children: \"\\u26A0\\uFE0F \\u05E9\\u05E2\\u05D5\\u05EA \\u05E9\\u05DB\\u05D1\\u05E8 \\u05D9\\u05E9 \\u05DC\\u05DA \\u05D0\\u05D9\\u05DE\\u05D5\\u05DF \\u05D1\\u05D4\\u05DF (\\u05DB\\u05D5\\u05DC\\u05DC \\u05DC\\u05D1\\u05E0\\u05D5\\u05EA \\u05D0\\u05D9\\u05DE\\u05D5\\u05DF \\u05DC\\u05E4\\u05E0\\u05D9 \\u05D5\\u05D0\\u05D7\\u05E8\\u05D9) \\u05DC\\u05D0 \\u05D6\\u05DE\\u05D9\\u05E0\\u05D5\\u05EA \\u05DC\\u05D1\\u05D7\\u05D9\\u05E8\\u05D4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 399,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 358,\n        columnNumber: 11\n      }, this), startTime && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginTop: window.innerWidth <= 768 ? '25px' : '30px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"\\u05D1\\u05D7\\u05E8 \\u05E9\\u05E2\\u05EA \\u05E1\\u05D9\\u05D5\\u05DD\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 418,\n          columnNumber: 13\n        }, this), loadingBlockedTimes ? /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            padding: '10px',\n            color: '#666'\n          },\n          children: \"\\u05D8\\u05D5\\u05E2\\u05DF \\u05E9\\u05E2\\u05D5\\u05EA \\u05D6\\u05DE\\u05D9\\u05E0\\u05D5\\u05EA...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 420,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(\"select\", {\n          value: endTime || '',\n          onChange: e => {\n            const newEndTime = e.target.value;\n            setEndTime(newEndTime);\n\n            // בדיקה אם הטווח חופף לאימון קיים\n            if (newEndTime && isTimeRangeBlocked(startTime, newEndTime)) {\n              alert('הטווח שנבחר חופף לאימון קיים. אנא בחר שעת סיום אחרת.');\n              setEndTime(null);\n            }\n          },\n          style: {\n            padding: '10px',\n            fontSize: '16px',\n            borderRadius: '5px',\n            border: '1px solid #ccc',\n            backgroundColor: 'white',\n            minWidth: '120px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"\\u05D1\\u05D7\\u05E8 \\u05E9\\u05E2\\u05EA \\u05E1\\u05D9\\u05D5\\u05DD:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 443,\n            columnNumber: 17\n          }, this), generateEndTimeOptions().map(time => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: time,\n            children: time\n          }, time, false, {\n            fileName: _jsxFileName,\n            lineNumber: 445,\n            columnNumber: 19\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 422,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 417,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 337,\n      columnNumber: 7\n    }, this), selectDate && startTime && endTime && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"create-workout-button-container\",\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"create-workout-button\",\n        onClick: handleCreateWorkout,\n        children: \"\\u05E6\\u05D5\\u05E8 \\u05D0\\u05D9\\u05DE\\u05D5\\u05DF\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 455,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 454,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 335,\n    columnNumber: 5\n  }, this);\n}\n_s(OrderTrain, \"gBQIIOnDYbFh6WwURmx9j1AxgP8=\", false, function () {\n  return [useAuth, useNavigate];\n});\n_c = OrderTrain;\nexport default OrderTrain;\nvar _c;\n$RefreshReg$(_c, \"OrderTrain\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","useAuth","DatePicker","CreateWorkout","API_BASE_URL","WORKOUT_CONFIG","jsxDEV","_jsxDEV","Fragment","_Fragment","OrderTrain","_s","user","navigate","selectDate","setSelectDate","startTime","setStartTime","endTime","setEndTime","showCreateWorkout","setShowCreateWorkout","blockedTimes","setBlockedTimes","loadingBlockedTimes","setLoadingBlockedTimes","availableTimes","setAvailableTimes","availableHours","setAvailableHours","loading","setLoading","debounceTimer","setDebounceTimer","blockedTimesCache","setBlockedTimesCache","loadUserHours","token","localStorage","getItem","response","fetch","id","headers","data","json","success","err","console","error","clearTimeout","timer","setTimeout","loadBlockedTimes","times","generateTimeOptions","log","dateStr","toLocaleDateString","url","status","statusText","prev","length","message","isDateAllowed","date","today","Date","setHours","sevenDaysFromNow","setDate","getDate","dateToCheck","isTimeBlocked","timeString","isBlocked","includes","isTimeRangeBlocked","startHour","startMinute","split","map","Number","endHour","endMinute","startMinutes","endMinutes","blockedTime","blockedHour","blockedMinute","blockedMinutes","now","isToday","getMonth","getFullYear","hour","minute","SLOT_DURATION","currentHour","getHours","currentMinute","getMinutes","timeInMinutes","nowInMinutes","toString","padStart","push","generateEndTimeOptions","startTimeInMinutes","duration","MIN_WORKOUT_DURATION","MAX_WORKOUT_DURATION","endTimeInMinutes","Math","floor","handleCreateWorkout","alert","requiredQuarters","ceil","handleBackFromCreateWorkout","selectedDate","fileName","_jsxFileName","lineNumber","columnNumber","className","children","onClick","style","marginTop","open","onClickOutside","inline","showPopperArrow","filterDate","onChange","selected","window","innerWidth","padding","color","value","e","newStartTime","target","fontSize","borderRadius","border","backgroundColor","minWidth","time","join","newEndTime","_c","$RefreshReg$"],"sources":["/Users/omri/Desktop/wolfit-gym/frontend/src/OrderTrain.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { useAuth } from './contexts/AuthContext';\nimport './OrderTrain.css';\nimport './EditUser.css';\nimport DatePicker from \"react-datepicker\";\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport CreateWorkout from './CreateWorkout';\nimport { API_BASE_URL, WORKOUT_CONFIG } from './config';\n\nfunction OrderTrain(){\n  const { user } = useAuth();\n  const navigate = useNavigate();\n  const [selectDate, setSelectDate] = useState(null);\n  const [startTime, setStartTime] = useState(null);\n  const [endTime, setEndTime] = useState(null);\n  const [showCreateWorkout, setShowCreateWorkout] = useState(false);\n  const [blockedTimes, setBlockedTimes] = useState([]);\n  const [loadingBlockedTimes, setLoadingBlockedTimes] = useState(false);\n  const [availableTimes, setAvailableTimes] = useState([]);\n  const [availableHours, setAvailableHours] = useState(0);\n  const [loading, setLoading] = useState(true);\n  \n  // 🚀 תיקון 1: הוספת debouncing ו-cache\n  const [debounceTimer, setDebounceTimer] = useState(null);\n  const [blockedTimesCache, setBlockedTimesCache] = useState({});\n\n  useEffect(() => {\n    loadUserHours();\n  }, []);\n\n  const loadUserHours = async () => {\n    try {\n      setLoading(true);\n      const token = localStorage.getItem('authToken');\n      const response = await fetch(`${API_BASE_URL}/api/user-hours/${user.id}`, {\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json',\n        },\n      });\n      \n      const data = await response.json();\n      if (data.success) {\n        setAvailableHours(data.availableHours);\n      }\n    } catch (err) {\n      console.error('שגיאה בטעינת שעות:', err);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // 🚀 תיקון 2: debouncing - מניעת קריאות מרובות מהירות\n  useEffect(() => {\n    if (selectDate && user?.id) {\n      // ביטול טיימר קודם אם קיים\n      if (debounceTimer) {\n        clearTimeout(debounceTimer);\n      }\n      \n      // יצירת טיימר חדש - המתן 500ms לפני הקריאה\n      const timer = setTimeout(() => {\n        loadBlockedTimes();\n      }, 500);\n      \n      setDebounceTimer(timer);\n    } else {\n      setBlockedTimes([]);\n    }\n    \n    // ניקוי טיימר כשהקומפוננטה נהרסת\n    return () => {\n      if (debounceTimer) {\n        clearTimeout(debounceTimer);\n      }\n    };\n  }, [selectDate, user?.id]);\n\n  // עדכון שעות זמינות כשהשעות התפוסות משתנות\n  useEffect(() => {\n    if (selectDate) {\n      const times = generateTimeOptions();\n      setAvailableTimes(times);\n      console.log('🔄 עדכנתי שעות זמינות:', times);\n    }\n  }, [blockedTimes, selectDate]);\n\n  // 🚀 תיקון 3: הוספת cache למניעת קריאות מיותרות\n  const loadBlockedTimes = async () => {\n    try {\n      const dateStr = selectDate.toLocaleDateString('en-CA'); // YYYY-MM-DD\n      \n      // בדיקה אם יש cache לתאריך הזה\n      if (blockedTimesCache[dateStr]) {\n        console.log('📦 משתמש ב-cache לשעות תפוסות עבור', dateStr);\n        setBlockedTimes(blockedTimesCache[dateStr]);\n        return;\n      }\n      \n      setLoadingBlockedTimes(true);\n      const url = `${API_BASE_URL}/api/user-booked-times/${user.id}/${dateStr}`;\n      \n      console.log('🔍 טוען שעות תפוסות מ:', url);\n      \n      const token = localStorage.getItem('authToken');\n      console.log('🔑 טוקן:', token ? 'קיים' : 'חסר');\n      \n      const response = await fetch(url, {\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json',\n        },\n      });\n      \n      console.log('📡 תגובת השרת:', response.status, response.statusText);\n      const data = await response.json();\n      \n      if (data.success) {\n        setBlockedTimes(data.blockedTimes);\n        \n        // 🚀 שמירה ב-cache למניעת קריאות חוזרות\n        setBlockedTimesCache(prev => ({\n          ...prev,\n          [dateStr]: data.blockedTimes\n        }));\n        \n        console.log('🚫 שעות תפוסות נטענו:', data.blockedTimes);\n        console.log('📊 מספר שעות תפוסות:', data.blockedTimes.length);\n      } else {\n        console.log('⚠️ שגיאה בטעינת שעות תפוסות:', data.message);\n        setBlockedTimes([]);\n      }\n    } catch (error) {\n      console.error('❌ שגיאה בטעינת שעות תפוסות:', error);\n      setBlockedTimes([]);\n    } finally {\n      setLoadingBlockedTimes(false);\n    }\n  };\n\n  function isDateAllowed(date){\n    const today = new Date();\n    today.setHours(0, 0, 0, 0);\n\n    const sevenDaysFromNow = new Date();\n    sevenDaysFromNow.setDate(today.getDate() + 7);\n    sevenDaysFromNow.setHours(23, 59, 59, 999);\n\n    const dateToCheck = new Date(date);\n    dateToCheck.setHours(0, 0, 0, 0);\n\n    return dateToCheck >= today && dateToCheck <= sevenDaysFromNow;\n  }\n\n  // 🚀 תיקון 4: הפחתת לוגים - הסרת הודעות מיותרות\n  function isTimeBlocked(timeString) {\n    // בדיקה אם השעות התפוסות נטענו בכלל\n    if (!blockedTimes || blockedTimes.length === 0) {\n      // הסרת הלוג הזה - הוא יוצר רעש!\n      // console.log(`⚠️ אין שעות תפוסות נטענות, שעה ${timeString} זמינה`);\n      return false;\n    }\n    \n    // הסרת לוגים מיותרים - רק בדיקה שקטה\n    // console.log(`🔍 בודק אם שעה ${timeString} חסומה`);\n    // console.log(`📋 שעות תפוסות מהשרת:`, blockedTimes);\n    \n    // השרת כבר מחזיר את כל השעות החסומות כולל לבנות אימון לפני ואחרי\n    const isBlocked = blockedTimes.includes(timeString);\n    \n    // הסרת לוגים מיותרים\n    // if (isBlocked) {\n    //   console.log(`❌ שעה ${timeString} חסומה`);\n    // } else {\n    //   console.log(`✅ שעה ${timeString} זמינה`);\n    // }\n    \n    return isBlocked;\n  }\n\n  // פונקציה לבדיקה אם טווח זמן חופף לאימון קיים\n  function isTimeRangeBlocked(startTime, endTime) {\n    if (!startTime || !endTime || !blockedTimes || blockedTimes.length === 0) {\n      return false;\n    }\n    \n    console.log(`🔍 בודק אם טווח ${startTime}-${endTime} חופף לאימון קיים`);\n    console.log(`📋 שעות תפוסות:`, blockedTimes);\n    \n    // המרה של הזמנים לדקות\n    const [startHour, startMinute] = startTime.split(':').map(Number);\n    const [endHour, endMinute] = endTime.split(':').map(Number);\n    const startMinutes = startHour * 60 + startMinute;\n    const endMinutes = endHour * 60 + endMinute;\n    \n    // בדיקה אם יש אימון בטווח\n    for (const blockedTime of blockedTimes) {\n      const [blockedHour, blockedMinute] = blockedTime.split(':').map(Number);\n      const blockedMinutes = blockedHour * 60 + blockedMinute;\n      \n      // בדיקה אם האימון התפוס נמצא בטווח שנבחר\n      if (blockedMinutes >= startMinutes && blockedMinutes < endMinutes) {\n        console.log(`❌ טווח ${startTime}-${endTime} חופף לאימון ב-${blockedTime}`);\n        return true;\n      }\n    }\n    \n    console.log(`✅ טווח ${startTime}-${endTime} לא חופף לאימון קיים`);\n    return false;\n  }\n\n  // 🚀 תיקון 5: הפחתת לוגים ב-generateTimeOptions\n  function generateTimeOptions() {\n    // הסרת לוגים מיותרים - רק לוג אחד בסוף\n    // console.log('🚀 מתחיל ליצור אפשרויות זמן');\n    // console.log('📅 תאריך נבחר:', selectDate);\n    // console.log('🚫 שעות תפוסות:', blockedTimes);\n    \n    const times = [];\n    const now = new Date();\n    const isToday = selectDate && \n      selectDate.getDate() === now.getDate() &&\n      selectDate.getMonth() === now.getMonth() &&\n      selectDate.getFullYear() === now.getFullYear();\n    \n    for (let hour = 6; hour <= 23; hour++) {\n      for (let minute = 0; minute < 60; minute += WORKOUT_CONFIG.SLOT_DURATION) {\n        if (hour === 23 && minute > 0) break;\n        \n        if (isToday) {\n          const currentHour = now.getHours();\n          const currentMinute = now.getMinutes();\n          const timeInMinutes = hour * 60 + minute;\n          const nowInMinutes = currentHour * 60 + currentMinute + 30;\n          \n          if (timeInMinutes < nowInMinutes) {\n            continue;\n          }\n        }\n        \n        const timeString = `${hour.toString().padStart(2, '0')}:${minute.toString().padStart(2, '0')}`;\n        \n        // בדיקה אם השעה תפוסה (כולל לבנות אימון לפני ואחרי)\n        if (!isTimeBlocked(timeString)) {\n          times.push(timeString);\n        } else {\n          // הסרת לוג מיותר\n          // console.log(`🚫 שעה ${timeString} נחסמה ולא נוספה לרשימה`);\n        }\n      }\n    }\n    \n    // רק לוג אחד בסוף במקום 49 לוגים\n    console.log(`📋 נוצרו ${times.length} שעות זמינות`);\n    return times;\n  }\n\n  // 🚀 תיקון 6: הפחתת לוגים ב-generateEndTimeOptions\n  function generateEndTimeOptions() {\n    if (!startTime) return [];\n    \n    const [startHour, startMinute] = startTime.split(':').map(Number);\n    const startTimeInMinutes = startHour * 60 + startMinute;\n    const times = [];\n    \n    for (let duration = WORKOUT_CONFIG.MIN_WORKOUT_DURATION; duration <= WORKOUT_CONFIG.MAX_WORKOUT_DURATION; duration += WORKOUT_CONFIG.SLOT_DURATION) {\n      const endTimeInMinutes = startTimeInMinutes + duration;\n      const endHour = Math.floor(endTimeInMinutes / 60);\n      const endMinute = endTimeInMinutes % 60;\n      \n      if (endHour <= 23 && !(endHour === 23 && endMinute > 30)) {\n        const timeString = `${endHour.toString().padStart(2, '0')}:${endMinute.toString().padStart(2, '0')}`;\n        \n        // בדיקה אם השעה תפוסה (כולל לבנות אימון לפני ואחרי)\n        if (!isTimeBlocked(timeString)) {\n          times.push(timeString);\n        } else {\n          // הסרת לוג מיותר\n          // console.log(`🚫 שעת סיום ${timeString} נחסמה ולא נוספה לרשימה`);\n        }\n      }\n    }\n    \n    // רק לוג אחד בסוף\n    console.log(`📋 נוצרו ${times.length} שעות סיום זמינות`);\n    return times;\n  }\n\n  const handleCreateWorkout = () => {\n    // בדיקה אם הטווח שנבחר חופף לאימון קיים\n    if (isTimeRangeBlocked(startTime, endTime)) {\n      alert('הטווח שנבחר חופף לאימון קיים. אנא בחר טווח אחר.');\n      return;\n    }\n\n    // בדיקה אם יש מספיק שעות\n    const [startHour, startMinute] = startTime.split(':').map(Number);\n    const [endHour, endMinute] = endTime.split(':').map(Number);\n    const startMinutes = startHour * 60 + startMinute;\n    const endMinutes = endHour * 60 + endMinute;\n    const requiredQuarters = Math.ceil((endMinutes - startMinutes) / WORKOUT_CONFIG.SLOT_DURATION);\n\n    if (requiredQuarters > availableHours) {\n      alert(`אין מספיק שעות זמינות. נדרשות ${requiredQuarters} לבנות אימון, יש לך ${availableHours} לבנות אימון.`);\n      return;\n    }\n    \n    console.log('עוברים ליצירת אימון עם הנתונים:', {\n      user,\n      selectDate,\n      startTime,\n      endTime\n    });\n    setShowCreateWorkout(true);\n  };\n\n  const handleBackFromCreateWorkout = () => {\n    setShowCreateWorkout(false);\n    // חזרה לתפריט הראשי לאחר יצירת אימון\n    navigate('/main-menu');\n  };\n\n  if (showCreateWorkout) {\n    return (\n      <CreateWorkout \n        selectedDate={selectDate.toLocaleDateString('en-CA')}\n        startTime={startTime}\n        endTime={endTime}\n      />\n    );\n  }\n\n  return(\n    <div className=\"order-train-container\">\n      <button className=\"back-button\" onClick={() => navigate('/main-menu')}>חזרה</button>\n      <div className=\"order-content\">\n        <h1>הזמנת אימון</h1>\n        <div className=\"available-hours\">\n          {loading ? (\n            <span>טוען שעות זמינות...</span>\n          ) : (\n            <span>שעות זמינות: {availableHours} לבנות אימון</span>\n          )}\n        </div>\n        <div style={{marginTop: '50px'}}>\n          <DatePicker\n            open={true}\n            onClickOutside={() => {}}\n            inline={true}\n            showPopperArrow={false}\n            filterDate={isDateAllowed}\n            onChange={setSelectDate}\n            selected={selectDate}\n          />\n        </div>\n        {selectDate != null && (\n          <div style={{marginTop: window.innerWidth <= 768 ? '25px' : '160px'}}>\n            <h3>בחר שעת התחלה</h3>\n            {loadingBlockedTimes ? (\n              <div style={{padding: '10px', color: '#666'}}>טוען שעות זמינות...</div>\n            ) : (\n              <>\n                <select \n                  value={startTime || ''} \n                  onChange={(e) => {\n                    const newStartTime = e.target.value;\n                    setStartTime(newStartTime);\n                    setEndTime(null);\n                    \n                    // אם יש שעת סיום, נבדוק אם הטווח חופף לאימון קיים\n                    if (endTime && isTimeRangeBlocked(newStartTime, endTime)) {\n                      alert('הטווח שנבחר חופף לאימון קיים. אנא בחר שעת התחלה אחרת.');\n                      setStartTime(null);\n                    }\n                  }}\n                  style={{\n                    padding: '10px',\n                    fontSize: '16px',\n                    borderRadius: '5px',\n                    border: '1px solid #ccc',\n                    backgroundColor: 'white',\n                    minWidth: '120px'\n                  }}\n                >\n                  <option value=\"\">בחר שעה</option>\n                  {availableTimes.map(time => (\n                    <option key={time} value={time}>{time}</option>\n                  ))}\n                </select>\n                <div style={{\n                  marginTop: '5px',\n                  fontSize: '12px',\n                  color: '#888'\n                }}>\n                  שעות תפוסות: {blockedTimes.length > 0 ? blockedTimes.join(', ') : 'אין'}\n                </div>\n                {blockedTimes.length > 0 && (\n                  <div style={{\n                    marginTop: '10px',\n                    padding: '8px',\n                    backgroundColor: 'rgba(255, 107, 107, 0.1)',\n                    border: '1px solid rgba(255, 107, 107, 0.3)',\n                    borderRadius: '5px',\n                    fontSize: '14px',\n                    color: '#ff6b6b'\n                  }}>\n                    ⚠️ שעות שכבר יש לך אימון בהן (כולל לבנות אימון לפני ואחרי) לא זמינות לבחירה\n                  </div>\n                )}\n              </>\n            )}\n          </div>\n        )}\n\n        {startTime && (\n          <div style={{marginTop: window.innerWidth <= 768 ? '25px' : '30px'}}>\n            <h3>בחר שעת סיום</h3>\n            {loadingBlockedTimes ? (\n              <div style={{padding: '10px', color: '#666'}}>טוען שעות זמינות...</div>\n            ) : (\n                <select \n                  value={endTime || ''} \n                  onChange={(e) => {\n                    const newEndTime = e.target.value;\n                    setEndTime(newEndTime);\n                    \n                    // בדיקה אם הטווח חופף לאימון קיים\n                    if (newEndTime && isTimeRangeBlocked(startTime, newEndTime)) {\n                      alert('הטווח שנבחר חופף לאימון קיים. אנא בחר שעת סיום אחרת.');\n                      setEndTime(null);\n                    }\n                  }}\n                  style={{\n                    padding: '10px',\n                    fontSize: '16px',\n                    borderRadius: '5px',\n                    border: '1px solid #ccc',\n                    backgroundColor: 'white',\n                    minWidth: '120px'\n                  }}\n                >\n                <option value=\"\">בחר שעת סיום:</option>\n                {generateEndTimeOptions().map(time => (\n                  <option key={time} value={time}>{time}</option>\n                ))}\n              </select>\n            )}\n          </div>\n        )}\n      </div>\n\n      {selectDate && startTime && endTime && (\n        <div className=\"create-workout-button-container\">\n          <button \n            className=\"create-workout-button\"\n            onClick={handleCreateWorkout}\n          >\n            צור אימון\n          </button>\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default OrderTrain;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}