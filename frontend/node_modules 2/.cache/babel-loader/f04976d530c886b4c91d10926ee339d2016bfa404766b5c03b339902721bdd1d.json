{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useNavigate}from'react-router-dom';import{useAuth}from'./contexts/AuthContext';import'./EditUser.css';import{API_BASE_URL}from'./config';import FitnessMetricsChart from'./components/FitnessMetricsChart';import InteractiveBodySelector from'./components/InteractiveBodySelector';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function EditUser(){const{user:currentUser}=useAuth();const navigate=useNavigate();const[selectedSports,setSelectedSports]=useState([]);const[preferenceMode,setPreferenceMode]=useState('simple');const[intensityLevel,setIntensityLevel]=useState(2);const[isLoading,setIsLoading]=useState(false);// שדות חדשים לבחירת אזורי גוף (לא נשמרים במסד נתונים)\nconst[wantsStrengthTraining,setWantsStrengthTraining]=useState(false);const[selectedBodyAreas,setSelectedBodyAreas]=useState([]);const[saveMessage,setSaveMessage]=useState('');const[isSaving,setIsSaving]=useState(false);// מצב לניהול גרף מדדי הכושר\nconst[chartOpen,setChartOpen]=useState(false);const[selectedSportForChart,setSelectedSportForChart]=useState(null);const SPORTS_LIST=[{id:1,name:'כדורגל',icon:'⚽',image:'/images/sports/football.jpg'},{id:2,name:'כדורסל',icon:'🏀',image:'/images/sports/basketball.jpg'},{id:3,name:'טיפוס',icon:'🧗',image:'/images/sports/climbing.jpg'},{id:4,name:'חדר כושר',icon:'🏋️',image:'/images/sports/gym.jpg'},{id:5,name:'קורדינציה',icon:'🎯',image:'/images/sports/coordination.jpg'},{id:6,name:'טניס',icon:'🎾',image:'/images/sports/tennis.jpg'},{id:7,name:'פינגפונג',icon:'🏓',image:'/images/sports/pingpong.jpg'},{id:8,name:'אגרוף',icon:'🥊',image:'/images/sports/dance.jpg'},{id:9,name:'אופניים',icon:'🚴',image:'/images/sports/cycling.jpg'}];const loadUserPreferences=async()=>{if(!currentUser||!currentUser.id){console.log('אין משתמש נוכחי');return;}console.log('טוען העדפות עבור משתמש:',currentUser.id);setIsLoading(true);try{console.log('🔍 מתחיל לטעון העדפות עבור משתמש:',currentUser.id);const token=localStorage.getItem('authToken');console.log('🔑 נמצא טוקן:',token?'כן':'לא');const response=await fetch(\"\".concat(API_BASE_URL,\"/api/user-preferences/\").concat(currentUser.id),{headers:{'Authorization':\"Bearer \".concat(token),'Content-Type':'application/json'}});console.log('📡 תגובה מהשרת:',{status:response.status,ok:response.ok,statusText:response.statusText});if(response.ok){const result=await response.json();console.log('נתונים שהתקבלו:',result);if(result.success&&result.data){console.log('✅ התקבלו נתונים תקינים מהשרת');const{intensityLevel,sports,preferenceMode}=result.data;console.log('💪 רמת עצימות:',intensityLevel);console.log('🎯 כל הספורטים:',sports);console.log('🔄 מצב העדפה:',preferenceMode);console.log('📝 מתחיל לעבד את הנתונים...');// מחלץ את הספורטים הנבחרים\n// מחלץ את הספורטים הנבחרים\nlet selectedIds;if(Array.isArray(sports)){// אם זה מערך של אובייקטים עם selected\nif(sports.some(sport=>'selected'in sport)){selectedIds=sports.filter(sport=>sport.selected).sort((a,b)=>(a.rank||0)-(b.rank||0)).map(sport=>sport.id);}// אם זה מערך של אובייקטים עם id ישירות\nelse{selectedIds=sports.sort((a,b)=>(a.rank||0)-(b.rank||0)).map(sport=>sport.id);}}else{selectedIds=[];}console.log('ספורטים נבחרים:',selectedIds);setIntensityLevel(intensityLevel||2);setSelectedSports(selectedIds);setPreferenceMode(preferenceMode||'simple');// שדות אימון כוח נשארים ברירת מחדל (לא נטענים מהשרת)\nconsole.log('State עודכן בהצלחה');}else{console.log('אין העדפות קיימות או תגובה לא תקינה');setSelectedSports([]);setPreferenceMode('simple');setIntensityLevel(2);// שדות אימון כוח נשארים ברירת מחדל\n}}else{console.log('שגיאה בתגובה מהשרת:',response.status);setSelectedSports([]);setPreferenceMode('simple');setIntensityLevel(2);// שדות אימון כוח נשארים ברירת מחדל\n}}catch(error){console.error('שגיאה בטעינת העדפות:',error);setSelectedSports([]);setPreferenceMode('simple');setIntensityLevel(2);// שדות אימון כוח נשארים ברירת מחדל\n}finally{setIsLoading(false);}};const saveUserPreferences=async()=>{console.log('=== התחלת שמירת העדפות ===');if(!currentUser||!currentUser.id){console.log('❌ אין משתמש נוכחי לשמירה');return;}if(selectedSports.length===0){console.log('❌ אין ספורט נבחרים');setSaveMessage('אנא בחר לפחות ספורט אחד');return;}console.log('✅ משתמש:',currentUser.id);console.log('✅ ספורט נבחרים:',selectedSports);console.log('✅ מצב דירוג:',preferenceMode);console.log('✅ רמת עצימות:',intensityLevel);setIsSaving(true);setSaveMessage('');try{const requestData={intensityLevel:intensityLevel,selectedSports:selectedSports// שדות אימון כוח לא נשלחים לשרת (רק לממשק)\n};console.log('📤 נתונים לשליחה:',JSON.stringify(requestData,null,2));const url=\"\".concat(API_BASE_URL,\"/api/save-user-preferences/\").concat(currentUser.id);console.log('🌐 URL:',url);const token=localStorage.getItem('authToken');const response=await fetch(url,{method:'PUT',headers:{'Authorization':\"Bearer \".concat(token),'Content-Type':'application/json'},body:JSON.stringify(requestData)});console.log('📥 תגובת שמירה:',response.status,response.statusText);if(response.ok){const result=await response.json();console.log('✅ תוצאת שמירה:',result);setSaveMessage('✅ השינויים נשמרו בהצלחה!');setTimeout(()=>{setSaveMessage('');// חזרה לתפריט הראשי לאחר שמירת ההעדפות\nnavigate('/main-menu');},1000);}else{const errorText=await response.text();console.log('❌ שגיאה בשמירה:',errorText);setSaveMessage(\"\\u05E9\\u05D2\\u05D9\\u05D0\\u05D4 \\u05D1\\u05E9\\u05DE\\u05D9\\u05E8\\u05EA \\u05D4\\u05D4\\u05E2\\u05D3\\u05E4\\u05D5\\u05EA: \".concat(response.status));}}catch(error){console.error('💥 שגיאה בשמירת העדפות:',error);setSaveMessage(\"\\u05E9\\u05D2\\u05D9\\u05D0\\u05D4 \\u05D1\\u05E9\\u05DE\\u05D9\\u05E8\\u05EA \\u05D4\\u05D4\\u05E2\\u05D3\\u05E4\\u05D5\\u05EA: \".concat(error.message));}finally{setIsSaving(false);console.log('=== סיום שמירת העדפות ===');}};useEffect(()=>{console.log('=== EditUser נטען ===');console.log('👤 משתמש נוכחי:',currentUser);if(currentUser&&currentUser.id){console.log('🔄 מתחיל טעינת העדפות...');loadUserPreferences();}else{console.log('❌ אין משתמש נוכחי');}},[currentUser]);const changeToSimple=()=>{setPreferenceMode('simple');};const changeToRanked=()=>{setPreferenceMode('ranked');};const isSimpleActive=()=>{return preferenceMode==='simple'?'mode-button active':'mode-button';};const isRankedActive=()=>{return preferenceMode==='ranked'?'mode-button active':'mode-button';};const toggleSport=sportId=>{const currentSelected=selectedSports.slice();const isCurrentlySelected=currentSelected.includes(sportId);if(isCurrentlySelected){const newSelected=currentSelected.filter(id=>id!==sportId);setSelectedSports(newSelected);}else{currentSelected.push(sportId);setSelectedSports(currentSelected);}};const moveSportUp=sportId=>{const currentSelected=selectedSports.slice();const index=currentSelected.indexOf(sportId);if(index>0){const temp=currentSelected[index];currentSelected[index]=currentSelected[index-1];currentSelected[index-1]=temp;setSelectedSports(currentSelected);}};const moveSportDown=sportId=>{const currentSelected=selectedSports.slice();const index=currentSelected.indexOf(sportId);if(index<currentSelected.length-1){const temp=currentSelected[index];currentSelected[index]=currentSelected[index+1];currentSelected[index+1]=temp;setSelectedSports(currentSelected);}};const getSportsByPreference=()=>{const preferred=[];const others=[];SPORTS_LIST.forEach(sport=>{const isSelected=selectedSports.includes(sport.id);if(isSelected){preferred.push(sport);}else{others.push(sport);}});console.log('ספורט מועדפים:',preferred.map(s=>s.name));console.log('ספורט אחרים:',others.map(s=>s.name));return{preferred,others};};// פונקציה לפתיחת גרף מדדי הכושר\nconst openFitnessChart=sport=>{setSelectedSportForChart(sport);setChartOpen(true);};// פונקציה לסגירת גרף מדדי הכושר\nconst closeFitnessChart=()=>{setChartOpen(false);setSelectedSportForChart(null);};const getSortedPreferred=()=>{const preferred=getSportsByPreference().preferred;if(preferenceMode==='simple'){return preferred;}else{return preferred.sort((a,b)=>{const positionA=selectedSports.indexOf(a.id);const positionB=selectedSports.indexOf(b.id);return positionA-positionB;});}};const getRankingIcon=rank=>{const icons=['🥇','🥈','🥉','4️⃣','5️⃣','6️⃣','7️⃣','8️⃣','9️⃣'];return icons[rank-1]||\"\".concat(rank);};const getIntensityLabel=level=>{switch(level){case 1:return'קל';case 2:return'בינוני';case 3:return'קשה';default:return'בינוני';}};const getIntensityColor=level=>{switch(level){case 1:return'#4CAF50';case 2:return'#FF9800';case 3:return'#F44336';default:return'#FF9800';}};if(isLoading){return/*#__PURE__*/_jsx(\"div\",{className:\"edit-user-container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"content\",children:/*#__PURE__*/_jsx(\"h2\",{children:\"\\u05D8\\u05D5\\u05E2\\u05DF \\u05D4\\u05E2\\u05D3\\u05E4\\u05D5\\u05EA...\"})})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"edit-user-container\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"back-button\",onClick:()=>navigate('/main-menu'),children:\"\\u05D7\\u05D6\\u05E8\\u05D4\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"content\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"\\u05E2\\u05E8\\u05D9\\u05DB\\u05EA \\u05DE\\u05E9\\u05EA\\u05DE\\u05E9\"}),/*#__PURE__*/_jsx(\"p\",{children:\"\\u05E2\\u05E8\\u05D5\\u05DA \\u05D0\\u05EA \\u05D4\\u05E2\\u05D3\\u05E4\\u05D5\\u05EA \\u05D4\\u05E1\\u05E4\\u05D5\\u05E8\\u05D8 \\u05D5\\u05D4\\u05E2\\u05E6\\u05D9\\u05DE\\u05D5\\u05EA \\u05E9\\u05DC\\u05DA\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"sports-section\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"preference-mode-selector\",children:[/*#__PURE__*/_jsx(\"button\",{className:isSimpleActive(),onClick:changeToSimple,children:\"\\u05D0\\u05E0\\u05D9 \\u05D0\\u05D5\\u05D4\\u05D1 \\u05D4\\u05DB\\u05DC \\u05D1\\u05D0\\u05D5\\u05EA\\u05D4 \\u05DE\\u05D9\\u05D3\\u05D4\"}),/*#__PURE__*/_jsx(\"button\",{className:isRankedActive(),onClick:changeToRanked,children:\"\\u05D4\\u05E2\\u05D3\\u05E4\\u05D4 \\u05DE\\u05D3\\u05D5\\u05E8\\u05D2\\u05EA\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"ranking-instructions\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"\\uD83D\\uDCCB \\u05DC\\u05D7\\u05E5 \\u05E2\\u05DC \\u05D4\\u05E1\\u05E4\\u05D5\\u05E8\\u05D8 \\u05DB\\u05D3\\u05D9 \\u05DC\\u05D4\\u05D5\\u05E1\\u05D9\\u05E3/\\u05DC\\u05D4\\u05E1\\u05D9\\u05E8 \\u05DE\\u05D4\\u05E8\\u05E9\\u05D9\\u05DE\\u05D4\"}),preferenceMode==='ranked'&&/*#__PURE__*/_jsx(\"p\",{children:\"\\u2B06\\uFE0F\\u2B07\\uFE0F \\u05D4\\u05E9\\u05EA\\u05DE\\u05E9 \\u05D1\\u05D7\\u05E6\\u05D9\\u05DD \\u05DB\\u05D3\\u05D9 \\u05DC\\u05E9\\u05E0\\u05D5\\u05EA \\u05D0\\u05EA \\u05E1\\u05D3\\u05E8 \\u05D4\\u05D3\\u05D9\\u05E8\\u05D5\\u05D2\"}),/*#__PURE__*/_jsx(\"p\",{children:\"\\uD83D\\uDCCA \\u05DC\\u05D7\\u05E5 \\u05E2\\u05DC \\u05DB\\u05E4\\u05EA\\u05D5\\u05E8 \\u05D4\\u05D2\\u05E8\\u05E3 \\u05D1\\u05E6\\u05D3 \\u05E9\\u05DE\\u05D0\\u05DC \\u05DC\\u05DE\\u05E2\\u05DC\\u05D4 \\u05DB\\u05D3\\u05D9 \\u05DC\\u05E8\\u05D0\\u05D5\\u05EA \\u05D0\\u05EA \\u05DE\\u05E8\\u05DB\\u05D9\\u05D1\\u05D9 \\u05D4\\u05DB\\u05D5\\u05E9\\u05E8 \\u05E9\\u05DC \\u05D4\\u05E1\\u05E4\\u05D5\\u05E8\\u05D8\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"sports-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"sports-column\",children:[/*#__PURE__*/_jsx(\"h3\",{children:preferenceMode==='ranked'?'🏆 תחומים מדורגים':'תחומים מועדפים'}),/*#__PURE__*/_jsx(\"div\",{className:\"sports-list\",children:getSortedPreferred().map((sport,index)=>{const rank=preferenceMode==='ranked'?index+1:null;return/*#__PURE__*/_jsxs(\"div\",{className:\"sport-item\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>toggleSport(sport.id),className:preferenceMode==='ranked'?'ranked-sport-button':'sport-button',children:[preferenceMode==='ranked'&&/*#__PURE__*/_jsxs(\"div\",{className:\"ranking-display\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"rank-number\",children:rank}),/*#__PURE__*/_jsxs(\"div\",{className:\"sport-image-container\",children:[/*#__PURE__*/_jsx(\"img\",{src:sport.image,alt:sport.name,className:\"sport-image\"}),/*#__PURE__*/_jsx(\"div\",{className:\"sport-name-overlay\",children:sport.name})]})]}),preferenceMode==='simple'&&/*#__PURE__*/_jsxs(\"div\",{className:\"sport-image-container\",children:[/*#__PURE__*/_jsx(\"img\",{src:sport.image,alt:sport.name,className:\"sport-image\"}),/*#__PURE__*/_jsx(\"div\",{className:\"sport-name-overlay\",children:sport.name})]})]}),preferenceMode==='ranked'&&/*#__PURE__*/_jsxs(\"div\",{className:\"ranking-controls\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"rank-control-btn up-btn\",onClick:()=>moveSportUp(sport.id),disabled:index===0,title:\"\\u05D4\\u05E2\\u05D1\\u05E8 \\u05DC\\u05DE\\u05E2\\u05DC\\u05D4\",children:\"\\u2B06\\uFE0F\"}),/*#__PURE__*/_jsx(\"button\",{className:\"rank-control-btn down-btn\",onClick:()=>moveSportDown(sport.id),disabled:index===getSortedPreferred().length-1,title:\"\\u05D4\\u05E2\\u05D1\\u05E8 \\u05DC\\u05DE\\u05D8\\u05D4\",children:\"\\u2B07\\uFE0F\"})]}),/*#__PURE__*/_jsx(\"button\",{className:\"fitness-chart-btn\",onClick:()=>openFitnessChart(sport),title:\"\\u05E6\\u05E4\\u05D4 \\u05D1\\u05DE\\u05D3\\u05D3\\u05D9 \\u05D4\\u05DB\\u05D5\\u05E9\\u05E8\",children:\"\\uD83D\\uDCCA\"})]},sport.id);})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"sports-column\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\u05E9\\u05D0\\u05E8 \\u05D4\\u05D0\\u05D5\\u05E4\\u05E6\\u05D9\\u05D5\\u05EA\"}),/*#__PURE__*/_jsx(\"div\",{className:\"sports-list\",children:getSportsByPreference().others.map(sport=>/*#__PURE__*/_jsxs(\"div\",{className:\"sport-item\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"sport-image-container\",onClick:()=>toggleSport(sport.id),\"data-sport\":sport.name==='כדורסל'?'basketball':'',children:[/*#__PURE__*/_jsx(\"img\",{src:sport.image,alt:sport.name,className:\"sport-image\"}),/*#__PURE__*/_jsx(\"div\",{className:\"sport-name-overlay\",children:sport.name})]}),/*#__PURE__*/_jsx(\"button\",{className:\"fitness-chart-btn\",onClick:()=>openFitnessChart(sport),title:\"\\u05E6\\u05E4\\u05D4 \\u05D1\\u05DE\\u05D3\\u05D3\\u05D9 \\u05D4\\u05DB\\u05D5\\u05E9\\u05E8\",children:\"\\uD83D\\uDCCA\"})]},sport.id))})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"summary-section\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"intensity-section\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"\\uD83D\\uDD25 \\u05E8\\u05DE\\u05EA \\u05E2\\u05E6\\u05D9\\u05DE\\u05D5\\u05EA \\u05DE\\u05D5\\u05E2\\u05D3\\u05E4\\u05EA:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"intensity-selector\",children:[1,2,3].map(level=>/*#__PURE__*/_jsxs(\"button\",{className:\"intensity-btn \".concat(intensityLevel===level?'active':''),onClick:()=>setIntensityLevel(level),style:{backgroundColor:intensityLevel===level?getIntensityColor(level):'rgba(255, 255, 255, 0.1)',borderColor:getIntensityColor(level)},children:[/*#__PURE__*/_jsx(\"span\",{className:\"intensity-number\",children:level}),/*#__PURE__*/_jsx(\"span\",{className:\"intensity-label\",children:getIntensityLabel(level)})]},level))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"strength-training-section\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"\\uD83D\\uDCAA \\u05D0\\u05D9\\u05DE\\u05D5\\u05DF \\u05DB\\u05D5\\u05D7:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"strength-training-option\",children:/*#__PURE__*/_jsxs(\"label\",{className:\"strength-checkbox\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:wantsStrengthTraining,onChange:e=>setWantsStrengthTraining(e.target.checked)}),/*#__PURE__*/_jsx(\"span\",{className:\"checkbox-text\",children:\"\\u05D0\\u05E0\\u05D9 \\u05E8\\u05D5\\u05E6\\u05D4 \\u05DC\\u05E9\\u05DC\\u05D1 \\u05EA\\u05E8\\u05D2\\u05D9\\u05DC\\u05D9 \\u05DB\\u05D5\\u05D7 \\u05D1\\u05D0\\u05D9\\u05DE\\u05D5\\u05DF\"})]})}),wantsStrengthTraining&&/*#__PURE__*/_jsx(InteractiveBodySelector,{selectedAreas:selectedBodyAreas,onAreasChange:setSelectedBodyAreas})]}),preferenceMode==='ranked'&&selectedSports.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"ranking-summary\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"\\u05E1\\u05D3\\u05E8 \\u05D4\\u05D3\\u05D9\\u05E8\\u05D5\\u05D2 \\u05E9\\u05DC\\u05DA:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"ranking-list\",children:getSortedPreferred().map((sport,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"ranking-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"rank-badge\",children:getRankingIcon(index+1)}),/*#__PURE__*/_jsx(\"span\",{className:\"sport-icon\",children:sport.icon}),/*#__PURE__*/_jsx(\"span\",{className:\"sport-name\",children:sport.name})]},sport.id))})]}),saveMessage&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{style:{position:'fixed',top:0,left:0,width:'100%',height:'100%',backgroundColor:'rgba(0, 0, 0, 0.9)',zIndex:999}}),/*#__PURE__*/_jsx(\"div\",{className:\"save-message\",style:{position:'fixed',top:'50%',left:'50%',transform:'translate(-50%, -50%)',backgroundColor:'#fff',color:'#000',padding:'20px 30px',borderRadius:'12px',border:'2px solid #8b5cf6',boxShadow:'0 4px 20px rgba(0, 0, 0, 0.5)',fontSize:'18px',fontWeight:'bold',zIndex:1000,textAlign:'center',animation:'popup 0.3s ease-out'},children:saveMessage})]}),/*#__PURE__*/_jsx(\"div\",{style:{textAlign:'center',marginTop:'30px'},children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>{console.log('🔘 כפתור שמירה נלחץ!');saveUserPreferences();},disabled:isSaving,style:{width:'250px',height:'55px',fontSize:'18px',fontWeight:'bold',background:selectedSports.length>0?'linear-gradient(45deg, #b38ed8, #9c7dc4)':'rgba(255, 255, 255, 0.2)',color:selectedSports.length>0?'#ffffff':'rgba(255, 255, 255, 0.5)',border:'none',borderRadius:'12px',cursor:selectedSports.length>0&&!isSaving?'pointer':'not-allowed',transition:'all 0.3s ease',opacity:selectedSports.length>0&&!isSaving?1:0.6},children:isSaving?'שומר...':'שמור והמשך'})})]})]})]}),/*#__PURE__*/_jsx(FitnessMetricsChart,{sportName:selectedSportForChart===null||selectedSportForChart===void 0?void 0:selectedSportForChart.name,sportId:selectedSportForChart===null||selectedSportForChart===void 0?void 0:selectedSportForChart.id,isOpen:chartOpen,onClose:closeFitnessChart})]});}export default EditUser;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","useAuth","API_BASE_URL","FitnessMetricsChart","InteractiveBodySelector","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","EditUser","user","currentUser","navigate","selectedSports","setSelectedSports","preferenceMode","setPreferenceMode","intensityLevel","setIntensityLevel","isLoading","setIsLoading","wantsStrengthTraining","setWantsStrengthTraining","selectedBodyAreas","setSelectedBodyAreas","saveMessage","setSaveMessage","isSaving","setIsSaving","chartOpen","setChartOpen","selectedSportForChart","setSelectedSportForChart","SPORTS_LIST","id","name","icon","image","loadUserPreferences","console","log","token","localStorage","getItem","response","fetch","concat","headers","status","ok","statusText","result","json","success","data","sports","selectedIds","Array","isArray","some","sport","filter","selected","sort","a","b","rank","map","error","saveUserPreferences","length","requestData","JSON","stringify","url","method","body","setTimeout","errorText","text","message","changeToSimple","changeToRanked","isSimpleActive","isRankedActive","toggleSport","sportId","currentSelected","slice","isCurrentlySelected","includes","newSelected","push","moveSportUp","index","indexOf","temp","moveSportDown","getSportsByPreference","preferred","others","forEach","isSelected","s","openFitnessChart","closeFitnessChart","getSortedPreferred","positionA","positionB","getRankingIcon","icons","getIntensityLabel","level","getIntensityColor","className","children","onClick","src","alt","disabled","title","style","backgroundColor","borderColor","type","checked","onChange","e","target","selectedAreas","onAreasChange","position","top","left","width","height","zIndex","transform","color","padding","borderRadius","border","boxShadow","fontSize","fontWeight","textAlign","animation","marginTop","background","cursor","transition","opacity","sportName","isOpen","onClose"],"sources":["/Users/omri/Desktop/wolfit-gym/frontend/src/EditUser.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { useAuth } from './contexts/AuthContext';\nimport './EditUser.css';\nimport { API_BASE_URL } from './config';\nimport FitnessMetricsChart from './components/FitnessMetricsChart';\nimport InteractiveBodySelector from './components/InteractiveBodySelector';\n\n\nfunction EditUser() {\n  const { user: currentUser } = useAuth();\n  const navigate = useNavigate();\n  const [selectedSports, setSelectedSports] = useState([]);\n  const [preferenceMode, setPreferenceMode] = useState('simple');\n  const [intensityLevel, setIntensityLevel] = useState(2);\n  const [isLoading, setIsLoading] = useState(false);\n  \n  // שדות חדשים לבחירת אזורי גוף (לא נשמרים במסד נתונים)\n  const [wantsStrengthTraining, setWantsStrengthTraining] = useState(false);\n  const [selectedBodyAreas, setSelectedBodyAreas] = useState([]);\n\n  const [saveMessage, setSaveMessage] = useState('');\n  const [isSaving, setIsSaving] = useState(false);\n  \n  // מצב לניהול גרף מדדי הכושר\n  const [chartOpen, setChartOpen] = useState(false);\n  const [selectedSportForChart, setSelectedSportForChart] = useState(null);\n\n  const SPORTS_LIST = [\n    { id: 1, name: 'כדורגל', icon: '⚽', image: '/images/sports/football.jpg' },\n    { id: 2, name: 'כדורסל', icon: '🏀', image: '/images/sports/basketball.jpg' },\n    { id: 3, name: 'טיפוס', icon: '🧗', image: '/images/sports/climbing.jpg' },\n    { id: 4, name: 'חדר כושר', icon: '🏋️', image: '/images/sports/gym.jpg' },\n    { id: 5, name: 'קורדינציה', icon: '🎯', image: '/images/sports/coordination.jpg' },\n    { id: 6, name: 'טניס', icon: '🎾', image: '/images/sports/tennis.jpg' },\n    { id: 7, name: 'פינגפונג', icon: '🏓', image: '/images/sports/pingpong.jpg' },\n    { id: 8, name: 'אגרוף', icon: '🥊', image: '/images/sports/dance.jpg' },\n    { id: 9, name: 'אופניים', icon: '🚴', image: '/images/sports/cycling.jpg' }\n  ];\n\n\n  const loadUserPreferences = async () => {\n    if (!currentUser || !currentUser.id) {\n      console.log('אין משתמש נוכחי');\n      return;\n    }\n    \n    console.log('טוען העדפות עבור משתמש:', currentUser.id);\n    setIsLoading(true);\n    \n    try {\n      console.log('🔍 מתחיל לטעון העדפות עבור משתמש:', currentUser.id);\n      const token = localStorage.getItem('authToken');\n      console.log('🔑 נמצא טוקן:', token ? 'כן' : 'לא');\n      \n      const response = await fetch(`${API_BASE_URL}/api/user-preferences/${currentUser.id}`, {\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json',\n        },\n      });\n      console.log('📡 תגובה מהשרת:', {\n        status: response.status,\n        ok: response.ok,\n        statusText: response.statusText\n      });\n      \n      if (response.ok) {\n        const result = await response.json();\n        console.log('נתונים שהתקבלו:', result);\n        \n          if (result.success && result.data) {\n            console.log('✅ התקבלו נתונים תקינים מהשרת');\n            const { intensityLevel, sports, preferenceMode } = result.data;\n            \n            console.log('💪 רמת עצימות:', intensityLevel);\n            console.log('🎯 כל הספורטים:', sports);\n            console.log('🔄 מצב העדפה:', preferenceMode);\n            \n            console.log('📝 מתחיל לעבד את הנתונים...');\n            \n            // מחלץ את הספורטים הנבחרים\n            // מחלץ את הספורטים הנבחרים\n            let selectedIds;\n            if (Array.isArray(sports)) {\n              // אם זה מערך של אובייקטים עם selected\n              if (sports.some(sport => 'selected' in sport)) {\n                selectedIds = sports\n                  .filter(sport => sport.selected)\n                  .sort((a, b) => (a.rank || 0) - (b.rank || 0))\n                  .map(sport => sport.id);\n              } \n              // אם זה מערך של אובייקטים עם id ישירות\n              else {\n                selectedIds = sports\n                  .sort((a, b) => (a.rank || 0) - (b.rank || 0))\n                  .map(sport => sport.id);\n              }\n            } else {\n              selectedIds = [];\n            }\n            \n            console.log('ספורטים נבחרים:', selectedIds);\n            \n            setIntensityLevel(intensityLevel || 2);\n            setSelectedSports(selectedIds);\n            setPreferenceMode(preferenceMode || 'simple');\n            // שדות אימון כוח נשארים ברירת מחדל (לא נטענים מהשרת)\n          \n          console.log('State עודכן בהצלחה');\n        } else {\n          console.log('אין העדפות קיימות או תגובה לא תקינה');\n          setSelectedSports([]);\n          setPreferenceMode('simple');\n          setIntensityLevel(2);\n          // שדות אימון כוח נשארים ברירת מחדל\n        }\n      } else {\n        console.log('שגיאה בתגובה מהשרת:', response.status);\n        setSelectedSports([]);\n        setPreferenceMode('simple');\n        setIntensityLevel(2);\n        // שדות אימון כוח נשארים ברירת מחדל\n      }\n    } catch (error) {\n      console.error('שגיאה בטעינת העדפות:', error);\n      setSelectedSports([]);\n      setPreferenceMode('simple');\n      setIntensityLevel(2);\n      // שדות אימון כוח נשארים ברירת מחדל\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const saveUserPreferences = async () => {\n    console.log('=== התחלת שמירת העדפות ===');\n    \n    if (!currentUser || !currentUser.id) {\n      console.log('❌ אין משתמש נוכחי לשמירה');\n      return;\n    }\n    \n    if (selectedSports.length === 0) {\n      console.log('❌ אין ספורט נבחרים');\n      setSaveMessage('אנא בחר לפחות ספורט אחד');\n      return;\n    }\n    \n    console.log('✅ משתמש:', currentUser.id);\n    console.log('✅ ספורט נבחרים:', selectedSports);\n    console.log('✅ מצב דירוג:', preferenceMode);\n    console.log('✅ רמת עצימות:', intensityLevel);\n    \n    setIsSaving(true);\n    setSaveMessage('');\n    \n    try {\n      const requestData = {\n        intensityLevel: intensityLevel,\n        selectedSports: selectedSports\n        // שדות אימון כוח לא נשלחים לשרת (רק לממשק)\n      };\n\n      console.log('📤 נתונים לשליחה:', JSON.stringify(requestData, null, 2));\n\n      const url = `${API_BASE_URL}/api/save-user-preferences/${currentUser.id}`; \n      console.log('🌐 URL:', url);\n\n      const token = localStorage.getItem('authToken');\n      const response = await fetch(url, {\n        method: 'PUT',\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(requestData)\n      });\n\n      console.log('📥 תגובת שמירה:', response.status, response.statusText);\n\n      if (response.ok) {\n        const result = await response.json();\n        console.log('✅ תוצאת שמירה:', result);\n        setSaveMessage('✅ השינויים נשמרו בהצלחה!');\n        setTimeout(() => {\n          setSaveMessage('');\n          // חזרה לתפריט הראשי לאחר שמירת ההעדפות\n          navigate('/main-menu');\n        }, 1000);\n      } else {\n        const errorText = await response.text();\n        console.log('❌ שגיאה בשמירה:', errorText);\n        setSaveMessage(`שגיאה בשמירת ההעדפות: ${response.status}`);\n      }\n    } catch (error) {\n      console.error('💥 שגיאה בשמירת העדפות:', error);\n      setSaveMessage(`שגיאה בשמירת ההעדפות: ${error.message}`);\n    } finally {\n      setIsSaving(false);\n      console.log('=== סיום שמירת העדפות ===');\n    }\n  };\n\n  useEffect(() => {\n    console.log('=== EditUser נטען ===');\n    console.log('👤 משתמש נוכחי:', currentUser);\n    \n    if (currentUser && currentUser.id) {\n      console.log('🔄 מתחיל טעינת העדפות...');\n      loadUserPreferences();\n    } else {\n      console.log('❌ אין משתמש נוכחי');\n    }\n  }, [currentUser]);\n\n  const changeToSimple = () => {\n    setPreferenceMode('simple');\n  };\n\n  const changeToRanked = () => {\n    setPreferenceMode('ranked');\n  };\n\n  const isSimpleActive = () => {\n    return preferenceMode === 'simple' ? 'mode-button active' : 'mode-button';\n  };\n\n  const isRankedActive = () => {\n    return preferenceMode === 'ranked' ? 'mode-button active' : 'mode-button';\n  };\n\n  const toggleSport = (sportId) => {\n    const currentSelected = selectedSports.slice();\n    const isCurrentlySelected = currentSelected.includes(sportId);\n    \n    if (isCurrentlySelected) {\n      const newSelected = currentSelected.filter(id => id !== sportId);\n      setSelectedSports(newSelected);\n    } else {\n      currentSelected.push(sportId);\n      setSelectedSports(currentSelected);\n    }\n  };\n\n  const moveSportUp = (sportId) => {\n    const currentSelected = selectedSports.slice();\n    const index = currentSelected.indexOf(sportId);\n    \n    if (index > 0) {\n      const temp = currentSelected[index];\n      currentSelected[index] = currentSelected[index - 1];\n      currentSelected[index - 1] = temp;\n      setSelectedSports(currentSelected);\n    }\n  };\n\n  const moveSportDown = (sportId) => {\n    const currentSelected = selectedSports.slice();\n    const index = currentSelected.indexOf(sportId);\n    \n    if (index < currentSelected.length - 1) {\n      const temp = currentSelected[index];\n      currentSelected[index] = currentSelected[index + 1];\n      currentSelected[index + 1] = temp;\n      setSelectedSports(currentSelected);\n    }\n  };\n\n\n\n  const getSportsByPreference = () => {\n    const preferred = [];\n    const others = [];\n    \n    SPORTS_LIST.forEach(sport => {\n      const isSelected = selectedSports.includes(sport.id);\n      if (isSelected) {\n        preferred.push(sport);\n      } else {\n        others.push(sport);\n      }\n    });\n    \n    console.log('ספורט מועדפים:', preferred.map(s => s.name));\n    console.log('ספורט אחרים:', others.map(s => s.name));\n    \n    return { preferred, others };\n  };\n\n  // פונקציה לפתיחת גרף מדדי הכושר\n  const openFitnessChart = (sport) => {\n    setSelectedSportForChart(sport);\n    setChartOpen(true);\n  };\n\n  // פונקציה לסגירת גרף מדדי הכושר\n  const closeFitnessChart = () => {\n    setChartOpen(false);\n    setSelectedSportForChart(null);\n  };\n\n  const getSortedPreferred = () => {\n    const preferred = getSportsByPreference().preferred;\n    \n    if (preferenceMode === 'simple') {\n      return preferred; \n    } else {\n      return preferred.sort((a, b) => {\n        const positionA = selectedSports.indexOf(a.id);\n        const positionB = selectedSports.indexOf(b.id);\n        return positionA - positionB;\n      });\n    }\n  };\n\n  const getRankingIcon = (rank) => {\n    const icons = ['🥇', '🥈', '🥉', '4️⃣', '5️⃣', '6️⃣', '7️⃣', '8️⃣', '9️⃣'];\n    return icons[rank - 1] || `${rank}`;\n  };\n\n  const getIntensityLabel = (level) => {\n    switch(level) {\n      case 1: return 'קל';\n      case 2: return 'בינוני';\n      case 3: return 'קשה';\n      default: return 'בינוני';\n    }\n  };\n\n  const getIntensityColor = (level) => {\n    switch(level) {\n      case 1: return '#4CAF50';\n      case 2: return '#FF9800';\n      case 3: return '#F44336';\n      default: return '#FF9800';\n    }\n  };\n\n  if (isLoading) {\n    return (\n      <div className=\"edit-user-container\">\n        <div className=\"content\">\n          <h2>טוען העדפות...</h2>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"edit-user-container\">\n      <button className=\"back-button\" onClick={() => navigate('/main-menu')}>חזרה</button>\n      \n      <div className=\"content\">\n        <h1>עריכת משתמש</h1>\n        <p>ערוך את העדפות הספורט והעצימות שלך</p>\n        \n\n        <div className=\"sports-section\">\n          <div className=\"preference-mode-selector\">\n            <button \n              className={isSimpleActive()}\n              onClick={changeToSimple}\n            >\n              אני אוהב הכל באותה מידה\n            </button>\n            \n            <button \n              className={isRankedActive()}\n              onClick={changeToRanked}\n            >\n              העדפה מדורגת\n            </button>\n          </div>\n                  \n          <div className=\"ranking-instructions\">\n            <p>📋 לחץ על הספורט כדי להוסיף/להסיר מהרשימה</p>\n            {preferenceMode === 'ranked' && (\n              <p>⬆️⬇️ השתמש בחצים כדי לשנות את סדר הדירוג</p>\n            )}\n            <p>📊 לחץ על כפתור הגרף בצד שמאל למעלה כדי לראות את מרכיבי הכושר של הספורט</p>\n          </div>\n\n          <div className=\"sports-container\">\n            <div className=\"sports-column\">\n              <h3>\n                {preferenceMode === 'ranked' ? '🏆 תחומים מדורגים' : 'תחומים מועדפים'}\n              </h3>\n              <div className=\"sports-list\">\n                {getSortedPreferred().map((sport, index) => {\n                  const rank = preferenceMode === 'ranked' ? index + 1 : null;\n                  return (\n                    <div key={sport.id} className=\"sport-item\">\n                      <button \n                        onClick={() => toggleSport(sport.id)}\n                        className={preferenceMode === 'ranked' ? 'ranked-sport-button' : 'sport-button'}\n                      >\n                        {preferenceMode === 'ranked' && (\n                          <div className=\"ranking-display\">\n                            <div className=\"rank-number\">{rank}</div>\n                            <div className=\"sport-image-container\">\n                              <img src={sport.image} alt={sport.name} className=\"sport-image\" />\n                              <div className=\"sport-name-overlay\">{sport.name}</div>\n                            </div>\n                          </div>\n                        )}\n                        {preferenceMode === 'simple' && (\n                          <div className=\"sport-image-container\">\n                            <img src={sport.image} alt={sport.name} className=\"sport-image\" />\n                            <div className=\"sport-name-overlay\">{sport.name}</div>\n                          </div>\n                        )}\n                      </button>\n                      {preferenceMode === 'ranked' && (\n                        <div className=\"ranking-controls\">\n                          <button \n                            className=\"rank-control-btn up-btn\"\n                            onClick={() => moveSportUp(sport.id)}\n                            disabled={index === 0}\n                            title=\"העבר למעלה\"\n                          >\n                            ⬆️\n                          </button>\n                          <button \n                            className=\"rank-control-btn down-btn\"\n                            onClick={() => moveSportDown(sport.id)}\n                            disabled={index === getSortedPreferred().length - 1}\n                            title=\"העבר למטה\"\n                          >\n                            ⬇️\n                          </button>\n                        </div>\n                      )}\n                      <button \n                        className=\"fitness-chart-btn\"\n                        onClick={() => openFitnessChart(sport)}\n                        title=\"צפה במדדי הכושר\"\n                      >\n                        📊\n                      </button>\n                    </div>\n                  );\n                })}\n              </div>\n            </div>\n            \n            <div className=\"sports-column\">\n              <h3>שאר האופציות</h3>\n              <div className=\"sports-list\">\n                {getSportsByPreference().others.map(sport => (\n                  <div key={sport.id} className=\"sport-item\">\n                    <div \n                      className=\"sport-image-container\"\n                      onClick={() => toggleSport(sport.id)}\n                      data-sport={sport.name === 'כדורסל' ? 'basketball' : ''}\n                    >\n                      <img src={sport.image} alt={sport.name} className=\"sport-image\" />\n                      <div className=\"sport-name-overlay\">{sport.name}</div>\n                    </div>\n                    <button \n                      className=\"fitness-chart-btn\"\n                      onClick={() => openFitnessChart(sport)}\n                      title=\"צפה במדדי הכושר\"\n                    >\n                      📊\n                    </button>\n                  </div>\n                ))}\n              </div>\n            </div>\n          </div>\n\n          <div className=\"summary-section\">\n            <div className=\"intensity-section\">\n              <h4>🔥 רמת עצימות מועדפת:</h4>\n              <div className=\"intensity-selector\">\n                {[1, 2, 3].map((level) => (\n                  <button\n                    key={level}\n                    className={`intensity-btn ${intensityLevel === level ? 'active' : ''}`}\n                    onClick={() => setIntensityLevel(level)}\n                    style={{\n                      backgroundColor: intensityLevel === level ? getIntensityColor(level) : 'rgba(255, 255, 255, 0.1)',\n                      borderColor: getIntensityColor(level)\n                    }}\n                  >\n                    <span className=\"intensity-number\">{level}</span>\n                    <span className=\"intensity-label\">{getIntensityLabel(level)}</span>\n                  </button>\n                ))}\n              </div>\n            </div>\n\n            {/* שדה חדש לבחירת אימון כוח */}\n            <div className=\"strength-training-section\">\n              <h4>💪 אימון כוח:</h4>\n              <div className=\"strength-training-option\">\n                <label className=\"strength-checkbox\">\n                  <input\n                    type=\"checkbox\"\n                    checked={wantsStrengthTraining}\n                    onChange={(e) => setWantsStrengthTraining(e.target.checked)}\n                  />\n                  <span className=\"checkbox-text\">אני רוצה לשלב תרגילי כוח באימון</span>\n                </label>\n              </div>\n              \n              {wantsStrengthTraining && (\n                <InteractiveBodySelector\n                  selectedAreas={selectedBodyAreas}\n                  onAreasChange={setSelectedBodyAreas}\n                />\n              )}\n            </div>\n            \n            {preferenceMode === 'ranked' && selectedSports.length > 0 && (\n              <div className=\"ranking-summary\">\n                <h4>סדר הדירוג שלך:</h4>\n                <div className=\"ranking-list\">\n                  {getSortedPreferred().map((sport, index) => (\n                    <div key={sport.id} className=\"ranking-item\">\n                      <span className=\"rank-badge\">{getRankingIcon(index + 1)}</span>\n                      <span className=\"sport-icon\">{sport.icon}</span>\n                      <span className=\"sport-name\">{sport.name}</span>\n                    </div>\n                  ))}\n                </div>\n              </div>\n            )}\n\n            {saveMessage && (\n              <>\n                {/* רקע שחור לגמרי */}\n                <div style={{\n                  position: 'fixed',\n                  top: 0,\n                  left: 0,\n                  width: '100%',\n                  height: '100%',\n                  backgroundColor: 'rgba(0, 0, 0, 0.9)',\n                  zIndex: 999\n                }}></div>\n                \n                {/* תיבת ההודעה */}\n                <div className=\"save-message\" style={{\n                  position: 'fixed',\n                  top: '50%',\n                  left: '50%',\n                  transform: 'translate(-50%, -50%)',\n                  backgroundColor: '#fff',\n                  color: '#000',\n                  padding: '20px 30px',\n                  borderRadius: '12px',\n                  border: '2px solid #8b5cf6',\n                  boxShadow: '0 4px 20px rgba(0, 0, 0, 0.5)',\n                  fontSize: '18px',\n                  fontWeight: 'bold',\n                  zIndex: 1000,\n                  textAlign: 'center',\n                  animation: 'popup 0.3s ease-out'\n                }}>\n                  {saveMessage}\n                </div>\n              </>\n            )}\n\n            <div style={{ textAlign: 'center', marginTop: '30px' }}>\n              <button \n                onClick={() => {\n                  console.log('🔘 כפתור שמירה נלחץ!');\n                  saveUserPreferences();\n                }}\n                disabled={isSaving}\n                style={{\n                  width: '250px',\n                  height: '55px',\n                  fontSize: '18px',\n                  fontWeight: 'bold',\n                  background: selectedSports.length > 0 ? 'linear-gradient(45deg, #b38ed8, #9c7dc4)' : 'rgba(255, 255, 255, 0.2)',\n                  color: selectedSports.length > 0 ? '#ffffff' : 'rgba(255, 255, 255, 0.5)',\n                  border: 'none',\n                  borderRadius: '12px',\n                  cursor: selectedSports.length > 0 && !isSaving ? 'pointer' : 'not-allowed',\n                  transition: 'all 0.3s ease',\n                  opacity: selectedSports.length > 0 && !isSaving ? 1 : 0.6\n                }}\n              >\n                {isSaving ? 'שומר...' : 'שמור והמשך'}\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n      \n      {/* רכיב גרף מדדי הכושר */}\n      <FitnessMetricsChart\n        sportName={selectedSportForChart?.name}\n        sportId={selectedSportForChart?.id}\n        isOpen={chartOpen}\n        onClose={closeFitnessChart}\n      />\n    </div>\n  );\n}\n\nexport default EditUser;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}