# 📧 הגדרת מערכת אימיילים - WOLFit

## מה הוספנו:

### ✅ **שליחת אימייל הזמנת אימון**
- נשלח מיד אחרי הזמנת אימון
- כולל כל פרטי האימון: תאריך, שעה, מגרשים, ספורטים
- עיצוב מקצועי עם לוגו WOLFit

### ✅ **מערכת תזכורות אוטומטית**
- נשלח שעה וחצי לפני כל אימון
- בדיקה אוטומטית כל דקה
- כולל לוח זמנים מפורט

## 🔧 הגדרה נדרשת:

### 1. **הגדרת Gmail App Password**

1. **היכנס ל-Gmail שלך**
2. **לך להגדרות חשבון Google**
3. **אבטחה → אימות דו-שלבי** (חובה!)
4. **סיסמאות אפליקציה**
5. **צור סיסמת אפליקציה חדשה** עבור "WOLFit"
6. **העתק את הסיסמה** (16 תווים)

### 2. **עדכון קובץ .env**

צור קובץ `.env` בתיקיית `backend/` עם התוכן הבא:

```env
# Database Configuration
DB_HOST=localhost
DB_PORT=5432
DB_NAME=Wolfit
DB_USER=postgres
DB_PASSWORD=9526

# Server Configuration
PORT=3001
NODE_ENV=development

# Google OAuth Configuration
GOOGLE_CLIENT_ID=386514389479-impprp7mgpalddmuflkvev582v8idjug.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your_google_client_secret_here

# Email Configuration (Gmail SMTP)
EMAIL_USER=your_gmail@gmail.com
EMAIL_PASS=your_16_character_app_password
EMAIL_FROM=WOLFit <your_gmail@gmail.com>
```

### 3. **החלף את הערכים:**
- `your_gmail@gmail.com` → המייל שלך
- `your_16_character_app_password` → סיסמת האפליקציה
- `your_google_client_secret_here` → המפתח הסודי של Google

## 🚀 הפעלה:

1. **הפעל את השרת:**
   ```bash
   cd backend
   npm start
   ```

2. **השרת יתחיל עם:**
   - ✅ שירות תזכורות פועל
   - ✅ בדיקה כל דקה לאימונים
   - ✅ שליחת אימיילים אוטומטית

## 📧 דוגמאות אימיילים:

### **אימייל הזמנת אימון:**
```
נושא: 🏋️ WOLFit - האימון שלך הוזמן! יום ראשון, 15 בדצמבר 2024 ב-10:00

שלום אורי! 👋

האימון שלך הוזמן בהצלחה! הנה הפרטים:

📅 פרטי האימון
תאריך: יום ראשון, 15 בדצמבר 2024
שעה: 10:00 - 11:30
משך: 90 דקות

🏟️ לוח זמנים מפורט
10:00 - מגרש כדורסל | כדורסל ✅
10:15 - מגרש כדורגל | כדורגל ✅
10:30 - מגרש כדורסל | כדורסל ✅
...

💪 מוכנים לאימון?
נשמח לראות אותך באימון!
תזכורת תשלח לך שעה וחצי לפני האימון.
```

### **אימייל תזכורת:**
```
נושא: ⏰ WOLFit - תזכורת! האימון שלך מתחיל בעוד שעה וחצי - יום ראשון, 15 בדצמבר 2024 ב-10:00

שלום אורי! ⏰

האימון שלך מתחיל בעוד שעה וחצי! הנה הפרטים:

🚨 תזכורת - האימון מתחיל בקרוב!
תאריך: יום ראשון, 15 בדצמבר 2024
שעה: 10:00 - 11:30
משך: 90 דקות

🏟️ לוח זמנים מפורט
[אותו תוכן כמו באימייל ההזמנה]

💪 מוכנים לאימון?
אל תשכחו להביא מים וטוב לב!
נשמח לראות אתכם באימון.
```

## 🔍 בדיקות:

### **בדיקת שליחת אימייל הזמנה:**
1. הזמן אימון חדש
2. בדוק את המייל שלך
3. אמור לקבל אימייל מיד

### **בדיקת תזכורות:**
1. הזמן אימון למחר
2. המתן שעה וחצי לפני השעה
3. אמור לקבל תזכורת

## 🛠️ פתרון בעיות:

### **"Authentication failed":**
- וודא שהפעלת אימות דו-שלבי
- וודא שהשתמשת בסיסמת אפליקציה (לא סיסמה רגילה)

### **"Connection timeout":**
- בדוק חיבור לאינטרנט
- וודא שהגדרות Gmail נכונות

### **אימיילים לא מגיעים:**
- בדוק תיקיית ספאם
- וודא שהמייל נכון במסד הנתונים

## 📊 לוגים:

השרת יראה לוגים כמו:
```
📧 שולח אימייל הזמנת אימון...
✅ אימייל הזמנת אימון נשלח בהצלחה
🔍 בודק תזכורות...
📧 נמצאו 2 הזמנות לתזכורת
✅ תזכורת נשלחה בהצלחה למשתמש אורי
```

## 🎉 זהו!

המערכת מוכנה! כל הזמנת אימון תשלח אימייל, וכל אימון יקבל תזכורת שעה וחצי לפני.

