# 📧 הוראות הגדרת אימייל - WOLFit

## 🔧 הגדרת Gmail SMTP

### שלב 1: יצירת App Password ב-Gmail

1. **היכנס לחשבון Gmail שלך**
2. **לך להגדרות חשבון Google:**
   - לחץ על תמונת הפרופיל שלך (פינה ימנית עליונה)
   - בחר "נהל את החשבון שלי"
   - לחץ על "אבטחה" בתפריט השמאלי

3. **הפעל אימות דו-שלבי:**
   - אם לא מופעל, הפעל "אימות דו-שלבי"
   - זה נדרש ליצירת App Password

4. **צור App Password:**
   - גלול למטה עד "סיסמאות אפליקציה"
   - לחץ על "סיסמאות אפליקציה"
   - בחר "דואר" ו"מחשב אחר"
   - העתק את הסיסמה שנוצרה (16 תווים)

### שלב 2: עדכון קובץ .env

עדכן את הקובץ `backend/.env` עם הפרטים שלך:

```env
# Email Configuration (Gmail SMTP)
EMAIL_USER=your_gmail@gmail.com
EMAIL_PASS=your_16_character_app_password
EMAIL_FROM=WOLFit <your_gmail@gmail.com>
```

**דוגמה:**
```env
EMAIL_USER=omri.wolfit@gmail.com
EMAIL_PASS=abcd efgh ijkl mnop
EMAIL_FROM=WOLFit <omri.wolfit@gmail.com>
```

### שלב 3: הפעלת השרת מחדש

```bash
cd backend
npm start
```

## 🧪 בדיקת הגדרות

### בדיקה 1: לוגים בשרת
כשהשרת מתחיל, תראה:
```
✅ Transporter אימייל נוצר בהצלחה
```

אם תראה:
```
⚠️ הגדרות אימייל לא מוגדרות: EMAIL_USER, EMAIL_PASS, EMAIL_FROM
```
זה אומר שההגדרות לא נכונות.

### בדיקה 2: הזמנת אימון
1. הזמן אימון חדש
2. בדוק בלוגים:
   ```
   ✅ אימייל הזמנת אימון נשלח: <message-id>
   ```

### בדיקה 3: ביטול אימון
1. בטל אימון קיים
2. בדוק בלוגים:
   ```
   ✅ אימייל ביטול אימון נשלח: <message-id>
   ```

### בדיקה 4: תזכורות
התזכורות נשלחות אוטומטית שעה וחצי לפני כל אימון.

## 🚨 פתרון בעיות נפוצות

### שגיאה: "Missing credentials for PLAIN"
- **סיבה:** EMAIL_PASS לא מוגדר נכון
- **פתרון:** ודא שהעתקת את App Password בדיוק (16 תווים)

### שגיאה: "EAUTH"
- **סיבה:** אימות נכשל
- **פתרון:** 
  1. ודא שאימות דו-שלבי מופעל
  2. צור App Password חדש
  3. ודא שהסיסמה לא מכילה רווחים

### שגיאה: "Invalid login"
- **סיבה:** EMAIL_USER לא נכון
- **פתרון:** ודא שכתובת האימייל נכונה

### אימיילים לא מגיעים
1. **בדוק תיקיית Spam**
2. **ודא שהכתובת נכונה**
3. **בדוק את הלוגים בשרת**

## 📱 הגדרות נוספות

### שינוי תדירות תזכורות
בקובץ `reminderService.js`, שורה 140:
```javascript
setInterval(checkAndSendReminders, 60 * 1000); // 60 שניות
```

### שינוי זמן תזכורת
בקובץ `reminderService.js`, שורה 26:
```javascript
const reminderTime = new Date(now.getTime() + (90 * 60 * 1000)); // 90 דקות
```

## 🔒 אבטחה

- **לעולם אל תעלה את קובץ .env לגיט!**
- **השתמש בסיסמאות חזקות**
- **הגבל גישה לקובץ .env**

## 📞 תמיכה

אם יש בעיות:
1. בדוק את הלוגים בשרת
2. ודא שהגדרות Gmail נכונות
3. נסה App Password חדש
